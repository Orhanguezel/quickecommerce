(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,512305,e=>{"use strict";let t;var n,r,l,i,a,o,s,d,u,c,f,h,p,g,m,v,b,y,x,w=e.i(843476),C=e.i(271645),S=e.i(653145),D=e.i(994814),E=e.i(157616),j=e.i(801529);e.i(16260);var k=e.i(817478);e.i(614271);var _=e.i(515288),N=e.i(793479),M=e.i(699375),I=e.i(164566),R=e.i(124353),O=e.i(681307);O.z.object({id:O.z.string()});let L={name_df:O.z.string().min(2,"Menu name must be at least 2 characters long").max(255,"The title field must not be greater than 255 characters."),pages:O.z.string().optional(),url:O.z.string().optional(),icon:O.z.string().optional()},A=j.default.filter(e=>"df"!==e.id).reduce((e,t)=>(e[`name_${t.id}`]=O.z.string().optional(),e),{}),P=O.z.object({...L,...A});var T=e.i(536719),z=e.i(560989),B=e.i(861745),F=e.i(948148),U=e.i(618566),$=e.i(769542),W=e.i(519455),X=e.i(257428);let Y=({pages:e,isPagePending:t,onAddSelected:n})=>{let[r,l]=(0,C.useState)([]);return(0,w.jsxs)(_.Card,{className:"mt-4",children:[(0,w.jsx)("h3",{className:"font-medium p-4 shadow-custom",children:"Default Pages"}),(0,w.jsx)(_.CardContent,{className:"p-4",children:t?(0,w.jsx)("div",{children:(0,w.jsx)($.default,{customClass:"my-10",size:"medium"})}):(0,w.jsxs)("div",{className:"space-y-4",children:[(0,w.jsx)("div",{className:"max-h-60 overflow-y-auto space-y-3",children:e.map(e=>(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)(X.Checkbox,{id:`default-page-${e.value}`,checked:r.includes(e.value),onCheckedChange:()=>{var t;return t=e.value,void l(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])}}),(0,w.jsx)("label",{htmlFor:`default-page-${e.value}`,className:"px-2 text-sm",children:e.label})]},e.value))}),(0,w.jsx)(W.Button,{type:"button",onClick:()=>{n(e.filter(e=>r.includes(e.value))),l([])},className:"mt-3 app-button",children:"Add Pages to Menu"})]})})]})},K=({onAddLink:e})=>{let[t,n]=(0,C.useState)(""),[r,l]=(0,C.useState)("");return(0,w.jsxs)(_.Card,{className:"mt-4 ",children:[(0,w.jsx)("h3",{className:"font-medium p-4 shadow-custom",children:"Add Custom Link"}),(0,w.jsxs)(_.CardContent,{className:"space-y-3 p-4",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Title"}),(0,w.jsx)(N.Input,{value:t,onChange:e=>n(e.target.value),placeholder:"Menu item title",className:"app-input"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{className:"block text-sm font-medium mb-1",children:"URL"}),(0,w.jsx)(N.Input,{value:r,onChange:e=>l(e.target.value),placeholder:"https://example.com",className:"app-input"})]}),(0,w.jsx)(W.Button,{onClick:i=>{i.preventDefault(),t.trim()&&(e(t,r),n(""),l(""))},type:"button",className:"app-button",children:"Add Link to Menu"})]})]})},H=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=function e(t){var n,r,l="";if("string"==typeof t||"number"==typeof t)l+=t;else if("object"==typeof t)if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(r=e(t[n]))&&(l&&(l+=" "),l+=r);else for(n in t)t[n]&&(l&&(l+=" "),l+=n);return l}(e))&&(r&&(r+=" "),r+=t);return r};var J=e.i(174080);let V="u">typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function G(e){let t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function q(e){return"nodeType"in e}function Z(e){var t,n;return e?G(e)?e:q(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function Q(e){let{Document:t}=Z(e);return e instanceof t}function ee(e){return!G(e)&&e instanceof Z(e).HTMLElement}function et(e){return e instanceof Z(e).SVGElement}function en(e){return e?G(e)?e.document:q(e)?Q(e)?e:ee(e)||et(e)?e.ownerDocument:document:document:document}let er=V?C.useLayoutEffect:C.useEffect;function el(e){let t=(0,C.useRef)(e);return er(()=>{t.current=e}),(0,C.useCallback)(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}function ei(e,t){void 0===t&&(t=[e]);let n=(0,C.useRef)(e);return er(()=>{n.current!==e&&(n.current=e)},t),n}function ea(e,t){let n=(0,C.useRef)();return(0,C.useMemo)(()=>{let t=e(n.current);return n.current=t,t},[...t])}function eo(e){let t=el(e),n=(0,C.useRef)(null),r=(0,C.useCallback)(e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e},[]);return[n,r]}function es(e){let t=(0,C.useRef)();return(0,C.useEffect)(()=>{t.current=e},[e]),t.current}let ed={};function eu(e,t){return(0,C.useMemo)(()=>{if(t)return t;let n=null==ed[e]?0:ed[e]+1;return ed[e]=n,e+"-"+n},[e,t])}function ec(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),l=1;l<n;l++)r[l-1]=arguments[l];return r.reduce((t,n)=>{for(let[r,l]of Object.entries(n)){let n=t[r];null!=n&&(t[r]=n+e*l)}return t},{...t})}}let ef=ec(1),eh=ec(-1);function ep(e){if(!e)return!1;let{KeyboardEvent:t}=Z(e.target);return t&&e instanceof t}function eg(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=Z(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}let em=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[em.Translate.toString(e),em.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),ev="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]",eb={display:"none"};function ey(e){let{id:t,value:n}=e;return C.default.createElement("div",{id:t,style:eb},n)}function ex(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;return C.default.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":r,"aria-atomic":!0},n)}let ew=(0,C.createContext)(null),eC={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},eS={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function eD(e){var t;let n,{announcements:r=eS,container:l,hiddenTextDescribedById:i,screenReaderInstructions:a=eC}=e,{announce:o,announcement:s}=function(){let[e,t]=(0,C.useState)("");return{announce:(0,C.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),d=eu("DndLiveRegion"),[u,c]=(0,C.useState)(!1);if((0,C.useEffect)(()=>{c(!0)},[]),t=(0,C.useMemo)(()=>({onDragStart(e){let{active:t}=e;o(r.onDragStart({active:t}))},onDragMove(e){let{active:t,over:n}=e;r.onDragMove&&o(r.onDragMove({active:t,over:n}))},onDragOver(e){let{active:t,over:n}=e;o(r.onDragOver({active:t,over:n}))},onDragEnd(e){let{active:t,over:n}=e;o(r.onDragEnd({active:t,over:n}))},onDragCancel(e){let{active:t,over:n}=e;o(r.onDragCancel({active:t,over:n}))}}),[o,r]),n=(0,C.useContext)(ew),(0,C.useEffect)(()=>{if(!n)throw Error("useDndMonitor must be used within a children of <DndContext>");return n(t)},[t,n]),!u)return null;let f=C.default.createElement(C.default.Fragment,null,C.default.createElement(ey,{id:i,value:a.draggable}),C.default.createElement(ex,{id:d,announcement:s}));return l?(0,J.createPortal)(f,l):f}function eE(){}(n=c||(c={})).DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable";let ej=Object.freeze({x:0,y:0});function ek(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function e_(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function eN(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}let eM=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,l=eN(t,t.left,t.top),i=[];for(let e of r){let{id:t}=e,r=n.get(t);if(r){var a;let n=(a=eN(r),Math.sqrt(Math.pow(a.x-l.x,2)+Math.pow(a.y-l.y,2)));i.push({id:t,data:{droppableContainer:e,value:n}})}}return i.sort(ek)},eI=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e,l=[];for(let e of r){let{id:r}=e,i=n.get(r);if(i){let n=function(e,t){let n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height);if(r<l&&n<i){let a=t.width*t.height,o=e.width*e.height,s=(l-r)*(i-n);return Number((s/(a+o-s)).toFixed(4))}return 0}(i,t);n>0&&l.push({id:r,data:{droppableContainer:e,value:n}})}}return l.sort(e_)};function eR(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ej}let eO=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((e,t)=>({...e,top:e.top+ +t.y,bottom:e.bottom+ +t.y,left:e.left+ +t.x,right:e.right+ +t.x}),{...e})};function eL(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}let eA={ignoreTransform:!1};function eP(e,t){void 0===t&&(t=eA);let n=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:r}=Z(e).getComputedStyle(e);t&&(n=function(e,t,n){let r=eL(t);if(!r)return e;let{scaleX:l,scaleY:i,x:a,y:o}=r,s=e.left-a-(1-l)*parseFloat(n),d=e.top-o-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=l?e.width/l:e.width,c=i?e.height/i:e.height;return{width:u,height:c,top:d,right:s+u,bottom:d+c,left:s}}(n,t,r))}let{top:r,left:l,width:i,height:a,bottom:o,right:s}=n;return{top:r,left:l,width:i,height:a,bottom:o,right:s}}function eT(e){return eP(e,{ignoreTransform:!0})}function ez(e,t){let n=[];return e?function r(l){var i,a;let o;if(null!=t&&n.length>=t||!l)return n;if(Q(l)&&null!=l.scrollingElement&&!n.includes(l.scrollingElement))return n.push(l.scrollingElement),n;if(!ee(l)||et(l)||n.includes(l))return n;let s=Z(e).getComputedStyle(l);return(l!==e&&(void 0===(i=s)&&(i=Z(l).getComputedStyle(l)),o=/(auto|scroll|overlay)/,["overflow","overflowX","overflowY"].some(e=>{let t=i[e];return"string"==typeof t&&o.test(t)}))&&n.push(l),void 0===(a=s)&&(a=Z(l).getComputedStyle(l)),"fixed"===a.position)?n:r(l.parentNode)}(e):n}function eB(e){let[t]=ez(e,1);return null!=t?t:null}function eF(e){return V&&e?G(e)?e:q(e)?Q(e)||e===en(e).scrollingElement?window:ee(e)?e:null:null:null}function eU(e){return G(e)?e.scrollX:e.scrollLeft}function e$(e){return G(e)?e.scrollY:e.scrollTop}function eW(e){return{x:eU(e),y:e$(e)}}function eX(e){return!!V&&!!e&&e===document.scrollingElement}function eY(e){let t={x:0,y:0},n=eX(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},l=e.scrollTop<=t.y,i=e.scrollLeft<=t.x;return{isTop:l,isLeft:i,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}(r=f||(f={}))[r.Forward=1]="Forward",r[r.Backward=-1]="Backward";let eK={x:.2,y:.2};function eH(e){return e.reduce((e,t)=>ef(e,eW(t)),ej)}function eJ(e,t){if(void 0===t&&(t=eP),!e)return;let{top:n,left:r,bottom:l,right:i}=t(e);eB(e)&&(l<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}let eV=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+eU(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+e$(t),0)}]];class eG{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=ez(t),r=eH(n);for(const[t,l,i]of(this.rect={...e},this.width=e.width,this.height=e.height,eV))for(const e of l)Object.defineProperty(this,e,{get:()=>{let l=i(n),a=r[t]-l;return this.rect[e]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class eq{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function eZ(e,t){let n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}function eQ(e){e.preventDefault()}function e0(e){e.stopPropagation()}(l=h||(h={})).Click="click",l.DragStart="dragstart",l.Keydown="keydown",l.ContextMenu="contextmenu",l.Resize="resize",l.SelectionChange="selectionchange",l.VisibilityChange="visibilitychange",(i=p||(p={})).Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab";let e1={start:[p.Space,p.Enter],cancel:[p.Esc],end:[p.Space,p.Enter,p.Tab]},e2=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case p.Right:return{...n,x:n.x+25};case p.Left:return{...n,x:n.x-25};case p.Down:return{...n,y:n.y+25};case p.Up:return{...n,y:n.y-25}}};class e4{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new eq(en(t)),this.windowListeners=new eq(Z(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(h.Resize,this.handleCancel),this.windowListeners.add(h.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(h.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&eJ(n),t(ej)}handleKeyDown(e){if(ep(e)){let{active:t,context:n,options:r}=this.props,{keyboardCodes:l=e1,coordinateGetter:i=e2,scrollBehavior:a="smooth"}=r,{code:o}=e;if(l.end.includes(o))return void this.handleEnd(e);if(l.cancel.includes(o))return void this.handleCancel(e);let{collisionRect:s}=n.current,d=s?{x:s.left,y:s.top}:ej;this.referenceCoordinates||(this.referenceCoordinates=d);let u=i(e,{active:t,context:n.current,currentCoordinates:d});if(u){let t=eh(u,d),r={x:0,y:0},{scrollableAncestors:l}=n.current;for(let n of l){let l=e.code,{isTop:i,isRight:o,isLeft:s,isBottom:d,maxScroll:c,minScroll:f}=eY(n),h=function(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:n,right:r,bottom:l}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:l,width:e.clientWidth,height:e.clientHeight}}(n),g={x:Math.min(l===p.Right?h.right-h.width/2:h.right,Math.max(l===p.Right?h.left:h.left+h.width/2,u.x)),y:Math.min(l===p.Down?h.bottom-h.height/2:h.bottom,Math.max(l===p.Down?h.top:h.top+h.height/2,u.y))},m=l===p.Right&&!o||l===p.Left&&!s,v=l===p.Down&&!d||l===p.Up&&!i;if(m&&g.x!==u.x){let e=n.scrollLeft+t.x,i=l===p.Right&&e<=c.x||l===p.Left&&e>=f.x;if(i&&!t.y)return void n.scrollTo({left:e,behavior:a});i?r.x=n.scrollLeft-e:r.x=l===p.Right?n.scrollLeft-c.x:n.scrollLeft-f.x,r.x&&n.scrollBy({left:-r.x,behavior:a});break}if(v&&g.y!==u.y){let e=n.scrollTop+t.y,i=l===p.Down&&e<=c.y||l===p.Up&&e>=f.y;if(i&&!t.x)return void n.scrollTo({top:e,behavior:a});i?r.y=n.scrollTop-e:r.y=l===p.Down?n.scrollTop-c.y:n.scrollTop-f.y,r.y&&n.scrollBy({top:-r.y,behavior:a});break}}this.handleMove(e,ef(eh(u,this.referenceCoordinates),r))}}}handleMove(e,t){let{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function e5(e){return!!(e&&"distance"in e)}function e9(e){return!!(e&&"delay"in e)}e4.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=e1,onActivation:l}=t,{active:i}=n,{code:a}=e.nativeEvent;if(r.start.includes(a)){let t=i.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==l||l({event:e.nativeEvent}),!0)}return!1}}];class e6{constructor(e,t,n){var r;void 0===n&&(n=function(e){let{EventTarget:t}=Z(e);return e instanceof t?e:en(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:l}=e,{target:i}=l;this.props=e,this.events=t,this.document=en(i),this.documentListeners=new eq(this.document),this.listeners=new eq(n),this.windowListeners=new eq(Z(i)),this.initialCoordinates=null!=(r=eg(l))?r:ej,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(h.Resize,this.handleCancel),this.windowListeners.add(h.DragStart,eQ),this.windowListeners.add(h.VisibilityChange,this.handleCancel),this.windowListeners.add(h.ContextMenu,eQ),this.documentListeners.add(h.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(e9(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(e5(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(h.Click,e0,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(h.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;let{activated:n,initialCoordinates:r,props:l}=this,{onMove:i,options:{activationConstraint:a}}=l;if(!r)return;let o=null!=(t=eg(e))?t:ej,s=eh(r,o);if(!n&&a){if(e5(a)){if(null!=a.tolerance&&eZ(s,a.tolerance))return this.handleCancel();if(eZ(s,a.distance))return this.handleStart()}return e9(a)&&eZ(s,a.tolerance)?this.handleCancel():void this.handlePending(a,s)}e.cancelable&&e.preventDefault(),i(o)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===p.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}let e3={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class e7 extends e6{constructor(e){const{event:t}=e;super(e,e3,en(t.target))}}e7.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!!n.isPrimary&&0===n.button&&(null==r||r({event:n}),!0)}}];(a=g||(g={}))[a.RightClick=2]="RightClick";(o=m||(m={}))[o.Pointer=0]="Pointer",o[o.DraggableRect=1]="DraggableRect",(s=v||(v={}))[s.TreeOrder=0]="TreeOrder",s[s.ReversedTreeOrder=1]="ReversedTreeOrder";let e8={x:{[f.Backward]:!1,[f.Forward]:!1},y:{[f.Backward]:!1,[f.Forward]:!1}};(d=b||(b={}))[d.Always=0]="Always",d[d.BeforeDragging=1]="BeforeDragging",d[d.WhileDragging=2]="WhileDragging",(y||(y={})).Optimized="optimized";let te=new Map;function tt(e,t){return ea(n=>e?n||("function"==typeof t?t(e):e):null,[t,e])}function tn(e){let{callback:t,disabled:n}=e,r=el(t),l=(0,C.useMemo)(()=>{if(n||"u"<typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:e}=window;return new e(r)},[n]);return(0,C.useEffect)(()=>()=>null==l?void 0:l.disconnect(),[l]),l}function tr(e){return new eG(eP(e),e)}function tl(e,t,n){void 0===t&&(t=tr);let[r,l]=(0,C.useState)(null);function i(){l(r=>{if(!e)return null;if(!1===e.isConnected){var l;return null!=(l=null!=r?r:n)?l:null}let i=t(e);return JSON.stringify(r)===JSON.stringify(i)?r:i})}let a=function(e){let{callback:t,disabled:n}=e,r=el(t),l=(0,C.useMemo)(()=>{if(n||"u"<typeof window||void 0===window.MutationObserver)return;let{MutationObserver:e}=window;return new e(r)},[r,n]);return(0,C.useEffect)(()=>()=>null==l?void 0:l.disconnect(),[l]),l}({callback(t){if(e)for(let n of t){let{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){i();break}}}}),o=tn({callback:i});return er(()=>{i(),e?(null==o||o.observe(e),null==a||a.observe(document.body,{childList:!0,subtree:!0})):(null==o||o.disconnect(),null==a||a.disconnect())},[e]),r}let ti=[];function ta(e,t){void 0===t&&(t=[]);let n=(0,C.useRef)(null);return(0,C.useEffect)(()=>{n.current=null},t),(0,C.useEffect)(()=>{let t=e!==ej;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)},[e]),n.current?eh(e,n.current):ej}function to(e){return(0,C.useMemo)(()=>{let t,n;return e?(t=e.innerWidth,{top:0,left:0,right:t,bottom:n=e.innerHeight,width:t,height:n}):null},[e])}let ts=[];function td(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return ee(t)?t:e}let tu=[{sensor:e7,options:{}},{sensor:e4,options:{}}],tc={current:{}},tf={draggable:{measure:eT},droppable:{measure:eT,strategy:b.WhileDragging,frequency:y.Optimized},dragOverlay:{measure:eP}};class th extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}let tp={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new th,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:eE},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:tf,measureDroppableContainers:eE,windowRect:null,measuringScheduled:!1},tg={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:eE,draggableNodes:new Map,over:null,measureDroppableContainers:eE},tm=(0,C.createContext)(tg),tv=(0,C.createContext)(tp);function tb(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new th}}}function ty(e,t){switch(t.type){case c.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case c.DragMove:if(null==e.draggable.active)return e;return{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case c.DragEnd:case c.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case c.RegisterDroppable:{let{element:n}=t,{id:r}=n,l=new th(e.droppable.containers);return l.set(r,n),{...e,droppable:{...e.droppable,containers:l}}}case c.SetDroppableDisabled:{let{id:n,key:r,disabled:l}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;let a=new th(e.droppable.containers);return a.set(n,{...i,disabled:l}),{...e,droppable:{...e.droppable,containers:a}}}case c.UnregisterDroppable:{let{id:n,key:r}=t,l=e.droppable.containers.get(n);if(!l||r!==l.key)return e;let i=new th(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function tx(e){let{disabled:t}=e,{active:n,activatorEvent:r,draggableNodes:l}=(0,C.useContext)(tm),i=es(r),a=es(null==n?void 0:n.id);return(0,C.useEffect)(()=>{if(!t&&!r&&i&&null!=a){if(!ep(i)||document.activeElement===i.target)return;let e=l.get(a);if(!e)return;let{activatorNode:t,node:n}=e;(t.current||n.current)&&requestAnimationFrame(()=>{for(let e of[t.current,n.current]){if(!e)continue;let t=e.matches(ev)?e:e.querySelector(ev);if(t){t.focus();break}}})}},[r,t,l,a,i]),null}function tw(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...r}),n):n}let tC=(0,C.createContext)({...ej,scaleX:1,scaleY:1});(u=x||(x={}))[u.Uninitialized=0]="Uninitialized",u[u.Initializing=1]="Initializing",u[u.Initialized=2]="Initialized";let tS=(0,C.memo)(function(e){var t,n,r,l,i,a,o,s;let d,u,h,p,g,y,w,S,{id:D,accessibility:E,autoScroll:j=!0,children:k,sensors:_=tu,collisionDetection:N=eI,measuring:M,modifiers:I,...R}=e,[O,L]=(0,C.useReducer)(ty,void 0,tb),[A,P]=function(){let[e]=(0,C.useState)(()=>new Set),t=(0,C.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,C.useCallback)(t=>{let{type:n,event:r}=t;e.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)})},[e]),t]}(),[T,z]=(0,C.useState)(x.Uninitialized),B=T===x.Initialized,{draggable:{active:F,nodes:U,translate:$},droppable:{containers:W}}=O,X=null!=F?U.get(F):null,Y=(0,C.useRef)({initial:null,translated:null}),K=(0,C.useMemo)(()=>{var e;return null!=F?{id:F,data:null!=(e=null==X?void 0:X.data)?e:tc,rect:Y}:null},[F,X]),H=(0,C.useRef)(null),[G,q]=(0,C.useState)(null),[Q,et]=(0,C.useState)(null),en=ei(R,Object.values(R)),el=eu("DndDescribedBy",D),ed=(0,C.useMemo)(()=>W.getEnabled(),[W]),ec=(0,C.useMemo)(()=>({draggable:{...tf.draggable,...null==M?void 0:M.draggable},droppable:{...tf.droppable,...null==M?void 0:M.droppable},dragOverlay:{...tf.dragOverlay,...null==M?void 0:M.dragOverlay}}),[null==M?void 0:M.draggable,null==M?void 0:M.droppable,null==M?void 0:M.dragOverlay]),{droppableRects:eh,measureDroppableContainers:ep,measuringScheduled:em}=function(e,t){let{dragging:n,dependencies:r,config:l}=t,[i,a]=(0,C.useState)(null),{frequency:o,measure:s,strategy:d}=l,u=(0,C.useRef)(e),c=function(){switch(d){case b.Always:return!1;case b.BeforeDragging:return n;default:return!n}}(),f=ei(c),h=(0,C.useCallback)(function(e){void 0===e&&(e=[]),f.current||a(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[f]),p=(0,C.useRef)(null),g=ea(t=>{if(c&&!n)return te;if(!t||t===te||u.current!==e||null!=i){let t=new Map;for(let n of e){if(!n)continue;if(i&&i.length>0&&!i.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}let e=n.node.current,r=e?new eG(s(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t},[e,i,n,c,s]);return(0,C.useEffect)(()=>{u.current=e},[e]),(0,C.useEffect)(()=>{c||h()},[n,c]),(0,C.useEffect)(()=>{i&&i.length>0&&a(null)},[JSON.stringify(i)]),(0,C.useEffect)(()=>{c||"number"!=typeof o||null!==p.current||(p.current=setTimeout(()=>{h(),p.current=null},o))},[o,c,h,...r]),{droppableRects:g,measureDroppableContainers:h,measuringScheduled:null!=i}}(ed,{dragging:B,dependencies:[$.x,$.y],config:ec.droppable}),ev=ea(e=>{var t;return null==F?null:null!=(t=null!=g?g:e)?t:null},[g=(p=null!=F?U.get(F):void 0)?p.node.current:null,F]),eb=(0,C.useMemo)(()=>Q?eg(Q):null,[Q]),ey=(d=(null==G?void 0:G.autoScrollEnabled)===!1,u="object"==typeof j?!1===j.enabled:!1===j,h=B&&!d&&!u,"object"==typeof j?{...j,enabled:h}:{enabled:h}),ex=tt(ev,ec.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:r,config:l=!0}=e,i=(0,C.useRef)(!1),{x:a,y:o}="boolean"==typeof l?{x:l,y:l}:l;er(()=>{if(!a&&!o||!t){i.current=!1;return}if(i.current||!r)return;let e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;let l=eR(n(e),r);if(a||(l.x=0),o||(l.y=0),i.current=!0,Math.abs(l.x)>0||Math.abs(l.y)>0){let t=eB(e);t&&t.scrollBy({top:l.y,left:l.x})}},[t,a,o,r,n])}({activeNode:null!=F?U.get(F):null,config:ey.layoutShiftCompensation,initialRect:ex,measure:ec.draggable.measure});let eC=tl(ev,ec.draggable.measure,ex),eS=tl(ev?ev.parentElement:null),eE=(0,C.useRef)({activatorEvent:null,active:null,activeNode:ev,collisionRect:null,collisions:null,droppableRects:eh,draggableNodes:U,draggingNode:null,draggingNodeRect:null,droppableContainers:W,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ek=W.getNodeFor(null==(t=eE.current.over)?void 0:t.id),e_=function(e){let{measure:t}=e,[n,r]=(0,C.useState)(null),l=tn({callback:(0,C.useCallback)(e=>{for(let{target:n}of e)if(ee(n)){r(e=>{let r=t(n);return e?{...e,width:r.width,height:r.height}:r});break}},[t])}),[i,a]=eo((0,C.useCallback)(e=>{let n=td(e);null==l||l.disconnect(),n&&(null==l||l.observe(n)),r(n?t(n):null)},[t,l]));return(0,C.useMemo)(()=>({nodeRef:i,rect:n,setRef:a}),[n,i,a])}({measure:ec.dragOverlay.measure}),eN=null!=(n=e_.nodeRef.current)?n:ev,eM=B?null!=(r=e_.rect)?r:eC:null,eL=!!(e_.nodeRef.current&&e_.rect),eA=(y=tt(i=eL?null:eC),eR(i,y)),eT=to(eN?Z(eN):null),eU=(a=B?null!=ek?ek:ev:null,w=(0,C.useRef)(a),S=ea(e=>a?e&&e!==ti&&a&&w.current&&a.parentNode===w.current.parentNode?e:ez(a):ti,[a]),(0,C.useEffect)(()=>{w.current=a},[a]),S),e$=function(e,t){void 0===t&&(t=eP);let[n]=e,r=to(n?Z(n):null),[l,i]=(0,C.useState)(ts);function a(){i(()=>e.length?e.map(e=>eX(e)?r:new eG(t(e),e)):ts)}let o=tn({callback:a});return er(()=>{null==o||o.disconnect(),a(),e.forEach(e=>null==o?void 0:o.observe(e))},[e]),l}(eU),eJ=tw(I,{transform:{x:$.x-eA.x,y:$.y-eA.y,scaleX:1,scaleY:1},activatorEvent:Q,active:K,activeNodeRect:eC,containerNodeRect:eS,draggingNodeRect:eM,over:eE.current.over,overlayNodeRect:e_.rect,scrollableAncestors:eU,scrollableAncestorRects:e$,windowRect:eT}),eV=eb?ef(eb,$):null,eq=function(e){let[t,n]=(0,C.useState)(null),r=(0,C.useRef)(e),l=(0,C.useCallback)(e=>{let t=eF(e.target);t&&n(e=>e?(e.set(t,eW(t)),new Map(e)):null)},[]);return(0,C.useEffect)(()=>{let t=r.current;if(e!==t){i(t);let a=e.map(e=>{let t=eF(e);return t?(t.addEventListener("scroll",l,{passive:!0}),[t,eW(t)]):null}).filter(e=>null!=e);n(a.length?new Map(a):null),r.current=e}return()=>{i(e),i(t)};function i(e){e.forEach(e=>{let t=eF(e);null==t||t.removeEventListener("scroll",l)})}},[l,e]),(0,C.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>ef(e,t),ej):eH(e):ej,[e,t])}(eU),eZ=ta(eq),eQ=ta(eq,[eC]),e0=ef(eJ,eZ),e1=eM?eO(eM,eJ):null,e2=K&&e1?N({active:K,collisionRect:e1,droppableRects:eh,droppableContainers:ed,pointerCoordinates:eV}):null,e4=function(e,t){if(!e||0===e.length)return null;let[n]=e;return n.id}(e2,0),[e5,e9]=(0,C.useState)(null),e6=(o=eL?eJ:ef(eJ,eQ),s=null!=(l=null==e5?void 0:e5.rect)?l:null,{...o,scaleX:s&&eC?s.width/eC.width:1,scaleY:s&&eC?s.height/eC.height:1}),e3=(0,C.useRef)(null),e7=(0,C.useCallback)((e,t)=>{let{sensor:n,options:r}=t;if(null==H.current)return;let l=U.get(H.current);if(!l)return;let i=e.nativeEvent,a=new n({active:H.current,activeNode:l,event:i,options:r,context:eE,onAbort(e){if(!U.get(e))return;let{onDragAbort:t}=en.current,n={id:e};null==t||t(n),A({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!U.get(e))return;let{onDragPending:l}=en.current,i={id:e,constraint:t,initialCoordinates:n,offset:r};null==l||l(i),A({type:"onDragPending",event:i})},onStart(e){let t=H.current;if(null==t)return;let n=U.get(t);if(!n)return;let{onDragStart:r}=en.current,l={activatorEvent:i,active:{id:t,data:n.data,rect:Y}};(0,J.unstable_batchedUpdates)(()=>{null==r||r(l),z(x.Initializing),L({type:c.DragStart,initialCoordinates:e,active:t}),A({type:"onDragStart",event:l}),q(e3.current),et(i)})},onMove(e){L({type:c.DragMove,coordinates:e})},onEnd:o(c.DragEnd),onCancel:o(c.DragCancel)});function o(e){return async function(){let{active:t,collisions:n,over:r,scrollAdjustedTranslate:l}=eE.current,a=null;if(t&&l){let{cancelDrop:o}=en.current;a={activatorEvent:i,active:t,collisions:n,delta:l,over:r},e===c.DragEnd&&"function"==typeof o&&await Promise.resolve(o(a))&&(e=c.DragCancel)}H.current=null,(0,J.unstable_batchedUpdates)(()=>{L({type:e}),z(x.Uninitialized),e9(null),q(null),et(null),e3.current=null;let t=e===c.DragEnd?"onDragEnd":"onDragCancel";if(a){let e=en.current[t];null==e||e(a),A({type:t,event:a})}})}}e3.current=a},[U]),tr=(0,C.useCallback)((e,t)=>(n,r)=>{let l=n.nativeEvent,i=U.get(r);null!==H.current||!i||l.dndKit||l.defaultPrevented||!0===e(n,t.options,{active:i})&&(l.dndKit={capturedBy:t.sensor},H.current=r,e7(n,t))},[U,e7]),th=(0,C.useMemo)(()=>_.reduce((e,t)=>{let{sensor:n}=t;return[...e,...n.activators.map(e=>({eventName:e.eventName,handler:tr(e.handler,t)}))]},[]),[_,tr]);(0,C.useEffect)(()=>{if(!V)return;let e=_.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(let t of e)null==t||t()}},_.map(e=>{let{sensor:t}=e;return t})),er(()=>{eC&&T===x.Initializing&&z(x.Initialized)},[eC,T]),(0,C.useEffect)(()=>{let{onDragMove:e}=en.current,{active:t,activatorEvent:n,collisions:r,over:l}=eE.current;if(!t||!n)return;let i={active:t,activatorEvent:n,collisions:r,delta:{x:e0.x,y:e0.y},over:l};(0,J.unstable_batchedUpdates)(()=>{null==e||e(i),A({type:"onDragMove",event:i})})},[e0.x,e0.y]),(0,C.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:l}=eE.current;if(!e||null==H.current||!t||!l)return;let{onDragOver:i}=en.current,a=r.get(e4),o=a&&a.rect.current?{id:a.id,rect:a.rect.current,data:a.data,disabled:a.disabled}:null,s={active:e,activatorEvent:t,collisions:n,delta:{x:l.x,y:l.y},over:o};(0,J.unstable_batchedUpdates)(()=>{e9(o),null==i||i(s),A({type:"onDragOver",event:s})})},[e4]),er(()=>{eE.current={activatorEvent:Q,active:K,activeNode:ev,collisionRect:e1,collisions:e2,droppableRects:eh,draggableNodes:U,draggingNode:eN,draggingNodeRect:eM,droppableContainers:W,over:e5,scrollableAncestors:eU,scrollAdjustedTranslate:e0},Y.current={initial:eM,translated:e1}},[K,ev,e2,e1,U,eN,eM,eh,W,e5,eU,e0]),function(e){let t,{acceleration:n,activator:r=m.Pointer,canScroll:l,draggingRect:i,enabled:a,interval:o=5,order:s=v.TreeOrder,pointerCoordinates:d,scrollableAncestors:u,scrollableAncestorRects:c,delta:h,threshold:p}=e,g=function(e){let{delta:t,disabled:n}=e,r=es(t);return ea(e=>{if(n||!r||!e)return e8;let l={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[f.Backward]:e.x[f.Backward]||-1===l.x,[f.Forward]:e.x[f.Forward]||1===l.x},y:{[f.Backward]:e.y[f.Backward]||-1===l.y,[f.Forward]:e.y[f.Forward]||1===l.y}}},[n,t,r])}({delta:h,disabled:!a}),[b,y]=(t=(0,C.useRef)(null),[(0,C.useCallback)((e,n)=>{t.current=setInterval(e,n)},[]),(0,C.useCallback)(()=>{null!==t.current&&(clearInterval(t.current),t.current=null)},[])]),x=(0,C.useRef)({x:0,y:0}),w=(0,C.useRef)({x:0,y:0}),S=(0,C.useMemo)(()=>{switch(r){case m.Pointer:return d?{top:d.y,bottom:d.y,left:d.x,right:d.x}:null;case m.DraggableRect:return i}},[r,i,d]),D=(0,C.useRef)(null),E=(0,C.useCallback)(()=>{let e=D.current;if(!e)return;let t=x.current.x*w.current.x,n=x.current.y*w.current.y;e.scrollBy(t,n)},[]),j=(0,C.useMemo)(()=>s===v.TreeOrder?[...u].reverse():u,[s,u]);(0,C.useEffect)(()=>{if(!a||!u.length||!S)return void y();for(let e of j){if((null==l?void 0:l(e))===!1)continue;let t=c[u.indexOf(e)];if(!t)continue;let{direction:r,speed:i}=function(e,t,n,r,l){let{top:i,left:a,right:o,bottom:s}=n;void 0===r&&(r=10),void 0===l&&(l=eK);let{isTop:d,isBottom:u,isLeft:c,isRight:h}=eY(e),p={x:0,y:0},g={x:0,y:0},m={height:t.height*l.y,width:t.width*l.x};return!d&&i<=t.top+m.height?(p.y=f.Backward,g.y=r*Math.abs((t.top+m.height-i)/m.height)):!u&&s>=t.bottom-m.height&&(p.y=f.Forward,g.y=r*Math.abs((t.bottom-m.height-s)/m.height)),!h&&o>=t.right-m.width?(p.x=f.Forward,g.x=r*Math.abs((t.right-m.width-o)/m.width)):!c&&a<=t.left+m.width&&(p.x=f.Backward,g.x=r*Math.abs((t.left+m.width-a)/m.width)),{direction:p,speed:g}}(e,t,S,n,p);for(let e of["x","y"])g[e][r[e]]||(i[e]=0,r[e]=0);if(i.x>0||i.y>0){y(),D.current=e,b(E,o),x.current=i,w.current=r;return}}x.current={x:0,y:0},w.current={x:0,y:0},y()},[n,E,l,y,a,o,JSON.stringify(S),JSON.stringify(g),b,u,j,c,JSON.stringify(p)])}({...ey,delta:$,draggingRect:e1,pointerCoordinates:eV,scrollableAncestors:eU,scrollableAncestorRects:e$});let tp=(0,C.useMemo)(()=>({active:K,activeNode:ev,activeNodeRect:eC,activatorEvent:Q,collisions:e2,containerNodeRect:eS,dragOverlay:e_,draggableNodes:U,droppableContainers:W,droppableRects:eh,over:e5,measureDroppableContainers:ep,scrollableAncestors:eU,scrollableAncestorRects:e$,measuringConfiguration:ec,measuringScheduled:em,windowRect:eT}),[K,ev,eC,Q,e2,eS,e_,U,W,eh,e5,ep,eU,e$,ec,em,eT]),tg=(0,C.useMemo)(()=>({activatorEvent:Q,activators:th,active:K,activeNodeRect:eC,ariaDescribedById:{draggable:el},dispatch:L,draggableNodes:U,over:e5,measureDroppableContainers:ep}),[Q,th,K,eC,L,el,U,e5,ep]);return C.default.createElement(ew.Provider,{value:P},C.default.createElement(tm.Provider,{value:tg},C.default.createElement(tv.Provider,{value:tp},C.default.createElement(tC.Provider,{value:e6},k)),C.default.createElement(tx,{disabled:(null==E?void 0:E.restoreFocus)===!1})),C.default.createElement(eD,{...E,hiddenTextDescribedById:el}))}),tD=(0,C.createContext)(null),tE="button";function tj(){return(0,C.useContext)(tv)}let tk={timeout:25};function t_(e){let{animation:t,children:n}=e,[r,l]=(0,C.useState)(null),[i,a]=(0,C.useState)(null),o=es(n);return n||r||!o||l(o),er(()=>{if(!i)return;let e=null==r?void 0:r.key,n=null==r?void 0:r.props.id;null==e||null==n?l(null):Promise.resolve(t(n,i)).then(()=>{l(null)})},[t,r,i]),C.default.createElement(C.default.Fragment,null,n,r?(0,C.cloneElement)(r,{ref:a}):null)}let tN={x:0,y:0,scaleX:1,scaleY:1};function tM(e){let{children:t}=e;return C.default.createElement(tm.Provider,{value:tg},C.default.createElement(tC.Provider,{value:tN},t))}let tI={position:"fixed",touchAction:"none"},tR=e=>ep(e)?"transform 250ms ease":void 0,tO=(0,C.forwardRef)((e,t)=>{let{as:n,activatorEvent:r,adjustScale:l,children:i,className:a,rect:o,style:s,transform:d,transition:u=tR}=e;if(!o)return null;let c=l?d:{...d,scaleX:1,scaleY:1},f={...tI,width:o.width,height:o.height,top:o.top,left:o.left,transform:em.Transform.toString(c),transformOrigin:l&&r?function(e,t){let n=eg(e);if(!n)return"0 0";let r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}(r,o):void 0,transition:"function"==typeof u?u(r):u,...s};return C.default.createElement(n,{className:a,style:f,ref:t},i)}),tL={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:n}}=e;return[{transform:em.Transform.toString(t)},{transform:em.Transform.toString(n)}]},sideEffects:(t={styles:{active:{opacity:"0"}}},e=>{let{active:n,dragOverlay:r}=e,l={},{styles:i,className:a}=t;if(null!=i&&i.active)for(let[e,t]of Object.entries(i.active))void 0!==t&&(l[e]=n.node.style.getPropertyValue(e),n.node.style.setProperty(e,t));if(null!=i&&i.dragOverlay)for(let[e,t]of Object.entries(i.dragOverlay))void 0!==t&&r.node.style.setProperty(e,t);return null!=a&&a.active&&n.node.classList.add(a.active),null!=a&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(let[e,t]of Object.entries(l))n.node.style.setProperty(e,t);null!=a&&a.active&&n.node.classList.remove(a.active)}})},tA=0,tP=C.default.memo(e=>{var t;let{adjustScale:n=!1,children:r,dropAnimation:l,style:i,transition:a,modifiers:o,wrapperElement:s="div",className:d,zIndex:u=999}=e,{activatorEvent:c,active:f,activeNodeRect:h,containerNodeRect:p,draggableNodes:g,droppableContainers:m,dragOverlay:v,over:b,measuringConfiguration:y,scrollableAncestors:x,scrollableAncestorRects:w,windowRect:S}=tj(),D=(0,C.useContext)(tC),E=(t=null==f?void 0:f.id,(0,C.useMemo)(()=>{if(null!=t)return++tA},[t])),j=tw(o,{activatorEvent:c,active:f,activeNodeRect:h,containerNodeRect:p,draggingNodeRect:v.rect,over:b,overlayNodeRect:v.rect,scrollableAncestors:x,scrollableAncestorRects:w,transform:D,windowRect:S}),k=tt(h),_=function(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:l}=e;return el((e,i)=>{if(null===t)return;let a=n.get(e);if(!a)return;let o=a.node.current;if(!o)return;let s=td(i);if(!s)return;let{transform:d}=Z(i).getComputedStyle(i),u=eL(d);if(!u)return;let c="function"==typeof t?t:function(e){let{duration:t,easing:n,sideEffects:r,keyframes:l}={...tL,...e};return e=>{let{active:i,dragOverlay:a,transform:o,...s}=e;if(!t)return;let d={x:a.rect.left-i.rect.left,y:a.rect.top-i.rect.top},u={scaleX:1!==o.scaleX?i.rect.width*o.scaleX/a.rect.width:1,scaleY:1!==o.scaleY?i.rect.height*o.scaleY/a.rect.height:1},c={x:o.x-d.x,y:o.y-d.y,...u},f=l({...s,active:i,dragOverlay:a,transform:{initial:o,final:c}}),[h]=f,p=f[f.length-1];if(JSON.stringify(h)===JSON.stringify(p))return;let g=null==r?void 0:r({active:i,dragOverlay:a,...s}),m=a.node.animate(f,{duration:t,easing:n,fill:"forwards"});return new Promise(e=>{m.onfinish=()=>{null==g||g(),e()}})}}(t);return eJ(o,l.draggable.measure),c({active:{id:e,data:a.data,node:o,rect:l.draggable.measure(o)},draggableNodes:n,dragOverlay:{node:i,rect:l.dragOverlay.measure(s)},droppableContainers:r,measuringConfiguration:l,transform:u})})}({config:l,draggableNodes:g,droppableContainers:m,measuringConfiguration:y}),N=k?v.setRef:void 0;return C.default.createElement(tM,null,C.default.createElement(t_,{animation:_},f&&E?C.default.createElement(tO,{key:E,id:f.id,ref:N,as:s,activatorEvent:c,adjustScale:n,className:d,transition:a,rect:k,style:{zIndex:u,...i},transform:j},r):null))});function tT(e,t,n){let r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function tz(e){return null!==e&&e>=0}let tB=e=>{let{rects:t,activeIndex:n,overIndex:r,index:l}=e,i=tT(t,r,n),a=t[l],o=i[l];return o&&a?{x:o.left-a.left,y:o.top-a.top,scaleX:o.width/a.width,scaleY:o.height/a.height}:null},tF={scaleX:1,scaleY:1},tU="Sortable",t$=C.default.createContext({activeIndex:-1,containerId:tU,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:tB,disabled:{draggable:!1,droppable:!1}});function tW(e){let{children:t,id:n,items:r,strategy:l=tB,disabled:i=!1}=e,{active:a,dragOverlay:o,droppableRects:s,over:d,measureDroppableContainers:u}=tj(),c=eu(tU,n),f=null!==o.rect,h=(0,C.useMemo)(()=>r.map(e=>"object"==typeof e&&"id"in e?e.id:e),[r]),p=null!=a,g=a?h.indexOf(a.id):-1,m=d?h.indexOf(d.id):-1,v=(0,C.useRef)(h),b=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(h,v.current),y=-1!==m&&-1===g||b,x="boolean"==typeof i?{draggable:i,droppable:i}:i;er(()=>{b&&p&&u(h)},[b,h,p,u]),(0,C.useEffect)(()=>{v.current=h},[h]);let w=(0,C.useMemo)(()=>({activeIndex:g,containerId:c,disabled:x,disableTransforms:y,items:h,overIndex:m,useDragOverlay:f,sortedRects:h.reduce((e,t,n)=>{let r=s.get(t);return r&&(e[n]=r),e},Array(h.length)),strategy:l}),[g,c,x.draggable,x.droppable,y,h,m,s,f,l]);return C.default.createElement(t$.Provider,{value:w},t)}let tX=e=>{let{id:t,items:n,activeIndex:r,overIndex:l}=e;return tT(n,r,l).indexOf(t)},tY=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:l,items:i,newIndex:a,previousItems:o,previousContainerId:s,transition:d}=e;return!!d&&!!r&&(o===i||l!==a)&&(!!n||a!==l&&t===s)},tK={duration:200,easing:"ease"},tH="transform",tJ=em.Transition.toString({property:tH,duration:0,easing:"linear"}),tV={roleDescription:"sortable"};function tG(){return(tG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function tq(e,t){if(null==e)return{};var n,r,l={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}function tZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tQ(e,t){var n="u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return tZ(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tZ(e,void 0)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t0(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"u">typeof document){var r=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css","top"===n&&r.firstChild?r.insertBefore(l,r.firstChild):r.appendChild(l),l.styleSheet?l.styleSheet.cssText=e:l.appendChild(document.createTextNode(e))}}p.Down,p.Right,p.Up,p.Left,t0(".dnd-sortable-tree_simple_wrapper{box-sizing:border-box;list-style:none;margin-bottom:-1px}.dnd-sortable-tree_simple_tree-item{align-items:center;border:1px solid #dedede;box-sizing:border-box;color:#222;display:flex;padding:10px;position:relative}.dnd-sortable-tree_simple_clone{display:inline-block;padding:5px;pointer-events:none}.dnd-sortable-tree_simple_clone>.dnd-sortable-tree_simple_tree-item{border-radius:4px;box-shadow:0 15px 15px 0 rgba(34,33,81,.1);padding-bottom:5px;padding-right:24px;padding-top:5px}.dnd-sortable-tree_simple_ghost{opacity:.5}.dnd-sortable-tree_simple_disable-selection{-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-select:none}.dnd-sortable-tree_simple_disable-interaction{pointer-events:none}.dnd-sortable-tree_folder_tree-item-collapse_button{align-self:stretch;background:url(\"data:image/svg+xml;utf8,<svg width='10' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 70 41'><path d='M30.76 39.2402C31.885 40.3638 33.41 40.995 35 40.995C36.59 40.995 38.115 40.3638 39.24 39.2402L68.24 10.2402C69.2998 9.10284 69.8768 7.59846 69.8494 6.04406C69.822 4.48965 69.1923 3.00657 68.093 1.90726C66.9937 0.807959 65.5106 0.178263 63.9562 0.150837C62.4018 0.123411 60.8974 0.700397 59.76 1.76024L35 26.5102L10.24 1.76024C9.10259 0.700397 7.59822 0.123411 6.04381 0.150837C4.4894 0.178263 3.00632 0.807959 1.90702 1.90726C0.807714 3.00657 0.178019 4.48965 0.150593 6.04406C0.123167 7.59846 0.700153 9.10284 1.75999 10.2402L30.76 39.2402Z' /></svg>\") no-repeat 50%;border:0;transition:transform .25s ease;width:20px}.dnd-sortable-tree_folder_tree-item-collapse_button-collapsed{transform:rotate(-90deg)}.dnd-sortable-tree_simple_handle{align-self:stretch;background:url(\"data:image/svg+xml;utf8,<svg  xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' width='12'><path d='M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z'></path></svg>\") no-repeat 50%;cursor:pointer;width:20px}.dnd-sortable-tree_simple_tree-item-collapse_button{align-self:stretch;background:url(\"data:image/svg+xml;utf8,<svg width='10' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 70 41'><path d='M30.76 39.2402C31.885 40.3638 33.41 40.995 35 40.995C36.59 40.995 38.115 40.3638 39.24 39.2402L68.24 10.2402C69.2998 9.10284 69.8768 7.59846 69.8494 6.04406C69.822 4.48965 69.1923 3.00657 68.093 1.90726C66.9937 0.807959 65.5106 0.178263 63.9562 0.150837C62.4018 0.123411 60.8974 0.700397 59.76 1.76024L35 26.5102L10.24 1.76024C9.10259 0.700397 7.59822 0.123411 6.04381 0.150837C4.4894 0.178263 3.00632 0.807959 1.90702 1.90726C0.807714 3.00657 0.178019 4.48965 0.150593 6.04406C0.123167 7.59846 0.700153 9.10284 1.75999 10.2402L30.76 39.2402Z' /></svg>\") no-repeat 50%;border:0;transition:transform .25s ease;width:20px}.dnd-sortable-tree_folder_simple-item-collapse_button-collapsed{transform:rotate(-90deg)}");var t1=["clone","depth","disableSelection","disableInteraction","disableSorting","ghost","handleProps","indentationWidth","indicator","collapsed","onCollapse","onRemove","item","wrapperRef","style","hideCollapseButton","childCount","manualDrag","showDragHandle","disableCollapseOnItemClick","isLast","parent","className","contentClassName","isOver","isOverParent"],t2=(0,C.forwardRef)(function(e,t){var n=e.clone,r=e.depth,l=e.disableSelection,i=e.disableInteraction,a=e.disableSorting,o=e.ghost,s=e.handleProps,d=e.indentationWidth,u=e.collapsed,c=e.onCollapse,f=e.wrapperRef,h=e.style,p=e.hideCollapseButton,g=e.childCount,m=e.manualDrag,v=e.showDragHandle,b=e.disableCollapseOnItemClick,y=e.className,x=e.contentClassName,w=tq(e,t1);return C.default.createElement("li",Object.assign({ref:f},w,{className:H("dnd-sortable-tree_simple_wrapper",n&&"dnd-sortable-tree_simple_clone",o&&"dnd-sortable-tree_simple_ghost",l&&"dnd-sortable-tree_simple_disable-selection",i&&"dnd-sortable-tree_simple_disable-interaction",y),style:tG({},h,{paddingLeft:n?d:d*r})}),C.default.createElement("div",Object.assign({className:H("dnd-sortable-tree_simple_tree-item",x),ref:t},m?void 0:s,{onClick:b?void 0:c}),!a&&!1!==v&&C.default.createElement("div",Object.assign({className:"dnd-sortable-tree_simple_handle"},s)),!m&&!p&&!!c&&!!g&&C.default.createElement("button",{onClick:function(e){b&&(e.preventDefault(),null==c||c())},className:H("dnd-sortable-tree_simple_tree-item-collapse_button",u&&"dnd-sortable-tree_folder_simple-item-collapse_button-collapsed")}),e.children))});t0(".dnd-sortable-tree_folder_wrapper{box-sizing:border-box;display:flex;flex-direction:row;list-style:none;margin-bottom:-1px}.dnd-sortable-tree_folder_tree-item{align-items:center;box-sizing:border-box;display:flex;padding:7px 0;position:relative}.dnd-sortable-tree_folder_clone{display:inline-block;padding:5px;pointer-events:none}.dnd-sortable-tree_folder_clone>.dnd-sortable-tree_folder_tree-item{border-radius:4px;padding-bottom:5px;padding-right:24px;padding-top:5px}.dnd-sortable-tree_folder_ghost{opacity:.5}.dnd-sortable-tree_folder_disable-selection{-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-select:none}.dnd-sortable-tree_folder_disable-interaction{pointer-events:none}.dnd-sortable-tree_folder_line{align-self:stretch;background:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><line stroke='black' style='stroke-width: 1px;' x1='50%' y1='0' x2='50%' y2='100%'/></svg>\");width:20px}.dnd-sortable-tree_folder_line-last{align-self:stretch;width:20px}.dnd-sortable-tree_folder_line-to_self{align-self:stretch;background:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><line stroke='black' style='stroke-width: 1px;' x1='50%' y1='0' x2='50%' y2='100%'/><line stroke='black' style='stroke-width: 1px;' x1='50%' y1='50%' x2='100%' y2='50%'/></svg>\");width:20px}.dnd-sortable-tree_folder_line-to_self-last{align-self:stretch;background:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><line stroke='black' style='stroke-width: 1px;' x1='50%' y1='0' x2='50%' y2='50%'/><line stroke='black' style='stroke-width: 1px;' x1='50%' y1='50%' x2='100%' y2='50%'/></svg>\");width:20px}.dnd-sortable-tree_folder_tree-item-collapse_button{align-self:stretch;background:url(\"data:image/svg+xml;utf8,<svg width='10' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 70 41'><path d='M30.76 39.2402C31.885 40.3638 33.41 40.995 35 40.995C36.59 40.995 38.115 40.3638 39.24 39.2402L68.24 10.2402C69.2998 9.10284 69.8768 7.59846 69.8494 6.04406C69.822 4.48965 69.1923 3.00657 68.093 1.90726C66.9937 0.807959 65.5106 0.178263 63.9562 0.150837C62.4018 0.123411 60.8974 0.700397 59.76 1.76024L35 26.5102L10.24 1.76024C9.10259 0.700397 7.59822 0.123411 6.04381 0.150837C4.4894 0.178263 3.00632 0.807959 1.90702 1.90726C0.807714 3.00657 0.178019 4.48965 0.150593 6.04406C0.123167 7.59846 0.700153 9.10284 1.75999 10.2402L30.76 39.2402Z' /></svg>\") no-repeat 50%;border:0;transition:transform .25s ease;width:20px}.dnd-sortable-tree_folder_tree-item-collapse_button-collapsed{transform:rotate(-90deg)}.dnd-sortable-tree_folder_handle{align-self:stretch;background:url(\"data:image/svg+xml;utf8,<svg  xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' width='12'><path d='M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z'></path></svg>\") no-repeat 50%;cursor:pointer;width:20px}");var t4="u">typeof window&&/iPad|iPhone|iPod/.test(navigator.platform),t5=function(){};function t9(e){return function e(t,n,r,l){return void 0===n&&(n=null),void 0===r&&(r=0),void 0===l&&(l=null),t.reduce(function(i,a,o){var s,d=tG({},a,{parentId:n,depth:r,index:o,isLast:t.length===o+1,parent:l});return[].concat(i,[d],e(null!=(s=a.children)?s:[],a.id,r+1,d))},[])}(e)}function t6(e,t){for(var n,r=tQ(e);!(n=r()).done;){var l=n.value,i=l.id,a=l.children;if(i===t)return l;if(null!=a&&a.length){var o=t6(a,t);if(o)return o}}}var t3=["id","depth","isLast","TreeItemComponent","parent","disableSorting","sortableProps","keepGhostInPlace"],t7=function(e){var t=e.isSorting,n=e.isDragging;return!t&&!n},t8=C.default.memo(function(e){var t=e.id,n=e.depth,r=e.isLast,l=e.TreeItemComponent,i=e.parent,a=e.disableSorting,o=e.sortableProps,s=e.keepGhostInPlace,d=tq(e,t3),u=function(e){var t,n,r,l;let{animateLayoutChanges:i=tY,attributes:a,disabled:o,data:s,getNewIndex:d=tX,id:u,strategy:f,resizeObserverConfig:h,transition:p=tK}=e,{items:g,containerId:m,activeIndex:v,disabled:b,disableTransforms:y,sortedRects:x,overIndex:w,useDragOverlay:S,strategy:D}=(0,C.useContext)(t$),E=(t=o,n=b,"boolean"==typeof t?{draggable:t,droppable:!1}:{draggable:null!=(r=null==t?void 0:t.draggable)?r:n.draggable,droppable:null!=(l=null==t?void 0:t.droppable)?l:n.droppable}),j=g.indexOf(u),k=(0,C.useMemo)(()=>({sortable:{containerId:m,index:j,items:g},...s}),[m,s,j,g]),_=(0,C.useMemo)(()=>g.slice(g.indexOf(u)),[g,u]),{rect:N,node:M,isOver:I,setNodeRef:R}=function(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:l}=e,i=eu("Droppable"),{active:a,dispatch:o,over:s,measureDroppableContainers:d}=(0,C.useContext)(tm),u=(0,C.useRef)({disabled:n}),f=(0,C.useRef)(!1),h=(0,C.useRef)(null),p=(0,C.useRef)(null),{disabled:g,updateMeasurementsFor:m,timeout:v}={...tk,...l},b=ei(null!=m?m:r),y=tn({callback:(0,C.useCallback)(()=>{if(!f.current){f.current=!0;return}null!=p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{d(Array.isArray(b.current)?b.current:[b.current]),p.current=null},v)},[v]),disabled:g||!a}),[x,w]=eo((0,C.useCallback)((e,t)=>{y&&(t&&(y.unobserve(t),f.current=!1),e&&y.observe(e))},[y])),S=ei(t);return(0,C.useEffect)(()=>{y&&x.current&&(y.disconnect(),f.current=!1,y.observe(x.current))},[x,y]),(0,C.useEffect)(()=>(o({type:c.RegisterDroppable,element:{id:r,key:i,disabled:n,node:x,rect:h,data:S}}),()=>o({type:c.UnregisterDroppable,key:i,id:r})),[r]),(0,C.useEffect)(()=>{n!==u.current.disabled&&(o({type:c.SetDroppableDisabled,id:r,key:i,disabled:n}),u.current.disabled=n)},[r,i,n,o]),{active:a,rect:h,isOver:(null==s?void 0:s.id)===r,node:x,over:s,setNodeRef:w}}({id:u,data:k,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:_,...h}}),{active:O,activatorEvent:L,activeNodeRect:A,attributes:P,setNodeRef:T,listeners:z,isDragging:B,over:F,setActivatorNodeRef:U,transform:$}=function(e){let{id:t,data:n,disabled:r=!1,attributes:l}=e,i=eu("Draggable"),{activators:a,activatorEvent:o,active:s,activeNodeRect:d,ariaDescribedById:u,draggableNodes:c,over:f}=(0,C.useContext)(tm),{role:h=tE,roleDescription:p="draggable",tabIndex:g=0}=null!=l?l:{},m=(null==s?void 0:s.id)===t,v=(0,C.useContext)(m?tC:tD),[b,y]=eo(),[x,w]=eo(),S=(0,C.useMemo)(()=>a.reduce((e,n)=>{let{eventName:r,handler:l}=n;return e[r]=e=>{l(e,t)},e},{}),[a,t]),D=ei(n);return er(()=>(c.set(t,{id:t,key:i,node:b,activatorNode:x,data:D}),()=>{let e=c.get(t);e&&e.key===i&&c.delete(t)}),[c,t]),{active:s,activatorEvent:o,activeNodeRect:d,attributes:(0,C.useMemo)(()=>({role:h,tabIndex:g,"aria-disabled":r,"aria-pressed":!!m&&h===tE||void 0,"aria-roledescription":p,"aria-describedby":u.draggable}),[r,h,g,m,p,u.draggable]),isDragging:m,listeners:r?void 0:S,node:b,over:f,setNodeRef:y,setActivatorNodeRef:w,transform:v}}({id:u,data:k,attributes:{...tV,...a},disabled:E.draggable}),W=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,C.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(R,T),X=!!O,Y=X&&!y&&tz(v)&&tz(w),K=!S&&B,H=K&&Y?$:null,J=Y?null!=H?H:(null!=f?f:D)({rects:x,activeNodeRect:A,activeIndex:v,overIndex:w,index:j}):null,V=tz(v)&&tz(w)?d({id:u,items:g,activeIndex:v,overIndex:w}):j,G=null==O?void 0:O.id,q=(0,C.useRef)({activeId:G,items:g,newIndex:V,containerId:m}),Z=g!==q.current.items,Q=i({active:O,containerId:m,isDragging:B,isSorting:X,id:u,index:j,items:g,newIndex:q.current.newIndex,previousItems:q.current.items,previousContainerId:q.current.containerId,transition:p,wasDragging:null!=q.current.activeId}),ee=function(e){let{disabled:t,index:n,node:r,rect:l}=e,[i,a]=(0,C.useState)(null),o=(0,C.useRef)(n);return er(()=>{if(!t&&n!==o.current&&r.current){let e=l.current;if(e){let t=eP(r.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&a(n)}}n!==o.current&&(o.current=n)},[t,n,r,l]),(0,C.useEffect)(()=>{i&&a(null)},[i]),i}({disabled:!Q,index:j,node:M,rect:N});return(0,C.useEffect)(()=>{X&&q.current.newIndex!==V&&(q.current.newIndex=V),m!==q.current.containerId&&(q.current.containerId=m),g!==q.current.items&&(q.current.items=g)},[X,V,m,g]),(0,C.useEffect)(()=>{if(G===q.current.activeId)return;if(null!=G&&null==q.current.activeId){q.current.activeId=G;return}let e=setTimeout(()=>{q.current.activeId=G},50);return()=>clearTimeout(e)},[G]),{active:O,activeIndex:v,attributes:P,data:k,rect:N,index:j,newIndex:V,items:g,isOver:I,isSorting:X,isDragging:B,listeners:z,node:M,overIndex:w,over:F,setNodeRef:W,setActivatorNodeRef:U,setDroppableNodeRef:R,setDraggableNodeRef:T,transform:null!=ee?ee:J,transition:ee||Z&&q.current.newIndex===j?tJ:(!K||ep(L))&&p&&(X||Q)?em.Transition.toString({...p,property:tH}):void 0}}(tG({id:t,animateLayoutChanges:t7,disabled:a},o)),f=u.attributes,h=u.isDragging,p=u.isSorting,g=u.listeners,m=u.setDraggableNodeRef,v=u.setDroppableNodeRef,b=u.transform,y=u.transition,x=u.isOver,w=u.over,S=(0,C.useMemo)(function(){return!!(null!=w&&w.id)&&function e(t,n){return!!t&&!!n&&(t.id===n||e(t.parent,n))}(i,w.id)},[null==w?void 0:w.id]),D={transform:em.Translate.toString(b),transition:null!=y?y:void 0},E=(0,C.useMemo)(function(){if(d.onCollapse)return function(){return null==d.onCollapse?void 0:d.onCollapse(d.item.id)}},[d.item.id,d.onCollapse]),j=(0,C.useMemo)(function(){if(d.onRemove)return function(){return null==d.onRemove?void 0:d.onRemove(d.item.id)}},[d.item.id,d.onRemove]);return C.default.createElement(l,Object.assign({},d,{ref:m,wrapperRef:v,style:s?void 0:D,depth:n,ghost:h,disableSelection:t4,disableInteraction:p,isLast:r,parent:i,handleProps:tG({},f,g),onCollapse:E,onRemove:j,disableSorting:a,isOver:x,isOverParent:S}))}),ne=["items","indicator","indentationWidth","onItemsChanged","TreeItemComponent","pointerSensorOptions","disableSorting","dropAnimation","dndContextProps","sortableProps","keepGhostInPlace","canRootHaveChildren"],nt={activationConstraint:{distance:3}},nn={keyframes:function(e){var t=e.transform;return[{opacity:1,transform:em.Transform.toString(t.initial)},{opacity:0,transform:em.Transform.toString(tG({},t.final,{x:t.final.x+5,y:t.final.y+5}))}]},easing:"ease-out",sideEffects:function(e){e.active.node.animate([{opacity:0},{opacity:1}],{duration:tL.duration,easing:tL.easing})}};function nr(e){var t,n=e.items,r=e.indicator,l=e.indentationWidth,i=void 0===l?20:l,a=e.onItemsChanged,o=e.TreeItemComponent,s=e.pointerSensorOptions,d=e.disableSorting,u=e.dropAnimation,c=e.dndContextProps,f=e.sortableProps,h=e.keepGhostInPlace,p=e.canRootHaveChildren,g=tq(e,ne),m=(0,C.useState)(null),v=m[0],b=m[1],y=(0,C.useState)(null),x=y[0],w=y[1],S=(0,C.useState)(0),D=S[0],E=S[1],j=(0,C.useState)(null),k=j[0],_=j[1],N=(0,C.useMemo)(function(){var e,t=t9(n),r=t.reduce(function(e,t){var n=t.children,r=t.collapsed,l=t.id;return r&&null!=n&&n.length?[].concat(e,[l]):e},[]);return e=[].concat(v?[v].concat(r):r),t.filter(function(t){if(t.parentId&&e.includes(t.parentId)){var n;return null!=(n=t.children)&&n.length&&e.push(t.id),!1}return!0})},[v,n]),M=function(e,t,n,r,l,i,a){if(t5(),t5=function(){},!t||!n)return null;var o=e.findIndex(function(e){return e.id===n}),s=e.findIndex(function(e){return e.id===t}),d=e[s];if(i){var u,c,f,h,p,g,m,v,b=e[o];return void 0===(b=_(b,d,a))?null:{depth:null!=(h=null==(p=b)?void 0:p.depth)?h:1,parentId:null!=(g=null==(m=b)?void 0:m.id)?g:null,parent:b,isLast:!!(null!=(v=b)&&v.isLast)}}var y=tT(e,s,o),x=y[o-1],w=y[o+1],C=Math.round(r/l),S=d.depth+C,D=_(function(e,t){if(!t)return null;for(;e<t.depth;){if(null===t.parent)return null;t=t.parent}return t}(S-1,x),d,a);if(void 0===D)return null;var E=(null!=(u=null==D?void 0:D.depth)?u:-1)+1,j=null!=(c=null==w?void 0:w.depth)?c:0;if(j>E)return null;S>=E?S=E:S<j&&(S=j);var k=(null!=(f=null==w?void 0:w.depth)?f:-1)<S;return D&&D.isLast&&(t5=function(){D.isLast=!0},D.isLast=!1),{depth:S,parentId:function(){if(0===S||!x)return null;if(S===x.depth)return x.parentId;if(S>x.depth)return x.id;var e,t=null==(e=y.slice(0,o).reverse().find(function(e){return e.depth===S}))?void 0:e.parentId;return null!=t?t:null}(),parent:D,isLast:k};function _(e,t,n){if(!e){if(!1===("function"==typeof n?n(t):n))return;return e}return!1===("function"==typeof e.canHaveChildren?e.canHaveChildren(t):e.canHaveChildren)?_(e.parent,d,n):e}}(N,v,x,D,i,null!=h&&h,p),I=(0,C.useRef)({items:N,offset:D}),R=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,C.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}((t=null!=s?s:nt,(0,C.useMemo)(()=>({sensor:e7,options:null!=t?t:{}}),[e7,t]))),O=(0,C.useMemo)(function(){return N.map(function(e){return e.id})},[N]),L=v?N.find(function(e){return e.id===v}):null;(0,C.useEffect)(function(){I.current={items:N,offset:D}},[N,D]);var A=(0,C.useRef)(n);A.current=n;var P=(0,C.useCallback)(function(e){var t=t6(A.current,e);a(function e(t,n){for(var r,l=[],i=tQ(t);!(r=i()).done;){var a,o=r.value;o.id!==n&&(null!=(a=o.children)&&a.length&&(o.children=e(o.children,n)),l.push(o))}return l}(A.current,e),{type:"removed",item:t})},[a]),T=(0,C.useCallback)(function(e){var t=t6(A.current,e);a(function e(t,n,r,l){for(var i,a=tQ(t);!(i=a()).done;){var o,s=i.value;if(s.id===n){s[r]=l(s[r]);continue}null!=(o=s.children)&&o.length&&(s.children=e(s.children,n,r,l))}return[].concat(t)}(A.current,e,"collapsed",function(e){return!e}),{type:t.collapsed?"collapsed":"expanded",item:t})},[a]),z=(0,C.useMemo)(function(){return{onDragStart:function(e){return"Picked up "+e.active.id+"."},onDragMove:function(e){var t=e.active,n=e.over;return U("onDragMove",t.id,null==n?void 0:n.id)},onDragOver:function(e){var t=e.active,n=e.over;return U("onDragOver",t.id,null==n?void 0:n.id)},onDragEnd:function(e){var t=e.active,n=e.over;return U("onDragEnd",t.id,null==n?void 0:n.id)},onDragCancel:function(e){return"Moving was cancelled. "+e.active.id+" was dropped in its original position."}}},[]),B=(0,C.useCallback)(function(){return!!M},[M]);return C.default.createElement(tS,Object.assign({accessibility:{announcements:z},sensors:d?void 0:R,modifiers:r?nl:void 0,collisionDetection:eM,onDragStart:d?void 0:function(e){var t=e.active.id;b(t),w(t);var n=N.find(function(e){return e.id===t});n&&_({parentId:n.parentId,overId:t}),document.body.style.setProperty("cursor","grabbing")},onDragMove:d?void 0:function(e){E(e.delta.x)},onDragOver:d?void 0:function(e){var t,n=e.over;w(null!=(t=null==n?void 0:n.id)?t:null)},onDragEnd:d?void 0:function(e){var t=e.active,r=e.over;if(F(),M&&r){var l=M.depth,i=M.parentId;if(h&&r.id===t.id)return;var o=t9(n),s=o.findIndex(function(e){return e.id===r.id}),d=o.findIndex(function(e){return e.id===t.id}),u=o[d];o[d]=tG({},u,{depth:l,parentId:i});var c=u.parent,f=tT(o,d,s),p=function(e){for(var t,n,r,l={id:"root",children:[]},i=((t={})[l.id]=l,t),a=e.map(function(e){return tG({},e,{children:[]})}),o=tQ(a);!(r=o()).done;){var s,d,u,c=r.value,f=c.id,h=null!=(s=c.parentId)?s:l.id,p=null!=(d=i[h])?d:function(e,t){return e.find(function(e){return e.id===t})}(a,h);c.parent=null,i[f]=c,null==p||null==(u=p.children)||u.push(c)}return null!=(n=l.children)?n:[]}(f),g=f.find(function(e){return e.id===t.id}),m=g.parentId?f.find(function(e){return e.id===g.parentId}):null;setTimeout(function(){return a(p,{type:"dropped",draggedItem:g,draggedFromParent:c,droppedToParent:m})})}},onDragCancel:d?void 0:function(){F()}},c),C.default.createElement(tW,{items:O,strategy:d?void 0:function(e){var t=e.activeIndex,n=e.activeNodeRect,r=e.index,l=e.rects,i=e.overIndex;return B(t,i)?(e=>{var t,n,r,l;let i,a,o,{activeIndex:s,activeNodeRect:d,index:u,rects:c,overIndex:f}=e,h=null!=(t=c[s])?t:d;if(!h)return null;if(u===s){let e=c[f];return e?{x:0,y:s<f?e.top+e.height-(h.top+h.height):e.top-h.top,...tF}:null}let p=(n=c,r=u,l=s,i=n[r],a=n[r-1],o=n[r+1],i?l<r?a?i.top-(a.top+a.height):o?o.top-(i.top+i.height):0:o?o.top-(i.top+i.height):a?i.top-(a.top+a.height):0:0);return u>s&&u<=f?{x:0,y:-h.height-p,...tF}:u<s&&u>=f?{x:0,y:h.height+p,...tF}:{x:0,y:0,...tF}})({activeIndex:t,activeNodeRect:n,index:r,rects:l,overIndex:i}):null}},N.map(function(e){var t,n,l;return C.default.createElement(t8,Object.assign({},g,{key:e.id,id:e.id,item:e,childCount:null==(t=e.children)?void 0:t.length,depth:e.id===v&&M&&!h?M.depth:e.depth,indentationWidth:i,indicator:r,collapsed:!!(e.collapsed&&(null==(n=e.children)?void 0:n.length)),onCollapse:null!=(l=e.children)&&l.length?T:void 0,onRemove:P,isLast:e.id===v&&M?M.isLast:e.isLast,parent:e.id===v&&M?M.parent:e.parent,TreeItemComponent:o,disableSorting:d,sortableProps:f,keepGhostInPlace:h}))}),(0,J.createPortal)(C.default.createElement(tP,{dropAnimation:void 0===u?nn:u},v&&L?C.default.createElement(o,Object.assign({},g,{item:L,children:[],depth:L.depth,clone:!0,childCount:function(e,t){if(!t)return 0;var n,r=t6(e,t);return r?function e(t,n){return void 0===n&&(n=0),t.reduce(function(t,n){var r=n.children;return null!=r&&r.length?e(r,t+1):t+1},n)}(null!=(n=r.children)?n:[]):0}(n,v)+1,indentationWidth:i,isLast:!1,parent:L.parent,isOver:!1,isOverParent:!1})):null),document.body)));function F(){w(null),b(null),E(0),_(null),document.body.style.setProperty("cursor","")}function U(e,t,r){if(r&&M){if("onDragEnd"!==e)if(k&&M.parentId===k.parentId&&r===k.overId)return;else _({parentId:M.parentId,overId:r});var l,i=t9(n),a=i.findIndex(function(e){return e.id===r}),o=i.findIndex(function(e){return e.id===t}),s=tT(i,o,a),d=s[a-1],u="onDragEnd"===e?"dropped":"moved";if(d)if(M.depth>d.depth)l=t+" was "+("onDragEnd"===e?"dropped":"nested")+" under "+d.id+".";else{for(var c=d;c&&M.depth<c.depth;)!function(){var e=c.parentId;c=s.find(function(t){return t.id===e})}();c&&(l=t+" was "+u+" after "+c.id+".")}else l=t+" was "+u+" before "+s[a+1].id+".";return l}}}var nl=[function(e){var t=e.transform;return tG({},t,{y:t.y-25})}],ni=e.i(643531),na=e.i(727612),no=e.i(704440);function ns({itemsList:e,onItemsChange:t,onLabelChange:n,language:r="df"}){let[l,i]=(0,C.useState)(e),[a,o]=(0,C.useState)(null);(0,C.useEffect)(()=>{i(t=>JSON.stringify(t)===JSON.stringify(e)?t:e)},[e]);let s=e=>{let n=t=>t.filter(t=>t.id!==e).map(e=>({...e,children:e.children?n(e.children):void 0})),r=n(l);i(r),t?.(r)};return(0,w.jsx)(nr,{items:l,onItemsChanged:e=>{i(e),t?.(e)},TreeItemComponent:e=>(0,w.jsx)(nd,{...e,item:e.item,isEditing:a===e.item.id,onStartEditing:e=>o(e),onStopEditing:()=>o(null),onSaveLabel:n,onDelete:s})})}let nd=C.default.forwardRef(({item:e,onDelete:t,onSaveLabel:n,onStartEditing:r,onStopEditing:l,isEditing:i,...a},o)=>{let[s,d]=(0,C.useState)(e.label);(0,C.useEffect)(()=>{i&&d(e.label)},[i,e.label]);let u=()=>{n&&""!==s.trim()&&n(e.id,s.trim()),l()};return(0,w.jsx)(t2,{...a,ref:o,item:e,children:(0,w.jsxs)("div",{className:"flex items-center justify-between w-full",children:[i?(0,w.jsx)("div",{className:"mx-4 w-full",children:(0,w.jsx)(N.Input,{value:s,autoFocus:!0,onChange:e=>d(e.target.value),onKeyDown:e=>{"Enter"===e.key&&u(),"Escape"===e.key&&l()},onBlur:u,className:"app-input rounded h-8 w-full"})}):(0,w.jsx)("span",{children:e.label}),(0,w.jsxs)("div",{className:"flex gap-1",children:[i?(0,w.jsx)(W.Button,{variant:"ghost",size:"sm",className:"h-6 w-6 rounded bg-blue-50 border border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white cursor-pointer p-1",onClick:u,children:(0,w.jsx)(ni.Check,{className:"h-4 w-4"})}):(0,w.jsx)(W.Button,{variant:"ghost",size:"sm",className:"h-6 w-6 rounded bg-slate-50 border border-slate-500 text-slate-500 hover:bg-slate-500 hover:text-white cursor-pointer p-1",onClick:t=>{t.stopPropagation(),r(e.id)},children:(0,w.jsx)(no.default,{})}),(0,w.jsx)(W.Button,{variant:"ghost",size:"sm",className:"h-6 w-6 rounded bg-red-50 border border-red-500 text-red-500 hover:bg-red-500 hover:text-white cursor-pointer p-1",onClick:n=>{n.stopPropagation(),t(e.id)},children:(0,w.jsx)(na.Trash2,{className:"h-4 w-4"})})]})]})})});nd.displayName="TreeItem";let nu=({pages:e,isPagePending:t,onAddSelected:n})=>{let[r,l]=(0,C.useState)([]);return(0,w.jsxs)(_.Card,{className:"mt-4",children:[(0,w.jsx)("h3",{className:"font-medium p-4 shadow-custom",children:"Dynamic Pages"}),(0,w.jsx)(_.CardContent,{className:"p-4",children:t?(0,w.jsx)("div",{children:(0,w.jsx)($.default,{customClass:"my-10",size:"medium"})}):(0,w.jsxs)("div",{className:"space-y-4",children:[(0,w.jsx)("div",{className:"max-h-60 overflow-y-auto space-y-3",children:e.map(e=>(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)(X.Checkbox,{id:`page-${e.value}`,checked:r.includes(e.value),onCheckedChange:()=>{var t;return t=e.value,void l(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])}}),(0,w.jsx)("label",{htmlFor:`page-${e.value}`,className:"px-2 text-sm",children:e.label})]},e.value))}),(0,w.jsx)(W.Button,{type:"button",onClick:()=>{n(e.filter(e=>r.includes(e.value))),l([])},className:"mt-3 app-button",children:"Add Pages to Menu"})]})})]})};e.i(751345);var nc=e.i(46240),nf=e.i(90516),nh=e.i(229407),np=e.i(187605),ng=e.i(445977),nm=e.i(905742);let nv=["name"];function nb(e){return String(e??"").trim()}function ny({data:e}){let t=(0,T.useAppDispatch)(),n=(0,F.useTranslations)(),r="ar"===((0,U.usePathname)().split("/")[1]||"tr")?"rtl":"ltr",l=(0,B.useLocale)(),i=(0,C.useMemo)(()=>j.default,[]),[a,o]=(0,C.useState)("form"),s=e?.data,{register:d,handleSubmit:u,formState:{errors:c},setValue:f,getValues:h,reset:p,control:g}=(0,S.useForm)({resolver:(0,D.zodResolver)(P),defaultValues:{name_df:"",pages:s?.page_id?String(s.page_id):"",url:"",icon:""}}),m=(0,C.useMemo)(()=>(0,nh.makeRHFSetValueAny)(f),[f]),{uiLangs:v,translationsJson:b,handleTranslationsJsonChange:y,rebuildJsonNow:x}=(0,ng.useFormI18nScaffold)({languages:i,excludeLangIds:[],fields:[...nv],control:g,getValues:h,setValueAny:m,extraWatchNames:["pages","url","icon"],dfSync:{enabled:!0,pairs:[{dfField:"name_df",srcField:e=>`name_${e}`,validate:!0}]}}),O=(0,S.useWatch)({control:g,name:"name_df"}),[L,A]=(0,C.useState)({is_visible:!1}),[$,W]=(0,C.useState)({});(0,C.useEffect)(()=>{Object.keys($).length>0||W(v.reduce((e,t)=>(e[t.id]=[],e),{}))},[v]);let{AllPagesData:X,isPending:H}=(0,I.useAllPagesQuery)({language:l}),J=X?.all_pages||[];(0,C.useEffect)(()=>{if(!s)return void x();m("name_df",s?.name??"",{shouldDirty:!1,shouldValidate:!0}),m("url",s?.url??"",{shouldDirty:!1}),m("pages",s?.page_id?String(s.page_id):"",{shouldDirty:!1}),A({is_visible:s?.is_visible==1||s?.is_visible===!0});let e=s?.translations,t=Array.isArray(e)?e:e&&"object"==typeof e?Object.keys(e).map(t=>({language_code:t,name:e?.[t]?.name??""})):[],n={...s,translations:t};(0,nm.initI18nFlatFormFromEntity)({editData:n,firstUILangId:"df",uiLangs:v,i18nFields:nv,setValueAny:m,entityFieldMap:{name:"name"},after:x});let r=e=>{if(!e)return[];if(Array.isArray(e))return e;if("string"==typeof e)try{let t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{}return[]},l=r(s?.menu_content),i={};v.forEach(e=>{if("df"===e.id){i.df=l;return}let t=s?.translations,n=t?.[e.id],a=r(n?.menu_content);i[e.id]=a.length?a:l.map(e=>({...e}))}),W(i)},[s?.id,v?.length]);let V=e=>{W(t=>{let n={};for(let r of Object.keys(t))n[r]=function(e,t){let n=new Map,r=e=>{for(let t of e)n.set(t.id,t.label),t.children?.length&&r(t.children)};r(t);let l=e=>e.map(e=>({...e,label:n.get(e.id)||e.label,children:e.children?l(e.children):[]}));return l(e)}(e,t[r]||[]);return n})},{mutate:G,isPending:q}=(0,R.useMenuCustomizationStoreMutation)(),{mutate:Z,isPending:Q}=(0,R.useMenuCustomizationUpdateMutation)(),ee=async e=>{let n={name:nb(e.name_df),url:nb(e.url),page_id:nb(e.pages),is_visible:L.is_visible,menu_content:JSON.stringify($.df||[])},r=(v??[]).filter(e=>"df"!==e.id).map(t=>({language_code:t.id,name:nb(e?.[`name_${t.id}`]),menu_content:JSON.stringify($[t.id]||[])})),l=(0,nf.buildI18nJsonFromFlatValues)({values:e,languages:v,fields:[...nv],keyOf:(e,t)=>`${e}_${t}`,skipEmpty:!1}),i={...n,id:s?s.id:0,translations:r,translations_json:(0,np.ensureLangKeys)(l,v)},a=()=>{t((0,z.setRefetch)(!0))};return s?.id?Z(i,{onSuccess:a,onError:()=>{}}):G(i,{onSuccess:a,onError:()=>{}})},et=!nb(O)||q||Q;return(0,w.jsx)("div",{className:"pb-24",children:(0,w.jsxs)("form",{onSubmit:u(ee),children:[(0,w.jsx)("input",{type:"hidden",...d("name_df")}),(0,w.jsx)("div",{className:"mt-4 flex items-center justify-between gap-3",children:(0,w.jsxs)("div",{className:"inline-flex rounded-md border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900 overflow-hidden",children:[(0,w.jsx)("button",{type:"button",onClick:()=>o("form"),className:["px-4 py-2 text-sm font-medium transition","form"===a?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 dark:bg-gray-900 dark:text-gray-200 dark:hover:bg-gray-800"].join(" "),children:"Form"}),(0,w.jsx)("button",{type:"button",onClick:()=>o("json"),className:["px-4 py-2 text-sm font-medium transition","json"===a?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 dark:bg-gray-900 dark:text-gray-200 dark:hover:bg-gray-800"].join(" "),children:"JSON"})]})}),"json"===a?(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(nc.AdminI18nJsonPanel,{label:"Menu Customization JSON",languages:v,value:(0,np.ensureLangKeys)(b,v),onChange:e=>{y(e),v.forEach(t=>{let n=t.id,r=e?.[n]??{},l=nb(r?.name);m(`name_${n}`,l,{shouldDirty:!0,shouldValidate:"df"===n}),"df"===n&&m("name_df",l,{shouldDirty:!0,shouldValidate:!0})}),x()},perLanguage:!0,showAllTab:!0,helperText:(0,w.jsxs)("span",{children:["Alanlar: ",(0,w.jsx)("code",{children:"name"})]})})}):(0,w.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,w.jsx)(_.Card,{children:(0,w.jsx)(_.CardContent,{className:"p-2 md:p-4",children:(0,w.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"text-sm font-medium mb-1 flex items-center gap-2",children:(0,w.jsxs)("span",{children:[n("label.name")," (",n("lang.df"),")"]})}),(0,w.jsx)(N.Input,{id:"name_df",...d("name_df"),className:"app-input",placeholder:"Entry title",onChange:e=>{let t=e.target.value;m("name_df",t,{shouldDirty:!0,shouldValidate:!0}),m("name_df",t,{shouldDirty:!0}),m("name_df",t,{shouldDirty:!0,shouldValidate:!0})}}),c?.name_df?.message?(0,w.jsx)("p",{className:"text-red-500 text-sm mt-1",children:String(c.name_df?.message)}):null]}),(0,w.jsxs)("div",{className:"grid grid-cols-7 items-center justify-between w-full",children:[(0,w.jsx)("h2",{className:"col-span-2 font-medium flex items-center gap-1",children:n("label.visibility")}),(0,w.jsx)("div",{className:"col-span-3 flex flex-col items-start",children:(0,w.jsx)(M.Switch,{dir:"ltr",checked:L.is_visible,onCheckedChange:()=>{var e;return e="is_visible",void A(t=>({...t,[e]:!t[e]}))}})})]})]})})}),(0,w.jsx)(Y,{pages:[{id:1,label:"Home",value:1,slug:"/"},{id:2,label:"Product",value:2,slug:"products"},{id:3,label:"Category",value:3,slug:"product-categories"},{id:4,label:"Store",value:4,slug:"stores"},{id:5,label:"Blog",value:5,slug:"blogs"},{id:6,label:"Coupon",value:6,slug:"coupon"}],isPagePending:!1,onAddSelected:e=>{let t=e.map(e=>({id:`new-${Date.now()}-${e.value}`,label:e.label,url:e.slug||`/${e.value}`,children:[]}));W(e=>{let n={...e};return Object.keys(n).forEach(e=>{n[e]=[...n[e]||[],...t]}),n})}}),(0,w.jsx)(nu,{pages:J,isPagePending:H,onAddSelected:e=>{let t=e.map(e=>({id:`new-${Date.now()}-${e.value}`,label:e.label,url:e.slug||`/${e.value}`,children:[]}));W(e=>{let n={...e};return Object.keys(n).forEach(e=>{n[e]=[...n[e]||[],...t]}),n})}}),(0,w.jsx)(K,{onAddLink:(e,t)=>{let n={id:`custom-${Date.now()}`,label:e,url:t.startsWith("http")?t:`/${t}`,children:[]};W(e=>{let t={...e};return Object.keys(t).forEach(e=>{t[e]=[...t[e]||[],n]}),t})}}),(0,w.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:v.map(e=>(0,w.jsxs)(_.Card,{children:[(0,w.jsxs)("h3",{className:"font-medium p-4 shadow-custom",children:["Menu Structure  ",e.label," (",e.id,")"]}),(0,w.jsxs)(_.CardContent,{className:"p-4",dir:r,children:[(0,w.jsxs)("div",{className:"mb-4",children:[(0,w.jsx)("p",{className:"text-sm font-medium mb-1 flex items-center gap-2",children:(0,w.jsxs)("span",{children:[n("label.name")," (",n(`lang.${e.id}`),")"]})}),(0,w.jsx)(N.Input,{id:`name_${e.id}`,...d(`name_${e.id}`),className:"app-input",placeholder:"Entry title",onChange:t=>{let n=t.target.value;m(`name_${e.id}`,n,{shouldDirty:!0,shouldValidate:"df"===e.id}),"df"===e.id&&m("name_df",n,{shouldDirty:!0,shouldValidate:!0})}}),c?.[`name_${e.id}`]?.message?(0,w.jsx)("p",{className:"text-red-500 text-sm mt-1",children:String(c[`name_${e.id}`]?.message)}):null]}),$?.[e.id]?.length>0?(0,w.jsx)(ns,{itemsList:$[e.id]||[],onItemsChange:V,onLabelChange:(t,n)=>{var r;return r=e.id,void W(e=>{let l={...e},i=l[r]||[],a=e=>e.map(e=>e.id===t?{...e,label:n}:e.children?.length?{...e,children:a(e.children)}:e);return l[r]=a(i),l})},language:e.id}):(0,w.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500 py-10",children:[(0,w.jsx)(E.default,{}),(0,w.jsx)("p",{className:"mt-2 text-sm text-gray-500 dark:text-white font-bold",children:n("common.not_data_found")})]})]})]},e.id))})]}),(0,w.jsx)("div",{className:"fixed left-0 right-0 bottom-0 z-50 bg-white dark:bg-[#111827] border-t border-gray-200 dark:border-gray-700",children:(0,w.jsx)("div",{className:"max-w-[1600px] mx-auto px-4 py-3 flex items-center justify-end",children:(0,w.jsx)(k.SubmitButton,{UpdateData:e,IsLoading:s?.id?Q:q,AddLabel:n("button.add_menu"),UpdateLabel:n("button.update_menu"),disabled:et})})})]})})}e.s(["default",()=>ny],512305)}]);