(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,747383,e=>{"use strict";let t,s,a,l,i,n,r,d,o,c,_,m;var p=e.i(843476),u=e.i(769542),h=e.i(519455),g=e.i(515288),b=e.i(722413),x=e.i(664659),f=e.i(271645),j=e.i(880088),N=e.i(337822),v=e.i(793479);e.i(614271);var y=e.i(948148);let k=({data:e,sectionIndex:t,handleChange:s})=>{let a=(0,y.useTranslations)();return(0,p.jsx)(g.Card,{className:"space-y-4",children:e.map((e,l)=>(0,p.jsxs)("div",{className:"px-4 py-8 flex items-center  gap-4 ",children:[(0,p.jsxs)("div",{className:"space-y-2",children:[(0,p.jsx)("p",{className:"col-span-3 text-sm font-medium",children:a("theme.footer.background_color")}),(0,p.jsxs)("div",{className:"p-1 flex items-center gap-2 border border-slate-300 w-48 rounded",children:[(0,p.jsxs)(N.Popover,{children:[(0,p.jsx)(N.PopoverTrigger,{asChild:!0,children:(0,p.jsx)(h.Button,{className:"w-12 h-10 rounded-md border",style:{backgroundColor:e.background_color||"#ffffff"}})}),(0,p.jsx)(N.PopoverContent,{className:"w-56 p-4",children:(0,p.jsx)(j.HexColorPicker,{color:e.background_color||"#ffffff",onChange:e=>s(t,l,"background_color",e)})})]}),(0,p.jsx)(v.Input,{type:"text",value:e.background_color||"",onChange:e=>s(t,l,"background_color",e.target.value),className:"text-start border-transparent focus-visible:ring-0 focus-visible:ring-offset-0 bg-transparent "})]})]}),(0,p.jsxs)("div",{className:"space-y-2",children:[(0,p.jsx)("p",{className:"col-span-3 text-sm font-medium ",children:a("theme.footer.text_color")}),(0,p.jsxs)("div",{className:"p-1 flex items-center gap-2 border border-slate-300 w-48 rounded",children:[(0,p.jsxs)(N.Popover,{children:[(0,p.jsx)(N.PopoverTrigger,{asChild:!0,children:(0,p.jsx)(h.Button,{className:"w-12 h-10 rounded-md border",style:{backgroundColor:e.text_color||"#ffffff"}})}),(0,p.jsx)(N.PopoverContent,{className:"w-56 p-4",children:(0,p.jsx)(j.HexColorPicker,{color:e.text_color||"#ffffff",onChange:e=>s(t,l,"text_color",e)})})]}),(0,p.jsx)(v.Input,{type:"text",value:e.text_color||"",onChange:e=>s(t,l,"text_color",e.target.value),className:"text-start border-transparent focus-visible:ring-0 focus-visible:ring-offset-0 bg-transparent "})]})]}),(0,p.jsxs)("div",{className:"space-y-2",children:[(0,p.jsx)("p",{className:"col-span-3 text-sm font-medium",children:a("theme.footer.layout_columns")}),(0,p.jsx)(v.Input,{type:"number",value:e.layout_columns||0,onChange:e=>s(t,l,"layout_columns",Number(e.target.value)),className:"app-input w-48 text-start h-12 p-6"})]})]},l))})};var C=e.i(643531),$=e.i(657688);let w=({data:e,sectionIndex:t,handleChange:s,ID:a})=>{let l=(0,y.useTranslations)(),i=[{header_number:"01",image:"/images/header_1.png",id:"theme_one"},{header_number:"02",image:"/images/header_2.png",id:"theme_two"}].filter(e=>e.id===a),n=e[0]?.header_number;return(0,p.jsx)("div",{className:"space-y-3",children:i.map(e=>{let a=n===e.header_number;return(0,p.jsxs)("div",{className:`grid grid-cols-12 items-center justify-between  cursor-pointer transition shadow-custom rounded bg-white border-2
              ${a?" border-blue-500 ":" border-white "}
            `,onClick:()=>{s(t,0,"header_number",e.header_number)},children:[(0,p.jsxs)("div",{className:"col-span-2 flex flex-col items-center justify-center gap-2",children:[(0,p.jsx)("p",{className:`font-medium text-lg ${a?"text-blue-500":"text-gray-500"}`,children:l("theme.header.header_01")}),(0,p.jsx)("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${a?"border-blue-500 bg-blue-500 text-white":"border-gray-400"}`,children:a&&(0,p.jsx)(C.Check,{size:14,strokeWidth:3})})]}),(0,p.jsx)("div",{className:"col-span-10 w-full h-32 relative",children:(0,p.jsx)($.default,{src:e.image,alt:`Header ${e.header_number}`,fill:!0,className:""})})]},e.header_number)})})};var S=e.i(699375),z=e.i(624687),T=e.i(677572),I=e.i(801529),F=e.i(618566),O=e.i(653145),B=e.i(681307),E=e.i(994814);e.i(16260);var A=e.i(817478),P=e.i(738125),P=P;let M=["slider","category","flash_sale","product_featured","banner_section","product_top_selling","product_latest","popular_product_section","blog_section","top_stores_section","newsletters_section"],J={slider:"Slider",category:"Kategoriler",flash_sale:"Flash Sale",product_featured:"Öne Çıkan Ürünler",banner_section:"Banner",product_top_selling:"En Çok Satanlar",product_latest:"Yeni Ürünler",popular_product_section:"Popüler Ürünler",blog_section:"Blog",top_stores_section:"Top Stores",newsletters_section:"Bültene Abone Ol"},L=["banner_section","flash_sale","blog_section"],D=[4,6,12],V=[4,6,12],K=[4,6,12],R=[4,6,12],G=()=>M.map((e,t)=>({id:`${e}__${t+1}`,type:e,instance:1,enabled_disabled:"on"})),Y=(t={category_title_df:B.z.string().optional(),flash_sale_title_df:B.z.string().optional(),product_featured_title_df:B.z.string().optional(),product_top_selling_title_df:B.z.string().optional(),product_latest_title_df:B.z.string().optional(),popular_product_section_title_df:B.z.string().optional(),blog_section_title_df:B.z.string().optional(),top_stores_section_title_df:B.z.string().optional(),newsletters_title_df:B.z.string().optional(),newsletters_subtitle_df:B.z.string().optional()},s=I.default.map(e=>e.id).filter(e=>"df"!==e),a={},s.forEach(e=>{a[`category_title_${e}`]=B.z.string().optional(),a[`flash_sale_title_${e}`]=B.z.string().optional(),a[`product_featured_title_${e}`]=B.z.string().optional(),a[`product_top_selling_title_${e}`]=B.z.string().optional(),a[`product_latest_title_${e}`]=B.z.string().optional(),a[`popular_product_section_title_${e}`]=B.z.string().optional(),a[`blog_section_title_${e}`]=B.z.string().optional(),a[`top_stores_section_title_${e}`]=B.z.string().optional(),a[`newsletters_title_${e}`]=B.z.string().optional(),a[`newsletters_subtitle_${e}`]=B.z.string().optional()}),B.z.object({...t,...a})),q=({allData:e,data:t,sectionIndex:s,handleChange:a,refetch:l})=>{let i=(0,y.useTranslations)(),n=(0,f.useMemo)(()=>I.default,[]),r=(0,F.usePathname)().split("/")[1],{register:d,handleSubmit:o,setValue:c}=(0,O.useForm)({resolver:(0,E.zodResolver)(Y)}),[_,m]=(0,f.useState)({slider:"",category:"",flash_sale:"",product_featured:"",banner_section:"",product_top_selling:"",product_latest:"",popular_product_section:"",blog_section:"",top_stores_section:"",newsletters_section:""}),[u,h]=(0,f.useState)(G()),[x,j]=(0,f.useState)(null),[N,k]=(0,f.useState)(null),[C,$]=(0,f.useState)("1"),{mutate:w,isPending:B}=(0,b.useThemeStoreMutation)();(0,f.useEffect)(()=>{if(!e||!e.theme_data||!e.translations)return;let t=e.theme_data?.theme_pages[0]?.theme_home_page[0]||{};c("category_title_df",t?.category[0]?.title||""),c("flash_sale_title_df",t?.flash_sale[0]?.title||""),c("product_featured_title_df",t?.product_featured[0]?.title||""),c("product_top_selling_title_df",t?.product_top_selling[0]?.title||""),c("product_latest_title_df",t?.product_latest[0]?.title||""),c("popular_product_section_title_df",t?.popular_product_section?.[0]?.title||""),c("blog_section_title_df",t?.blog_section?.[0]?.title||""),c("top_stores_section_title_df",t?.top_stores_section[0]?.title||""),c("newsletters_title_df",t?.newsletters_section[0]?.title||""),c("newsletters_subtitle_df",t?.newsletters_section[0]?.subtitle||""),m({slider:t?.slider[0]?.enabled_disabled==="on"?"on":"",category:t?.category[0]?.enabled_disabled==="on"?"on":"",flash_sale:t?.flash_sale[0]?.enabled_disabled==="on"?"on":"",product_featured:t?.product_featured[0]?.enabled_disabled==="on"?"on":"",banner_section:t?.banner_section[0]?.enabled_disabled==="on"?"on":"",product_top_selling:t?.product_top_selling[0]?.enabled_disabled==="on"?"on":"",product_latest:t?.product_latest[0]?.enabled_disabled==="on"?"on":"",popular_product_section:t?.popular_product_section[0]?.enabled_disabled==="on"?"on":"",blog_section:t?.blog_section?.[0]?.enabled_disabled==="on"?"on":"",top_stores_section:t?.top_stores_section[0]?.enabled_disabled==="on"?"on":"",newsletters_section:t?.newsletters_section[0]?.enabled_disabled==="on"?"on":""}),h(((e,t)=>{let s=Array.isArray(e)?e.filter(e=>e&&"object"==typeof e).map((e,t)=>{let s=e.type;return M.includes(s)?{id:String(e.id||`${s}__${t+1}`),type:s,instance:Math.max(1,Number(e.instance||1)),enabled_disabled:e?.enabled_disabled==="off"?"off":"on",config:"banner_section"===s?{banner_span:D.includes(Number(e?.config?.banner_span))?Number(e?.config?.banner_span):4}:"flash_sale"===s?{flash_sale_span:V.includes(Number(e?.config?.flash_sale_span))?Number(e?.config?.flash_sale_span):6}:"blog_section"===s?{blog_span:K.includes(Number(e?.config?.blog_span))?Number(e?.config?.blog_span):4}:"top_stores_section"===s?{top_stores_span:R.includes(Number(e?.config?.top_stores_span))?Number(e?.config?.top_stores_span):12}:void 0}:null}).filter(Boolean):[];if(s.length>0)return s;let a=Array.isArray(t)?t.filter(e=>"string"==typeof e).filter(e=>M.includes(e)).map((e,t)=>({id:`${e}__legacy_${t+1}`,type:e,instance:1,enabled_disabled:"on"})):[];return a.length>0?a:G()})(t?.layout_blocks,t?.section_order)),$(t?.slider?.[0]?.slider_number||"1"),Object.keys(e.translations||{}).length>0&&n.filter(e=>"df"!==e.id).forEach(t=>{let s=t.id,a=e.translations?.[s]?.theme_data?.theme_pages[0]?.theme_home_page[0]||{};c(`category_title_${s}`,a?.category[0]?.title||""),c(`flash_sale_title_${s}`,a?.flash_sale[0]?.title||""),c(`product_featured_title_${s}`,a?.product_featured[0]?.title||""),c(`product_top_selling_title_${s}`,a?.product_top_selling[0]?.title||""),c(`product_latest_title_${s}`,a?.product_latest[0]?.title||""),c(`popular_product_section_title_${s}`,a?.popular_product_section[0]?.title||""),c(`blog_section_title_${s}`,a?.blog_section?.[0]?.title||""),c(`top_stores_section_title_${s}`,a?.top_stores_section[0]?.title||""),c(`newsletters_title_${s}`,a?.newsletters_section[0]?.title||""),c(`newsletters_subtitle_${s}`,a?.newsletters_section[0]?.subtitle||"")})},[e,c,n,e.translations]);let q=e=>{m(t=>({...t,[e]:"on"===t[e]?"":"on"}))},H=e=>{if(!L.includes(e))return;let t=u.filter(t=>t.type===e).reduce((e,t)=>Math.max(e,t.instance),0)+1;h(s=>[...s,{id:`${e}__${Date.now()}_${t}`,type:e,instance:t,enabled_disabled:"on",config:"banner_section"===e?{banner_span:4}:"flash_sale"===e?{flash_sale_span:6}:"blog_section"===e?{blog_span:4}:void 0}])},W=(0,f.useMemo)(()=>{let e=[],t=[],s=0,a=null,l=()=>{t.length>0&&e.push(t),t=[],s=0,a=null};return u.forEach(i=>{var n;let r="banner_section"===i.type?i.config?.banner_span||4:"flash_sale"===i.type?i.config?.flash_sale_span||6:"blog_section"===i.type?i.config?.blog_span||4:"top_stores_section"===i.type?i.config?.top_stores_span||12:"banner_section"===(n=i.type)?4:"flash_sale"===n?6:"blog_section"===n?4:12;if(!L.includes(i.type)){l(),e.push([{...i,span:r}]);return}t.length>0&&a===i.type&&s+r<=12||l(),t.push({...i,span:r}),s+=r,a=i.type,s>=12&&l()}),l(),e},[u]);return(0,p.jsxs)("form",{onSubmit:o(t=>{let s=JSON.parse(JSON.stringify(e.theme_data||{})),a=e=>({section_order:u.reduce((e,t)=>(e.includes(t.type)||e.push(t.type),e),[]),layout_blocks:u.map(e=>({id:e.id,type:e.type,instance:e.instance,enabled_disabled:"off"===e.enabled_disabled?"off":"on",config:"banner_section"===e.type?{banner_span:e.config?.banner_span||4}:"flash_sale"===e.type?{flash_sale_span:e.config?.flash_sale_span||6}:"blog_section"===e.type?{blog_span:e.config?.blog_span||4}:"top_stores_section"===e.type?{top_stores_span:e.config?.top_stores_span||12}:void 0})),slider:[{enabled_disabled:_.slider,slider_number:C}],category:[{title:e.category_title,enabled_disabled:_.category}],flash_sale:[{title:e.flash_sale_title,enabled_disabled:_.flash_sale}],product_featured:[{title:e.product_featured_title,enabled_disabled:_.product_featured}],banner_section:[{enabled_disabled:_.banner_section}],product_top_selling:[{title:e.product_top_selling_title,enabled_disabled:_.product_top_selling}],product_latest:[{title:e.product_latest_title,enabled_disabled:_.product_latest}],popular_product_section:[{title:e.popular_product_section_title,enabled_disabled:_.popular_product_section}],blog_section:[{title:e.blog_section_title,enabled_disabled:_.blog_section}],top_stores_section:[{title:e.top_stores_section_title,enabled_disabled:_.top_stores_section}],newsletters_section:[{title:e.newsletters_title,subtitle:e.newsletters_subtitle,enabled_disabled:_.newsletters_section}]}),i={category_title:t.category_title_df||"",flash_sale_title:t.flash_sale_title_df||"",product_featured_title:t.product_featured_title_df||"",product_top_selling_title:t.product_top_selling_title_df||"",product_latest_title:t.product_latest_title_df||"",popular_product_section_title:t.popular_product_section_title_df||"",blog_section_title:t.blog_section_title_df||"",top_stores_section_title:t.top_stores_section_title_df||"",newsletters_title:t.newsletters_title_df||"",newsletters_subtitle:t.newsletters_subtitle_df||""};s.theme_pages||(s.theme_pages={}),s.theme_pages["0"]||(s.theme_pages["0"]={}),s.theme_pages["0"].theme_home_page=[a(i)],s?.theme_pages?.theme_home_page&&delete s.theme_pages.theme_home_page;let r=JSON.parse(JSON.stringify(e.translations||{}));Object.keys(r).length>0&&n.filter(e=>"df"!==e.id).forEach(e=>{let s=e.id;r[s]||(r[s]={theme_data:{}}),r[s].theme_data.theme_pages||(r[s].theme_data.theme_pages={}),r[s].theme_data.theme_pages["0"]||(r[s].theme_data.theme_pages["0"]={});let l={category_title:t[`category_title_${s}`]||"",flash_sale_title:t[`flash_sale_title_${s}`]||"",product_featured_title:t[`product_featured_title_${s}`]||"",product_top_selling_title:t[`product_top_selling_title_${s}`]||"",product_latest_title:t[`product_latest_title_${s}`]||"",popular_product_section_title:t[`popular_product_section_title_${s}`]||"",blog_section_title:t[`blog_section_title_${s}`]||"",top_stores_section_title:t[`top_stores_section_title_${s}`]||"",newsletters_title:t[`newsletters_title_${s}`]||"",newsletters_subtitle:t[`newsletters_subtitle_${s}`]||""};r[s].theme_data.theme_pages["0"].theme_home_page=[a(l)],r[s].theme_data.theme_pages?.theme_home_page&&delete r[s].theme_data.theme_pages.theme_home_page}),w({theme_data:s,translations:r},{onSuccess:()=>l()})}),children:[(0,p.jsxs)(T.Tabs,{defaultValue:"df",className:"col-span-2",children:[(0,p.jsx)(T.TabsList,{dir:"ar"===r?"rtl":"ltr",className:"flex justify-start bg-transparent",children:n.map(e=>(0,p.jsx)(T.TabsTrigger,{value:e.id,children:e.label},e.id))}),n.map(e=>{let t=e.id,s="df"===t,a=e=>s?`${e}_df`:`${e}_${t}`;return(0,p.jsx)(T.TabsContent,{value:t,className:"lg:col-span-2",children:(0,p.jsxs)("div",{className:"space-y-4",children:[s&&(0,p.jsxs)(g.Card,{className:"p-4",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Blok Akışı"}),(0,p.jsxs)("div",{className:"space-y-2 border rounded p-4",children:[(0,p.jsx)("p",{className:"text-sm text-gray-600",children:"Blokları sürükleyip bırakarak sıralayabilirsin. Banner ve Flash Sale bloklarını birden fazla ekleyebilirsin."}),(0,p.jsxs)("div",{className:"flex flex-wrap gap-2 pb-2",children:[(0,p.jsx)("button",{type:"button",onClick:()=>H("banner_section"),className:"rounded border px-2 py-1 text-xs font-medium hover:bg-gray-50",children:"+ Banner Bloğu"}),(0,p.jsx)("button",{type:"button",onClick:()=>H("flash_sale"),className:"rounded border px-2 py-1 text-xs font-medium hover:bg-gray-50",children:"+ Flash Sale Bloğu"}),(0,p.jsx)("button",{type:"button",onClick:()=>H("blog_section"),className:"rounded border px-2 py-1 text-xs font-medium hover:bg-gray-50",children:"+ Blog Bloğu"})]}),u.map((e,t)=>(0,p.jsxs)("div",{draggable:!0,onDragStart:()=>j(e.id),onDragOver:t=>{t.preventDefault(),k(e.id)},onDrop:t=>{t.preventDefault(),x&&((e,t)=>{if(e===t)return;let s=[...u],a=s.findIndex(t=>t.id===e),l=s.findIndex(e=>e.id===t);if(a<0||l<0)return;let[i]=s.splice(a,1);s.splice(l,0,i),h(s)})(x,e.id),j(null),k(null)},onDragEnd:()=>{j(null),k(null)},className:`flex items-center justify-between rounded border px-3 py-2 bg-white cursor-move ${N===e.id?"border-blue-500 bg-blue-50":""}`,children:[(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)(P.default,{className:"h-4 w-4 text-gray-400"}),(0,p.jsxs)("span",{className:"text-sm font-medium",children:[t+1,". ",J[e.type],L.includes(e.type)?` #${e.instance}`:""]}),(0,p.jsx)("span",{className:`rounded px-1.5 py-0.5 text-[10px] font-medium ${"on"===e.enabled_disabled?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:"on"===e.enabled_disabled?"Aktif":"Pasif"})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)(S.Switch,{checked:"on"===e.enabled_disabled,onCheckedChange:()=>{var t;return t=e.id,void h(e=>e.map(e=>e.id===t?{...e,enabled_disabled:"on"===e.enabled_disabled?"off":"on"}:e))}}),L.includes(e.type)&&(0,p.jsx)(v.Input,{type:"number",min:1,value:e.instance,onChange:t=>{var s;let a,l;return s=e.id,l=Number.isNaN(a=Number.parseInt(t.target.value,10))?1:Math.max(1,a),void h(e=>e.map(e=>e.id===s?{...e,instance:l}:e))},className:"app-input h-8 w-20"}),"banner_section"===e.type&&(0,p.jsxs)("select",{value:e.config?.banner_span||4,onChange:t=>{var s;let a,l;return s=e.id,a=Number.parseInt(t.target.value,10),l=D.includes(a)?a:4,void h(e=>e.map(e=>e.id===s&&"banner_section"===e.type?{...e,config:{...e.config||{},banner_span:l}}:e))},className:"app-input h-8 w-24 rounded border px-2 text-sm",children:[(0,p.jsx)("option",{value:4,children:"4/12"}),(0,p.jsx)("option",{value:6,children:"6/12"}),(0,p.jsx)("option",{value:12,children:"12/12"})]}),"flash_sale"===e.type&&(0,p.jsxs)("select",{value:e.config?.flash_sale_span||6,onChange:t=>{var s;let a,l;return s=e.id,a=Number.parseInt(t.target.value,10),l=V.includes(a)?a:6,void h(e=>e.map(e=>e.id===s&&"flash_sale"===e.type?{...e,config:{...e.config||{},flash_sale_span:l}}:e))},className:"app-input h-8 w-24 rounded border px-2 text-sm",children:[(0,p.jsx)("option",{value:4,children:"4/12"}),(0,p.jsx)("option",{value:6,children:"6/12"}),(0,p.jsx)("option",{value:12,children:"12/12"})]}),"blog_section"===e.type&&(0,p.jsxs)("select",{value:e.config?.blog_span||4,onChange:t=>{var s;let a,l;return s=e.id,a=Number.parseInt(t.target.value,10),l=K.includes(a)?a:4,void h(e=>e.map(e=>e.id===s&&"blog_section"===e.type?{...e,config:{...e.config||{},blog_span:l}}:e))},className:"app-input h-8 w-24 rounded border px-2 text-sm",children:[(0,p.jsx)("option",{value:4,children:"4/12"}),(0,p.jsx)("option",{value:6,children:"6/12"}),(0,p.jsx)("option",{value:12,children:"12/12"})]}),"top_stores_section"===e.type&&(0,p.jsxs)("select",{value:e.config?.top_stores_span||12,onChange:t=>{var s;let a,l;return s=e.id,a=Number.parseInt(t.target.value,10),l=R.includes(a)?a:12,void h(e=>e.map(e=>e.id===s&&"top_stores_section"===e.type?{...e,config:{...e.config||{},top_stores_span:l}}:e))},className:"app-input h-8 w-24 rounded border px-2 text-sm",children:[(0,p.jsx)("option",{value:4,children:"4/12"}),(0,p.jsx)("option",{value:6,children:"6/12"}),(0,p.jsx)("option",{value:12,children:"12/12"})]}),L.includes(e.type)&&(0,p.jsx)("button",{type:"button",onClick:()=>{var t;return t=e.id,void h(e=>{let s=e.find(e=>e.id===t);return s&&L.includes(s.type)?e.filter(e=>e.id!==t):e})},className:"rounded border px-2 py-1 text-xs text-red-600 hover:bg-red-50",children:"Sil"})]})]},e.id)),(0,p.jsxs)("div",{className:"pt-2",children:[(0,p.jsx)("p",{className:"text-sm font-medium mb-1",children:"Önizleme Sırası"}),(0,p.jsx)("p",{className:"text-sm text-gray-600",children:u.map(e=>`${J[e.type]}${L.includes(e.type)?` #${e.instance}`:""}`).join(" > ")})]}),(0,p.jsxs)("div",{className:"pt-2",children:[(0,p.jsx)("p",{className:"text-sm font-medium mb-2",children:"12-Grid Satır Önizleme"}),(0,p.jsx)("div",{className:"space-y-2",children:W.map((e,t)=>(0,p.jsx)("div",{className:"grid grid-cols-12 gap-2 rounded border p-2 bg-gray-50",children:e.map((e,t)=>(0,p.jsxs)("div",{className:"rounded border bg-white px-2 py-1.5 text-xs font-medium text-gray-700",style:{gridColumn:`span ${e.span} / span ${e.span}`},children:[J[e.type],L.includes(e.type)?` #${e.instance}`:"",(0,p.jsx)("span",{className:"ml-1 text-[10px] font-semibold text-slate-500",children:"on"===e.enabled_disabled?"[Açık]":"[Kapalı]"}),(0,p.jsxs)("span",{className:"ml-1 text-gray-400",children:["(",e.span,"/12)"]})]},`preview_block_${e.id}_${t}`))},`preview_row_${t}`))})]})]})]}),(0,p.jsxs)(g.Card,{className:"p-4",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold mb-3",children:i("theme.home.slider")}),(0,p.jsxs)("div",{className:"space-y-3 border rounded p-4",children:[(0,p.jsx)("p",{className:"text-base",children:i("common.enable_disable")}),(0,p.jsx)(S.Switch,{checked:"on"===_.slider,onCheckedChange:()=>q("slider")})]})]}),(0,p.jsxs)(g.Card,{className:"p-4",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold mb-3",children:i("theme.home.banner")}),(0,p.jsxs)("div",{className:"space-y-3 border rounded p-4",children:[(0,p.jsx)("p",{className:"text-base",children:i("common.enable_disable")}),(0,p.jsx)(S.Switch,{checked:"on"===_.banner_section,onCheckedChange:()=>q("banner_section")})]})]}),(0,p.jsxs)(g.Card,{className:"p-4",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold mb-3",children:i("theme.home.flash_sale")}),(0,p.jsxs)("div",{className:"space-y-3 border rounded p-4",children:[(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("label.title")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(v.Input,{className:"app-input",...d(a("flash_sale_title"))}),(0,p.jsx)("p",{className:"text-base",children:i("common.enable_disable")}),(0,p.jsx)(S.Switch,{checked:"on"===_.flash_sale,onCheckedChange:()=>q("flash_sale")})]})]}),(0,p.jsxs)(g.Card,{className:"p-4",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold mb-3",children:i("theme.home.category")}),(0,p.jsxs)("div",{className:"space-y-3 border rounded p-4",children:[(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("label.title")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(v.Input,{className:"app-input",...d(a("category_title"))}),(0,p.jsx)("p",{className:"text-base",children:i("common.enable_disable")}),(0,p.jsx)(S.Switch,{checked:"on"===_.category,onCheckedChange:()=>q("category")})]})]}),(0,p.jsxs)(g.Card,{className:"p-4",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold mb-3",children:i("theme.home.featured_products")}),(0,p.jsxs)("div",{className:"space-y-3 border rounded p-4",children:[(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("label.title")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(v.Input,{className:"app-input",...d(a("product_featured_title"))}),(0,p.jsx)("p",{className:"text-base",children:i("common.enable_disable")}),(0,p.jsx)(S.Switch,{checked:"on"===_.product_featured,onCheckedChange:()=>q("product_featured")})]})]}),(0,p.jsxs)(g.Card,{className:"p-4",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold mb-3",children:i("theme.home.top_selling_products")}),(0,p.jsxs)("div",{className:"space-y-3 border rounded p-4",children:[(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("label.title")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(v.Input,{className:"app-input",...d(a("product_top_selling_title"))}),(0,p.jsx)("p",{className:"text-base",children:i("common.enable_disable")}),(0,p.jsx)(S.Switch,{checked:"on"===_.product_top_selling,onCheckedChange:()=>q("product_top_selling")})]})]}),(0,p.jsxs)(g.Card,{className:"p-4",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold mb-3",children:i("theme.home.latest_products")}),(0,p.jsxs)("div",{className:"space-y-3 border rounded p-4",children:[(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("label.title")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(v.Input,{className:"app-input",...d(a("product_latest_title"))}),(0,p.jsx)("p",{className:"text-base",children:i("common.enable_disable")}),(0,p.jsx)(S.Switch,{checked:"on"===_.product_latest,onCheckedChange:()=>q("product_latest")})]})]}),(0,p.jsxs)(g.Card,{className:"p-4",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold mb-3",children:i("theme.home.popular_products")}),(0,p.jsxs)("div",{className:"space-y-3 border rounded p-4",children:[(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("label.title")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(v.Input,{className:"app-input",...d(a("popular_product_section_title"))}),(0,p.jsx)("p",{className:"text-base",children:i("common.enable_disable")}),(0,p.jsx)(S.Switch,{checked:"on"===_.popular_product_section,onCheckedChange:()=>q("popular_product_section")})]})]}),(0,p.jsxs)(g.Card,{className:"p-4",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Blog"}),(0,p.jsxs)("div",{className:"space-y-3 border rounded p-4",children:[(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("label.title")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(v.Input,{className:"app-input",...d(a("blog_section_title"))}),(0,p.jsx)("p",{className:"text-base",children:i("common.enable_disable")}),(0,p.jsx)(S.Switch,{checked:"on"===_.blog_section,onCheckedChange:()=>q("blog_section")})]})]}),(0,p.jsxs)(g.Card,{className:"p-4",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold mb-3",children:i("theme.home.top_stores")}),(0,p.jsxs)("div",{className:"space-y-3 border rounded p-4",children:[(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("label.title")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(v.Input,{className:"app-input",...d(a("top_stores_section_title"))}),(0,p.jsx)("p",{className:"text-base",children:i("common.enable_disable")}),(0,p.jsx)(S.Switch,{checked:"on"===_.top_stores_section,onCheckedChange:()=>q("top_stores_section")})]})]}),(0,p.jsxs)(g.Card,{className:"p-4",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold mb-3",children:i("theme.home.newsletters")}),(0,p.jsxs)("div",{className:"space-y-3 border rounded p-4",children:[(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("label.title")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(v.Input,{className:"app-input",...d(a("newsletters_title"))}),(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("label.subtitle")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(z.Textarea,{className:"app-input",...d(a("newsletters_subtitle"))}),(0,p.jsx)("p",{className:"text-base",children:i("common.enable_disable")}),(0,p.jsx)(S.Switch,{checked:"on"===_.newsletters_section,onCheckedChange:()=>q("newsletters_section")})]})]})]})},t)})]}),(0,p.jsx)(g.Card,{className:"mt-4 sticky bottom-0 w-full p-4",children:(0,p.jsx)(A.SubmitButton,{IsLoading:B,AddLabel:i("button.save_changes")})})]})};var H=e.i(720126),W=e.i(35988),U=e.i(893742);let Z={name_df:B.z.string().min(2,"Theme name must be at least 2 characters long"),order:B.z.string().optional()},Q=I.default.filter(e=>"df"!==e.id).reduce((e,t)=>(e[`name_${t.id}`]=B.z.string().optional(),e),{});B.z.object({...Z,...Q});let X={title_df:B.z.string().optional(),subtitle_df:B.z.string().optional(),description_df:B.z.string().optional(),terms_page_title_df:B.z.string().optional(),terms_page_url:B.z.string().optional()},ee=I.default.filter(e=>"df"!==e.id).reduce((e,t)=>(e[`title_${t.id}`]=B.z.string().optional(),e[`subtitle_${t.id}`]=B.z.string().optional(),e[`description_${t.id}`]=B.z.string().optional(),e[`terms_page_title_${t.id}`]=B.z.string().optional(),e),{}),et=B.z.object({...X,...ee}),es=({allData:e,refetch:t,data:s,sectionIndex:a,handleChange:l})=>{let i=(0,y.useTranslations)(),n=f.default.useMemo(()=>I.default,[]),r=(0,F.usePathname)().split("/")[1],d=s[0],[o,c]=(0,f.useState)(null),[_,m]=(0,f.useState)(""),[u,h]=(0,f.useState)({emailVerification:"",loginOTP:"",maintenanceMode:""}),{watch:x,register:j,setValue:N,handleSubmit:k}=(0,O.useForm)({resolver:(0,E.zodResolver)(et)});(0,f.useEffect)(()=>{if(!e||!e.theme_data||!e.translations)return;let t=e.theme_data?.theme_pages?.[0]?.theme_register_page?.[0];t&&(N("title_df",t.title||""),N("subtitle_df",t.subtitle||""),N("description_df",t.description||""),N("terms_page_title_df",t.terms_page_title||""),N("terms_page_url",t.terms_page_url||""),t.social_login_enable_disable&&h(e=>({...e,emailVerification:t.social_login_enable_disable})),t.image_id&&c({image_id:t.image_id,img_url:t.img_url||"/images/no-image.png",name:"logo"})),Object.keys(e.translations||{}).length>0&&n.forEach(t=>{let s=t.id,a=e.translations?.[s]?.theme_data?.theme_pages[0]?.theme_register_page[0]||{};N(`title_${s}`,a.title||""),N(`subtitle_${s}`,a.subtitle||""),N(`description_${s}`,a.description||""),N(`terms_page_title_${s}`,a.terms_page_title||"")})},[e,N,e.translations,n]),(0,f.useEffect)(()=>{d&&d?.image_id&&c({image_id:d?.image_id?d?.image_id:"",img_url:d?.img_url?d?.img_url:"/images/no-image.png",name:"logo"})},[d]);let C=e=>{let t=e[0];c(t),l(a,0,"image_id",t.image_id),l(a,0,"img_url",t.img_url)},{mutate:w,isPending:B}=(0,b.useThemeStoreMutation)(),P=(0,p.jsx)("div",{className:"hover:cursor-pointer",children:o?.img_url?(0,p.jsxs)("div",{className:"relative w-32 h-32 group",children:[(0,p.jsx)($.default,{src:o.img_url,alt:o?.name||"Logo",fill:!0,sizes:"128px",className:"w-full h-full border dark:border-gray-500 rounded"}),(0,p.jsxs)("div",{className:"py-2 absolute bottom-0 left-1/2 -translate-x-1/2 bg-[#FFFFFFE5] border-l border-r border-b w-full rounded-b opacity-0 group-hover:opacity-90 transition-opacity duration-300 flex flex-col items-center justify-center",children:[(0,p.jsx)(H.default,{}),(0,p.jsx)("p",{className:"text-sm font-bold text-red-500 p-1",children:i("common.change_image")})]}),(0,p.jsx)(W.default,{customClass:"absolute top-0 right-0 m-1",onClick:e=>{e.stopPropagation(),c(null),m(""),l(a,0,"image_id","")}})]}):(0,p.jsxs)("div",{className:"w-32 h-32 border-2 border-dashed border-blue-500 text-center rounded-lg cursor-pointer hover:bg-blue-50 transition-colors flex flex-col items-center justify-center",children:[(0,p.jsx)(H.default,{}),(0,p.jsx)("p",{className:"mt-2 text-blue-500 text-xs font-medium",children:i("common.drag_and_drop")})]})});return(0,p.jsxs)("form",{onSubmit:k(s=>{let a=JSON.parse(JSON.stringify(e.theme_data));a?.theme_pages?.["0"]&&(a.theme_pages["0"].theme_register_page=[{title:s.title_df,subtitle:s.subtitle_df,description:s.description_df,terms_page_title:s.terms_page_title_df,terms_page_url:s.terms_page_url,social_login_enable_disable:u.emailVerification,image_id:o?.image_id||"",img_url:o?.img_url||""}]),a?.theme_pages?.theme_register_page&&delete a.theme_pages.theme_register_page;let l=JSON.parse(JSON.stringify(e.translations));Object.keys(l).length>0&&n.forEach(e=>{let t=e.id;l[t].theme_data.theme_pages["0"]||(l[t].theme_data.theme_pages["0"]={}),l[t].theme_data.theme_pages["0"].theme_register_page=[{title:s[`title_${t}`],subtitle:s[`subtitle_${t}`],description:s[`description_${t}`],terms_page_title:s[`terms_page_title_${t}`],terms_page_url:s.terms_page_url,social_login_enable_disable:u.emailVerification,image_id:o?.image_id||"",img_url:o?.img_url||""}],l[t].theme_data.theme_pages.theme_register_page&&delete l[t].theme_data.theme_pages.theme_register_page}),w({theme_data:a,translations:l??[]},{onSuccess:()=>t()})}),children:[(0,p.jsxs)(T.Tabs,{defaultValue:"df",className:"col-span-2",children:[(0,p.jsx)(T.TabsList,{dir:"ar"===r?"rtl":"ltr",className:"flex justify-start bg-transparent",children:n.map(e=>(0,p.jsx)(T.TabsTrigger,{value:e.id,children:e.label},e.id))}),n.map(e=>(0,p.jsx)(T.TabsContent,{value:e.id,className:"lg:col-span-2",children:(0,p.jsxs)(g.Card,{className:"p-4 space-y-6",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"block text-sm font-medium mb-1",children:[i("theme.register.title_label")," (",i(`lang.${e.id}`),")"]}),(0,p.jsx)(v.Input,{id:`title_${e.id}`,...j(`title_${e.id}`),className:"app-input",placeholder:"Enter value"})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"block text-sm font-medium mb-1",children:[i("theme.register.subtitle_label")," (",i(`lang.${e.id}`),")"]}),(0,p.jsx)(v.Input,{id:`subtitle_${e.id}`,...j(`subtitle_${e.id}`),className:"app-input",placeholder:"Enter value"})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"block text-sm font-medium mb-1",children:[i("theme.register.description_label")," (",i(`lang.${e.id}`),")"]}),(0,p.jsx)(z.Textarea,{id:`description_${e.id}`,...j(`description_${e.id}`),className:"app-input",placeholder:"Enter value"})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{className:"block text-sm font-medium mb-1",children:[i("theme.register.terms_page_title")," (",i(`lang.${e.id}`),")"]}),(0,p.jsx)(v.Input,{id:`terms_page_title_${e.id}`,...j(`terms_page_title_${e.id}`),className:"app-input",placeholder:"Enter value"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium mb-1",children:i("theme.register.terms_page_url")}),(0,p.jsx)(v.Input,{id:"terms_page_url",...j("terms_page_url"),className:"app-input",placeholder:"Enter value"})]}),(0,p.jsxs)("div",{className:"space-y-3",children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:i("theme.register.social_login")}),(0,p.jsx)(S.Switch,{dir:"ltr",checked:"on"===u.emailVerification,onCheckedChange:()=>{var e;return e="emailVerification",void h(t=>({...t,[e]:"on"===t[e]?"":"on"}))}})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium mb-1",children:i("theme.register.image")}),(0,p.jsx)("div",{className:"relative flex items-start gap-4",children:(0,p.jsxs)("div",{className:"relative w-32",children:[(0,p.jsx)(U.default,{trigger:P,isMultiple:!1,onSave:C,usageType:"brand",selectedImage:o}),_&&(0,p.jsx)("p",{className:"absolute text-red-500 text-sm mt-1",children:_})]})})]})]})},e.id))]}),(0,p.jsx)(g.Card,{className:"mt-4 sticky bottom-0 w-full p-4",children:(0,p.jsx)(A.SubmitButton,{IsLoading:B,AddLabel:i("button.save_changes")})})]})},ea=(l={customer_title_df:B.z.string().optional(),customer_subtitle_df:B.z.string().optional(),admin_title_df:B.z.string().optional(),admin_subtitle_df:B.z.string().optional()},i=I.default.map(e=>e.id).filter(e=>"df"!==e),n={},i.forEach(e=>{n[`customer_title_${e}`]=B.z.string().optional(),n[`customer_subtitle_${e}`]=B.z.string().optional(),n[`admin_title_${e}`]=B.z.string().optional(),n[`admin_subtitle_${e}`]=B.z.string().optional()}),B.z.object({...l,...n})),el=({allData:e,data:t,sectionIndex:s,handleChange:a,refetch:l})=>{let i=(0,y.useTranslations)(),n=(0,f.useMemo)(()=>I.default,[]),r=(0,F.usePathname)().split("/")[1],{register:d,handleSubmit:o,setValue:c}=(0,O.useForm)({resolver:(0,E.zodResolver)(ea)}),[_,m]=(0,f.useState)(null),[u,h]=(0,f.useState)(""),[x,j]=(0,f.useState)(null),[N,k]=(0,f.useState)(""),[C,w]=(0,f.useState)({customer:"",admin:""});(0,f.useEffect)(()=>{if(!e||!e.theme_data||!e?.translations)return;let t=e.theme_data?.theme_pages?.[0]?.theme_login_page?.[0]||{};c("customer_title_df",t?.customer?.[0]?.title||""),c("customer_subtitle_df",t?.customer?.[0]?.subtitle||""),c("admin_title_df",t?.admin?.[0]?.title||""),c("admin_subtitle_df",t?.admin?.[0]?.subtitle||""),w({customer:t?.customer?.[0]?.enabled_disabled==="on"?"on":"",admin:t?.admin?.[0]?.enabled_disabled==="on"?"on":""}),t?.customer?.[0]&&m({image_id:t?.customer?.[0].image_id,img_url:t?.customer?.[0].img_url||"/images/no-image.png",name:"logo"}),t?.admin?.[0]&&j({image_id:t?.admin?.[0].image_id,img_url:t?.admin?.[0].img_url||"/images/no-image.png",name:"logo"}),n.filter(e=>"df"!==e.id).forEach(t=>{let s=t.id,a=e?.translations?.[s]?.theme_data?.theme_pages?.[0]?.theme_login_page?.[0]||{};c(`customer_title_${s}`,a?.customer?.[0]?.title||""),c(`customer_subtitle_${s}`,a?.customer?.[0]?.subtitle||""),c(`admin_title_${s}`,a?.admin?.[0]?.title||""),c(`admin_subtitle_${s}`,a?.admin?.[0]?.subtitle||"")})},[e,c,n]);let{mutate:B,isPending:P}=(0,b.useThemeStoreMutation)(),M=e=>{let t=e[0];m(t),a(s,0,"image_id",t.image_id),a(s,0,"img_url",t.img_url)},J=(0,p.jsx)("div",{className:"hover:cursor-pointer",children:_?.img_url?(0,p.jsxs)("div",{className:"relative w-32 h-32 group",children:[(0,p.jsx)($.default,{src:_.img_url,alt:_?.name||"Logo",fill:!0,sizes:"128px",className:"w-full h-full border dark:border-gray-500 rounded"}),(0,p.jsxs)("div",{className:"py-2 absolute bottom-0 left-1/2 -translate-x-1/2 bg-[#FFFFFFE5] border-l border-r border-b w-full rounded-b opacity-0 group-hover:opacity-90 transition-opacity duration-300 flex flex-col items-center justify-center",children:[(0,p.jsx)(H.default,{}),(0,p.jsx)("p",{className:"text-sm font-bold text-red-500 p-1",children:i("common.change_image")})]}),(0,p.jsx)(W.default,{customClass:"absolute top-0 right-0 m-1",onClick:e=>{e.stopPropagation(),m(null),h(""),a(s,0,"image_id","")}})]}):(0,p.jsxs)("div",{className:"w-32 h-32 border-2 border-dashed border-blue-500 text-center rounded-lg cursor-pointer hover:bg-blue-50 transition-colors flex flex-col items-center justify-center",children:[(0,p.jsx)(H.default,{}),(0,p.jsx)("p",{className:"mt-2 text-blue-500 text-xs font-medium",children:i("common.drag_and_drop")})]})}),L=e=>{let t=e[0];j(t),a(s,0,"image_id",t.image_id),a(s,0,"img_url",t.img_url)},D=(0,p.jsx)("div",{className:"hover:cursor-pointer",children:x?.img_url?(0,p.jsxs)("div",{className:"relative w-32 h-32 group",children:[(0,p.jsx)($.default,{src:x.img_url,alt:x?.name||"Logo",fill:!0,sizes:"128px",className:"w-full h-full border dark:border-gray-500 rounded"}),(0,p.jsxs)("div",{className:"py-2 absolute bottom-0 left-1/2 -translate-x-1/2 bg-[#FFFFFFE5] border-l border-r border-b w-full rounded-b opacity-0 group-hover:opacity-90 transition-opacity duration-300 flex flex-col items-center justify-center",children:[(0,p.jsx)(H.default,{}),(0,p.jsx)("p",{className:"text-sm font-bold text-red-500 p-1",children:i("common.change_image")})]}),(0,p.jsx)(W.default,{customClass:"absolute top-0 right-0 m-1",onClick:e=>{e.stopPropagation(),j(null),k(""),a(s,0,"image_id","")}})]}):(0,p.jsxs)("div",{className:"w-32 h-32 border-2 border-dashed border-blue-500 text-center rounded-lg cursor-pointer hover:bg-blue-50 transition-colors flex flex-col items-center justify-center",children:[(0,p.jsx)(H.default,{}),(0,p.jsx)("p",{className:"mt-2 text-blue-500 text-xs font-medium",children:i("common.drag_and_drop")})]})});return(0,p.jsxs)("form",{onSubmit:o(t=>{let s=JSON.parse(JSON.stringify(e.theme_data||{})),a=e=>({customer:[{title:e.customer_title,subtitle:e.customer_subtitle,enabled_disabled:C.customer,image_id:_?.image_id||"",img_url:_?.img_url||""}],admin:[{title:e.admin_title,subtitle:e.admin_subtitle,image_id:x?.image_id||"",img_url:x?.img_url||""}]}),i={customer_title:t.customer_title_df||"",customer_subtitle:t.customer_subtitle_df||"",admin_title:t.admin_title_df||"",admin_subtitle:t.admin_subtitle_df||""};s.theme_pages||(s.theme_pages={}),s.theme_pages["0"]||(s.theme_pages["0"]={}),s.theme_pages["0"].theme_login_page=[a(i)],s?.theme_pages?.theme_login_page&&delete s.theme_pages.theme_login_page;let r=JSON.parse(JSON.stringify(e.translations||{}));Object.keys(r).length>0&&n.filter(e=>"df"!==e.id).forEach(e=>{let s=e.id;r[s]||(r[s]={theme_data:{}}),r[s].theme_data.theme_pages||(r[s].theme_data.theme_pages={}),r[s].theme_data.theme_pages["0"]||(r[s].theme_data.theme_pages["0"]={});let l={customer_title:t[`customer_title_${s}`]||"",customer_subtitle:t[`customer_subtitle_${s}`]||"",admin_title:t[`admin_title_${s}`]||"",admin_subtitle:t[`admin_subtitle_${s}`]||""};r[s].theme_data.theme_pages["0"].theme_login_page=[a(l)],r[s].theme_data.theme_pages?.theme_login_page&&delete r[s].theme_data.theme_pages.theme_login_page}),B({theme_data:s,translations:r},{onSuccess:()=>l()})}),children:[(0,p.jsxs)(T.Tabs,{defaultValue:"df",className:"col-span-2",children:[(0,p.jsx)(T.TabsList,{dir:"ar"===r?"rtl":"ltr",className:"flex justify-start bg-transparent",children:n.map(e=>(0,p.jsx)(T.TabsTrigger,{value:e.id,children:e.label},e.id))}),n.map(e=>{let t=e.id,s="df"===t,a=e=>s?`${e}_df`:`${e}_${t}`;return(0,p.jsx)(T.TabsContent,{value:t,className:"lg:col-span-2",children:(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsxs)(g.Card,{className:"p-4",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold mb-3",children:i("theme.login.customer")}),(0,p.jsxs)("div",{className:"space-y-3 border rounded p-4",children:[(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("label.title")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(v.Input,{className:"app-input",...d(a("customer_title"))}),(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("label.subtitle")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(z.Textarea,{className:"app-input",...d(a("customer_subtitle"))}),(0,p.jsx)("p",{className:"text-base",children:i("theme.login.social_login_enable")}),(0,p.jsx)(S.Switch,{checked:"on"===C.customer,onCheckedChange:()=>{var e;return e="customer",void w(t=>({...t,[e]:"on"===t[e]?"":"on"}))}}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium mb-1",children:i("theme.login.login_image")}),(0,p.jsx)("div",{className:"relative flex items-start gap-4",children:(0,p.jsxs)("div",{className:"relative w-32",children:[(0,p.jsx)(U.default,{trigger:J,isMultiple:!1,onSave:M,usageType:"brand",selectedImage:_}),u&&(0,p.jsx)("p",{className:"absolute text-red-500 text-sm mt-1",children:u})]})})]})]})]}),(0,p.jsxs)(g.Card,{className:"p-4",children:[(0,p.jsx)("h3",{className:"text-lg font-semibold mb-3",children:i("theme.login.admin")}),(0,p.jsxs)("div",{className:"space-y-3 border rounded p-4",children:[(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("label.title")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(v.Input,{className:"app-input",...d(a("admin_title"))}),(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("label.subtitle")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(z.Textarea,{className:"app-input",...d(a("admin_subtitle"))}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium mb-1",children:i("theme.login.login_image")}),(0,p.jsx)("div",{className:"relative flex items-start gap-4",children:(0,p.jsxs)("div",{className:"relative w-32",children:[(0,p.jsx)(U.default,{trigger:D,isMultiple:!1,onSave:L,usageType:"brand",selectedImage:x}),N&&(0,p.jsx)("p",{className:"absolute text-red-500 text-sm mt-1",children:N})]})})]})]})]})]})},t)})]}),(0,p.jsx)(g.Card,{className:"mt-4 sticky bottom-0 w-full p-4",children:(0,p.jsx)(A.SubmitButton,{IsLoading:P,AddLabel:i("button.save_changes")})})]})},ei=(r={popular_title_df:B.z.string().optional(),related_title_df:B.z.string().optional()},d=I.default.map(e=>e.id).filter(e=>"df"!==e),o={},d.forEach(e=>{o[`popular_title_${e}`]=B.z.string().optional(),o[`related_title_${e}`]=B.z.string().optional()}),B.z.object({...r,...o})),en=({allData:e,data:t,sectionIndex:s,handleChange:a,refetch:l})=>{let i=(0,y.useTranslations)(),n=(0,f.useMemo)(()=>I.default,[]),r=(0,F.usePathname)().split("/")[1],{register:d,handleSubmit:o,setValue:c}=(0,O.useForm)({resolver:(0,E.zodResolver)(ei)}),[_,m]=f.default.useState("on"),[u,h]=f.default.useState("on"),[x,j]=f.default.useState(4),[N,k]=f.default.useState(4),[C,$]=f.default.useState("on"),[w,z]=f.default.useState("on"),[B,P]=f.default.useState(4);(0,f.useEffect)(()=>{if(!e||!e.theme_data||!e?.translations)return;let t=e.theme_data?.theme_pages?.[0]?.theme_blog_page?.[0]||{};c("popular_title_df",t?.popular_title||""),c("related_title_df",t?.related_title||""),m(t?.popular_posts_section?.[0]?.enabled_disabled==="off"?"off":"on"),h(t?.related_posts_section?.[0]?.enabled_disabled==="off"?"off":"on"),j([4,6,12].includes(Number(t?.popular_posts_section?.[0]?.column_span))?Number(t?.popular_posts_section?.[0]?.column_span):4),k([4,6,12].includes(Number(t?.related_posts_section?.[0]?.column_span))?Number(t?.related_posts_section?.[0]?.column_span):4),$(t?.list_toolbar_section?.[0]?.enabled_disabled==="off"?"off":"on"),z(t?.posts_grid_section?.[0]?.enabled_disabled==="off"?"off":"on"),P([4,6,12].includes(Number(t?.posts_grid_section?.[0]?.column_span))?Number(t?.posts_grid_section?.[0]?.column_span):4),n.filter(e=>"df"!==e.id).forEach(t=>{let s=t.id,a=e?.translations?.[s]?.theme_data?.theme_pages?.[0]?.theme_blog_page?.[0]||{};c(`popular_title_${s}`,a?.popular_title||""),c(`related_title_${s}`,a?.related_title||"")})},[e,c,n]);let{mutate:M,isPending:J}=(0,b.useThemeStoreMutation)();return(0,p.jsxs)("form",{onSubmit:o(t=>{let s=JSON.parse(JSON.stringify(e.theme_data));s?.theme_pages?.["0"]&&(s.theme_pages["0"].theme_blog_page=[{popular_title:t.popular_title_df,related_title:t.related_title_df,popular_posts_section:[{enabled_disabled:_,column_span:x}],related_posts_section:[{enabled_disabled:u,column_span:N}],list_toolbar_section:[{enabled_disabled:C}],posts_grid_section:[{enabled_disabled:w,column_span:B}]}]),s?.theme_pages?.theme_blog_page&&delete s.theme_pages.theme_blog_page;let a=JSON.parse(JSON.stringify(e.translations));Object.keys(a).length>0&&n.filter(e=>"df"!==e.id).forEach(e=>{let s=e.id;a[s]||(a[s]={theme_data:{theme_pages:{0:{}}}}),a[s].theme_data?.theme_pages||(a[s].theme_data.theme_pages={0:{}}),a[s].theme_data.theme_pages["0"]||(a[s].theme_data.theme_pages["0"]={}),a[s].theme_data.theme_pages["0"].theme_blog_page=[{popular_title:t[`popular_title_${s}`],related_title:t[`related_title_${s}`],popular_posts_section:[{enabled_disabled:_,column_span:x}],related_posts_section:[{enabled_disabled:u,column_span:N}],list_toolbar_section:[{enabled_disabled:C}],posts_grid_section:[{enabled_disabled:w,column_span:B}]}],a[s].theme_data.theme_pages.theme_blog_page&&delete a[s].theme_data.theme_pages.theme_blog_page}),M({theme_data:s,translations:a},{onSuccess:()=>l()})}),children:[(0,p.jsxs)(T.Tabs,{defaultValue:"df",className:"col-span-2",children:[(0,p.jsx)(T.TabsList,{dir:"ar"===r?"rtl":"ltr",className:"flex justify-start bg-transparent",children:n.map(e=>(0,p.jsx)(T.TabsTrigger,{value:e.id,children:e.label},e.id))}),n.map(e=>{let t=e.id,s="df"===t,a=e=>s?`${e}_df`:`${e}_${t}`;return(0,p.jsx)(T.TabsContent,{value:t,className:"lg:col-span-2",children:(0,p.jsx)("div",{className:"space-y-4",children:(0,p.jsx)(g.Card,{className:"p-4",children:(0,p.jsxs)("div",{className:"space-y-3 border rounded p-4",children:[(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("theme.blog.popular_title")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(v.Input,{className:"app-input",...d(a("popular_title"))}),(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("theme.blog.related_title")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(v.Input,{className:"app-input",...d(a("related_title"))}),s?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"pt-2",children:[(0,p.jsx)("p",{className:"text-sm font-medium",children:"Popüler Yazılar - Aktif"}),(0,p.jsx)(S.Switch,{checked:"on"===_,onCheckedChange:()=>m(e=>"on"===e?"off":"on")})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Popüler Yazılar Kolon"}),(0,p.jsxs)("select",{value:x,onChange:e=>j(Number(e.target.value)||4),className:"app-input h-10 rounded border px-2 text-sm",children:[(0,p.jsx)("option",{value:4,children:"4/12"}),(0,p.jsx)("option",{value:6,children:"6/12"}),(0,p.jsx)("option",{value:12,children:"12/12"})]})]}),(0,p.jsxs)("div",{className:"pt-2",children:[(0,p.jsx)("p",{className:"text-sm font-medium",children:"İlgili Yazılar - Aktif"}),(0,p.jsx)(S.Switch,{checked:"on"===u,onCheckedChange:()=>h(e=>"on"===e?"off":"on")})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"İlgili Yazılar Kolon"}),(0,p.jsxs)("select",{value:N,onChange:e=>k(Number(e.target.value)||4),className:"app-input h-10 rounded border px-2 text-sm",children:[(0,p.jsx)("option",{value:4,children:"4/12"}),(0,p.jsx)("option",{value:6,children:"6/12"}),(0,p.jsx)("option",{value:12,children:"12/12"})]})]}),(0,p.jsxs)("div",{className:"pt-2",children:[(0,p.jsx)("p",{className:"text-sm font-medium",children:"Blog Liste Üst Bar - Aktif"}),(0,p.jsx)(S.Switch,{checked:"on"===C,onCheckedChange:()=>$(e=>"on"===e?"off":"on")})]}),(0,p.jsxs)("div",{className:"pt-2",children:[(0,p.jsx)("p",{className:"text-sm font-medium",children:"Blog Kart Grid - Aktif"}),(0,p.jsx)(S.Switch,{checked:"on"===w,onCheckedChange:()=>z(e=>"on"===e?"off":"on")})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Blog Kart Kolonu"}),(0,p.jsxs)("select",{value:B,onChange:e=>P(Number(e.target.value)||4),className:"app-input h-10 rounded border px-2 text-sm",children:[(0,p.jsx)("option",{value:4,children:"4/12"}),(0,p.jsx)("option",{value:6,children:"6/12"}),(0,p.jsx)("option",{value:12,children:"12/12"})]})]})]}):null]})})})},t)})]}),(0,p.jsx)(g.Card,{className:"mt-4 sticky bottom-0 w-full p-4",children:(0,p.jsx)(A.SubmitButton,{IsLoading:J,AddLabel:i("button.save_changes")})})]})},er=(c={delivery_title_df:B.z.string().optional(),delivery_subtitle_df:B.z.string().optional(),delivery_url:B.z.string().optional(),refund_title_df:B.z.string().optional(),refund_subtitle_df:B.z.string().optional(),refund_url:B.z.string().optional(),related_title_df:B.z.string().optional()},_=I.default.map(e=>e.id).filter(e=>"df"!==e),m={},_.forEach(e=>{m[`delivery_title_${e}`]=B.z.string().optional(),m[`delivery_subtitle_${e}`]=B.z.string().optional(),m[`refund_title_${e}`]=B.z.string().optional(),m[`refund_subtitle_${e}`]=B.z.string().optional(),m[`related_title_${e}`]=B.z.string().optional()}),B.z.object({...c,...m})),ed=({allData:e,data:t,sectionIndex:s,handleChange:a,refetch:l})=>{let i=(0,y.useTranslations)(),n=(0,f.useMemo)(()=>I.default,[]),r=(0,F.usePathname)().split("/")[1],{register:d,handleSubmit:o,setValue:c}=(0,O.useForm)({resolver:(0,E.zodResolver)(er)}),[_,m]=(0,f.useState)({emailVerification:"",loginOTP:"",maintenanceMode:""});(0,f.useEffect)(()=>{if(!e||!e.theme_data||!e?.translations)return;let t=e.theme_data?.theme_pages?.[0]?.theme_product_details_page?.[0]||{};c("delivery_title_df",t?.delivery_title||""),c("delivery_subtitle_df",t?.delivery_subtitle||""),c("delivery_url",t?.delivery_url||""),c("refund_title_df",t?.refund_title||""),c("refund_subtitle_df",t?.refund_subtitle||""),c("refund_url",t?.refund_url||""),c("related_title_df",t?.related_title||""),t.delivery_enabled_disabled&&m(e=>({...e,emailVerification:t.delivery_enabled_disabled})),t.refund_enabled_disabled&&m(e=>({...e,loginOTP:t.refund_enabled_disabled})),n.filter(e=>"df"!==e.id).forEach(t=>{let s=t.id,a=e?.translations?.[s]?.theme_data?.theme_pages?.[0]?.theme_product_details_page?.[0]||{};c(`delivery_title_${s}`,a?.delivery_title||""),c(`delivery_subtitle_${s}`,a?.delivery_subtitle||""),c(`refund_title_${s}`,a?.refund_title||""),c(`refund_subtitle_${s}`,a?.refund_subtitle||""),c(`related_title_${s}`,a?.related_title||"")})},[e,c,n]);let u=e=>{m(t=>({...t,[e]:"on"===t[e]?"":"on"}))},{mutate:h,isPending:x}=(0,b.useThemeStoreMutation)();return(0,p.jsxs)("form",{onSubmit:o(t=>{let s=JSON.parse(JSON.stringify(e.theme_data));s?.theme_pages?.["0"]&&(s.theme_pages["0"].theme_product_details_page=[{delivery_title:t.delivery_title_df,delivery_subtitle:t.delivery_subtitle_df,delivery_url:t.delivery_url,refund_title:t.refund_title_df,refund_subtitle:t.refund_subtitle_df,refund_url:t.refund_url,related_title:t.related_title_df,delivery_enabled_disabled:_.emailVerification,refund_enabled_disabled:_.loginOTP}]),s?.theme_pages?.theme_product_details_page&&delete s.theme_pages.theme_product_details_page;let a=JSON.parse(JSON.stringify(e.translations));Object.keys(a).length>0&&n.forEach(e=>{let s=e.id;a[s].theme_data.theme_pages["0"]||(a[s].theme_data.theme_pages["0"]={}),a[s].theme_data.theme_pages["0"].theme_product_details_page=[{delivery_title:t[`delivery_title_${s}`],delivery_subtitle:t[`delivery_subtitle_${s}`],refund_title:t[`refund_title_${s}`],refund_subtitle:t[`refund_subtitle_${s}`],related_title:t[`related_title_${s}`],delivery_url:t.delivery_url,refund_url:t.refund_url,delivery_enabled_disabled:_.emailVerification,refund_enabled_disabled:_.loginOTP}],a[s].theme_data.theme_pages.theme_product_details_page&&delete a[s].theme_data.theme_pages.theme_product_details_page}),h({theme_data:s,translations:a},{onSuccess:()=>l()})}),children:[(0,p.jsxs)(T.Tabs,{defaultValue:"df",className:"col-span-2",children:[(0,p.jsx)(T.TabsList,{dir:"ar"===r?"rtl":"ltr",className:"flex justify-start bg-transparent",children:n.map(e=>(0,p.jsx)(T.TabsTrigger,{value:e.id,children:e.label},e.id))}),n.map(e=>{let t=e.id,s="df"===t,a=e=>s?`${e}_df`:`${e}_${t}`;return(0,p.jsx)(T.TabsContent,{value:t,className:"lg:col-span-2",children:(0,p.jsx)("div",{className:"space-y-4",children:(0,p.jsx)(g.Card,{className:"p-4",children:(0,p.jsxs)("div",{className:"space-y-3 border rounded p-4",children:[(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("theme.product_details.delivery_title")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(v.Input,{className:"app-input",...d(a("delivery_title"))}),(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("theme.product_details.delivery_subtitle")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(v.Input,{className:"app-input",...d(a("delivery_subtitle"))}),(0,p.jsx)("label",{className:"block text-sm font-medium",children:i("theme.product_details.delivery_url")}),(0,p.jsx)(v.Input,{className:"app-input",...d("delivery_url")}),(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("theme.product_details.refund_title")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(v.Input,{className:"app-input",...d(a("refund_title"))}),(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("theme.product_details.refund_subtitle")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(v.Input,{className:"app-input",...d(a("refund_subtitle"))}),(0,p.jsx)("label",{className:"block text-sm font-medium",children:i("theme.product_details.refund_url")}),(0,p.jsx)(v.Input,{className:"app-input",...d("refund_url")}),(0,p.jsxs)("label",{className:"block text-sm font-medium",children:[i("theme.product_details.related_title")," (",i(`lang.${t}`),")"]}),(0,p.jsx)(v.Input,{className:"app-input",...d(a("related_title"))}),(0,p.jsx)("p",{className:"text-base",children:i("theme.product_details.delivery_enable")}),(0,p.jsx)(S.Switch,{checked:"on"===_.emailVerification,onCheckedChange:()=>u("emailVerification")}),(0,p.jsx)("p",{className:"text-base",children:i("theme.product_details.refund_enable")}),(0,p.jsx)(S.Switch,{checked:"on"===_.loginOTP,onCheckedChange:()=>u("loginOTP")})]})})})},t)})]}),(0,p.jsx)(g.Card,{className:"mt-4 sticky bottom-0 w-full p-4",children:(0,p.jsx)(A.SubmitButton,{IsLoading:x,AddLabel:i("button.save_changes")})})]})},eo=e=>({id:`popup_${Date.now()}_${Math.floor(1e3*Math.random())}`,enabled_disabled:"on",title:"",subtitle:"",button_text:"",button_url:"",image_id:null,image_id_url:"",img_url:"",image_url:"",coupon_code:"",sort_order:e,delay_seconds:3,frequency_days:3,page_target:"all",display_type:"modal_center",text_behavior:"static",popup_bg_color:"#0E5ABC",popup_text_color:"#FFFFFF",popup_button_bg_color:"#FFFFFF",popup_button_text_color:"#0E5ABC"}),ec=({allData:e,refetch:t})=>{let s=(0,y.useTranslations)(),a=(0,f.useMemo)(()=>I.default,[]),l=(0,f.useMemo)(()=>a.filter(e=>"df"!==e.id),[a]),i=(0,F.usePathname)().split("/")[1],[n,r]=(0,f.useState)([]),[d,o]=(0,f.useState)({}),c=(0,f.useRef)(""),{mutate:_,isPending:m}=(0,b.useThemeStoreMutation)(),u=(0,f.useMemo)(()=>JSON.stringify({defaultRaw:e?.theme_data?.theme_pages?.[0]?.theme_popup_settings??[],translationRaw:l.map(t=>({lang:t.id,popups:e?.translations?.[t.id]?.theme_data?.theme_pages?.[0]?.theme_popup_settings??[]}))}),[e,l]);(0,f.useEffect)(()=>{if(u===c.current)return;c.current=u;let t=e?.theme_data?.theme_pages?.[0]?.theme_popup_settings,s=Array.isArray(t)&&t.length>0?t.map((e,t)=>({id:String(e?.id||`popup_${t+1}`),enabled_disabled:e?.enabled_disabled==="on"?"on":"off",title:e?.title||"",subtitle:e?.subtitle||"",button_text:e?.button_text||"",button_url:e?.button_url||"",image_id:e?.image_id?String(e.image_id):null,image_id_url:e?.image_id_url||"",img_url:e?.image_id_url||e?.img_url||e?.image_url||"",image_url:e?.image_id_url||e?.image_url||e?.img_url||"",coupon_code:e?.coupon_code||"",sort_order:Number(e?.sort_order??t+1),delay_seconds:Number(e?.delay_seconds??3),frequency_days:Number(e?.frequency_days??3),page_target:e?.page_target==="home"?"home":"all",display_type:e?.display_type==="top_bar"||e?.display_type==="bottom_bar"?e.display_type:"modal_center",text_behavior:e?.text_behavior==="marquee"?"marquee":"static",popup_bg_color:e?.popup_bg_color||"#0E5ABC",popup_text_color:e?.popup_text_color||"#FFFFFF",popup_button_bg_color:e?.popup_button_bg_color||"#FFFFFF",popup_button_text_color:e?.popup_button_text_color||"#0E5ABC"})):[eo(1)];r(s);let a={};l.forEach(t=>{let l=e?.translations?.[t.id]?.theme_data?.theme_pages?.[0]?.theme_popup_settings,i=Array.isArray(l)?l:[];a[t.id]=s.map((e,t)=>{let s=i[t]||{};return{...e,title:s?.title||"",subtitle:s?.subtitle||"",button_text:s?.button_text||""}})}),o(a)},[e,l,u]);let h=()=>{r(e=>[...e,eo(e.length+1)].map((e,t)=>({...e,sort_order:t+1}))),o(e=>{let t={...e};return l.forEach(e=>{let s=t[e.id]||[];t[e.id]=[...s,eo(s.length+1)]}),t})},x=(e,t,s)=>{r(a=>a.map((a,l)=>l===e?{...a,[t]:s}:a))},j=(e,t,s,a)=>{o(l=>({...l,[e]:(l[e]||[]).map((e,l)=>l===t?{...e,[s]:a}:e)}))};return(0,p.jsxs)("form",{onSubmit:s=>{let a,i;s.preventDefault(),(a=JSON.parse(JSON.stringify(e.theme_data||{}))).theme_pages||(a.theme_pages={}),a.theme_pages["0"]||(a.theme_pages["0"]={}),a.theme_pages["0"].theme_popup_settings=n.map((e,t)=>({...e,id:e.id||`popup_${t+1}`,enabled_disabled:"on"===e.enabled_disabled?"on":"off",sort_order:t+1})),i=JSON.parse(JSON.stringify(e.translations||{})),l.forEach(e=>{i[e.id]||(i[e.id]={theme_data:{theme_pages:{0:{}}}}),i[e.id].theme_data?.theme_pages||(i[e.id].theme_data.theme_pages={0:{}}),i[e.id].theme_data.theme_pages["0"]||(i[e.id].theme_data.theme_pages["0"]={});let t=d[e.id]||[];i[e.id].theme_data.theme_pages["0"].theme_popup_settings=n.map((e,s)=>({...e,title:t[s]?.title||"",subtitle:t[s]?.subtitle||"",button_text:t[s]?.button_text||"",sort_order:s+1}))}),_({theme_data:a,translations:i},{onSuccess:()=>t()})},children:[(0,p.jsxs)(T.Tabs,{defaultValue:"df",className:"col-span-2",children:[(0,p.jsx)(T.TabsList,{dir:"ar"===i?"rtl":"ltr",className:"flex justify-start bg-transparent",children:a.map(e=>(0,p.jsx)(T.TabsTrigger,{value:e.id,children:e.label},e.id))}),a.map(e=>{let t="df"===e.id,a=t?n:d[e.id]||[];return(0,p.jsx)(T.TabsContent,{value:e.id,className:"lg:col-span-2",children:(0,p.jsxs)(g.Card,{className:"p-4",children:[(0,p.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,p.jsxs)("p",{className:"text-sm font-semibold",children:["Popup Listesi (",a.length,")"]}),t?(0,p.jsx)("button",{type:"button",onClick:h,className:"rounded border px-3 py-1 text-xs font-medium",children:"+ Popup Ekle"}):null]}),(0,p.jsx)("div",{className:"space-y-4",children:a.map((i,n)=>{var d;return(0,p.jsxs)("div",{className:"space-y-3 rounded border p-3",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsxs)("p",{className:"text-sm font-semibold",children:["Popup #",n+1]}),(0,p.jsx)("span",{className:`rounded px-2 py-0.5 text-xs font-medium ${"top_bar"===(d=i.display_type)?"bg-blue-100 text-blue-700":"bottom_bar"===d?"bg-emerald-100 text-emerald-700":"bg-indigo-100 text-indigo-700"}`,children:((e,t)=>{var s;let a=e[t];if(!a)return"Modal #1";let l=e.slice(0,t+1).filter(e=>e.display_type===a.display_type).length;return`${"top_bar"===(s=a.display_type)?"Top":"bottom_bar"===s?"Bottom":"Modal"} #${l}`})(a,n)})]}),t?(0,p.jsx)("button",{type:"button",onClick:()=>{r(e=>e.filter((e,t)=>t!==n).map((e,t)=>({...e,sort_order:t+1}))),o(e=>{let t={...e};return l.forEach(e=>{t[e.id]=(t[e.id]||[]).filter((e,t)=>t!==n).map((e,t)=>({...e,sort_order:t+1}))}),t})},className:"rounded border px-2 py-1 text-xs text-red-600",children:"Sil"}):null]}),(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Başlık"}),(0,p.jsx)(v.Input,{className:"app-input",value:i.title,onChange:s=>t?x(n,"title",s.target.value):j(e.id,n,"title",s.target.value)}),(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Alt Metin"}),(0,p.jsx)(v.Input,{className:"app-input",value:i.subtitle,onChange:s=>t?x(n,"subtitle",s.target.value):j(e.id,n,"subtitle",s.target.value)}),(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Buton Metni"}),(0,p.jsx)(v.Input,{className:"app-input",value:i.button_text,onChange:s=>t?x(n,"button_text",s.target.value):j(e.id,n,"button_text",s.target.value)}),t?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Buton URL"}),(0,p.jsx)(v.Input,{className:"app-input",value:i.button_url,onChange:e=>x(n,"button_url",e.target.value)}),(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Kupon Kodu"}),(0,p.jsx)(v.Input,{className:"app-input",value:i.coupon_code,onChange:e=>x(n,"coupon_code",e.target.value)}),(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Görsel"}),(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsx)(U.default,{trigger:i.img_url?(0,p.jsx)("div",{className:"relative h-20 w-20 cursor-pointer overflow-hidden rounded border",children:(0,p.jsx)($.default,{src:i.img_url,alt:"Popup",fill:!0,className:"object-cover",sizes:"80px"})}):(0,p.jsx)("div",{className:"flex h-20 w-20 cursor-pointer items-center justify-center rounded border border-dashed text-xs text-gray-500",children:"Görsel Seç"}),isMultiple:!1,onSave:e=>((e,t)=>{let s=t[0];if(!s)return;let a=s.img_url||s.image_id_url||s.url||"",l=e=>null==e?"":String(e),i=l(s.image_id),n=l(s.id),r=/^\d+$/.test(i)?i:/^\d+$/.test(n)?n:"";(r||a)&&(x(e,"image_id",r||null),x(e,"image_id_url",a),x(e,"img_url",a),x(e,"image_url",a))})(n,e),usageType:"theme_popup",selectedImage:i.img_url||i.image_id_url?{image_id:i.image_id||"",img_url:i.img_url||i.image_id_url||"",url:i.img_url||i.image_id_url||"",name:"popup"}:void 0}),i.img_url||i.image_id_url?(0,p.jsx)("button",{type:"button",onClick:()=>{x(n,"image_id",null),x(n,"image_id_url",""),x(n,"img_url",""),x(n,"image_url","")},className:"rounded border px-3 py-1 text-xs text-red-600",children:"Kaldır"}):null]}),(0,p.jsxs)("div",{className:"grid gap-3 md:grid-cols-3",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Gecikme (sn)"}),(0,p.jsx)(v.Input,{type:"number",min:0,className:"app-input",value:i.delay_seconds,onChange:e=>x(n,"delay_seconds",Number(e.target.value||0))})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Tekrar (gün)"}),(0,p.jsx)(v.Input,{type:"number",min:0,className:"app-input",value:i.frequency_days,onChange:e=>x(n,"frequency_days",Number(e.target.value||0))})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Sıra"}),(0,p.jsx)(v.Input,{type:"number",min:1,className:"app-input",value:i.sort_order,onChange:e=>x(n,"sort_order",Number(e.target.value||n+1))})]})]}),(0,p.jsxs)("div",{className:"grid gap-3 md:grid-cols-3",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Hedef Sayfa"}),(0,p.jsxs)("select",{value:i.page_target,onChange:e=>x(n,"page_target","home"===e.target.value?"home":"all"),className:"app-input h-10 rounded border px-2 text-sm",children:[(0,p.jsx)("option",{value:"all",children:"Tüm Sayfalar"}),(0,p.jsx)("option",{value:"home",children:"Sadece Ana Sayfa"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Konum"}),(0,p.jsxs)("select",{value:i.display_type,onChange:e=>x(n,"display_type",e.target.value),className:"app-input h-10 rounded border px-2 text-sm",children:[(0,p.jsx)("option",{value:"modal_center",children:"Ortada Popup"}),(0,p.jsx)("option",{value:"top_bar",children:"Sayfa Üstü Bar"}),(0,p.jsx)("option",{value:"bottom_bar",children:"Sayfa Altı Bar"})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Metin Davranışı"}),(0,p.jsxs)("select",{value:i.text_behavior,onChange:e=>x(n,"text_behavior",e.target.value),className:"app-input h-10 rounded border px-2 text-sm",children:[(0,p.jsx)("option",{value:"static",children:"Sabit"}),(0,p.jsx)("option",{value:"marquee",children:"Kayan Yazı"})]})]})]}),(0,p.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Popup Arkaplan"}),(0,p.jsx)(v.Input,{type:"color",className:"app-input h-10 w-full p-1",value:i.popup_bg_color||"#0E5ABC",onChange:e=>x(n,"popup_bg_color",e.target.value)})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Popup Yazı"}),(0,p.jsx)(v.Input,{type:"color",className:"app-input h-10 w-full p-1",value:i.popup_text_color||"#FFFFFF",onChange:e=>x(n,"popup_text_color",e.target.value)})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Buton Arkaplan"}),(0,p.jsx)(v.Input,{type:"color",className:"app-input h-10 w-full p-1",value:i.popup_button_bg_color||"#FFFFFF",onChange:e=>x(n,"popup_button_bg_color",e.target.value)})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Buton Yazı"}),(0,p.jsx)(v.Input,{type:"color",className:"app-input h-10 w-full p-1",value:i.popup_button_text_color||"#0E5ABC",onChange:e=>x(n,"popup_button_text_color",e.target.value)})]})]}),(0,p.jsxs)("div",{className:"pt-1",children:[(0,p.jsx)("p",{className:"text-base",children:s("common.enable_disable")}),(0,p.jsx)(S.Switch,{checked:"on"===i.enabled_disabled,onCheckedChange:()=>x(n,"enabled_disabled","on"===i.enabled_disabled?"off":"on")})]})]}):null]},`${e.id}_${i.id}_${n}`)})})]})},e.id)})]}),(0,p.jsx)(g.Card,{className:"mt-4 sticky bottom-0 w-full p-4",children:(0,p.jsx)(A.SubmitButton,{IsLoading:m,AddLabel:s("button.save_changes")})})]})},e_=()=>({id:"left_sticky_banner_1",enabled_disabled:"off",title:"Sol Sticky Banner",link_url:"",open_in_new_tab:"off",page_target:"all",width_px:240,top_offset_px:200,banner_order:1,dismissible:"on",dismiss_policy:"days",dismiss_days:1}),em=({allData:e,refetch:t})=>{let s=(0,y.useTranslations)(),a=(0,F.usePathname)().split("/")[1],l=(0,f.useMemo)(()=>I.default,[]),i=(0,f.useMemo)(()=>l.filter(e=>"df"!==e.id),[l]),n=(0,f.useRef)(""),[r,d]=(0,f.useState)(e_()),[o,c]=(0,f.useState)({}),{mutate:_,isPending:m}=(0,b.useThemeStoreMutation)(),u=(0,f.useMemo)(()=>JSON.stringify({rawDefault:e?.theme_data?.theme_pages?.[0]?.theme_side_banner_settings?.[0]||{},rawTranslations:i.map(t=>({lang:t.id,item:e?.translations?.[t.id]?.theme_data?.theme_pages?.[0]?.theme_side_banner_settings?.[0]||{}}))}),[e,i]);return(0,f.useEffect)(()=>{if(u===n.current)return;n.current=u;let t=e?.theme_data?.theme_pages?.[0]?.theme_side_banner_settings?.[0]||{},s={...e_(),...t,id:String(t?.id||"left_sticky_banner_1"),enabled_disabled:t?.enabled_disabled==="on"?"on":"off",link_url:t?.link_url||"",open_in_new_tab:t?.open_in_new_tab==="on"?"on":"off",page_target:t?.page_target==="home"||t?.page_target==="product"?t.page_target:"all",width_px:Math.max(180,Number(t?.width_px||240)),top_offset_px:Math.max(80,Number(t?.top_offset_px||200)),banner_order:Math.max(1,Number(t?.banner_order||1)),dismissible:t?.dismissible==="off"?"off":"on",dismiss_policy:t?.dismiss_policy==="always"||t?.dismiss_policy==="session"?t.dismiss_policy:"days",dismiss_days:Math.max(1,Number(t?.dismiss_days||1))};d(s);let a={};i.forEach(t=>{let l=e?.translations?.[t.id]?.theme_data?.theme_pages?.[0]?.theme_side_banner_settings?.[0]||{};a[t.id]={...s,title:l?.title||""}}),c(a)},[e,u,i]),(0,p.jsxs)("form",{onSubmit:s=>{let a,l;s.preventDefault(),(a=JSON.parse(JSON.stringify(e.theme_data||{}))).theme_pages||(a.theme_pages={}),a.theme_pages["0"]||(a.theme_pages["0"]={}),a.theme_pages["0"].theme_side_banner_settings=[r],l=JSON.parse(JSON.stringify(e.translations||{})),i.forEach(e=>{l[e.id]||(l[e.id]={theme_data:{theme_pages:{0:{}}}}),l[e.id].theme_data?.theme_pages||(l[e.id].theme_data.theme_pages={0:{}}),l[e.id].theme_data.theme_pages["0"]||(l[e.id].theme_data.theme_pages["0"]={}),l[e.id].theme_data.theme_pages["0"].theme_side_banner_settings=[{...r,title:o[e.id]?.title||""}]}),_({theme_data:a,translations:l},{onSuccess:()=>t()})},children:[(0,p.jsxs)(T.Tabs,{defaultValue:"df",className:"col-span-2",children:[(0,p.jsx)(T.TabsList,{dir:"ar"===a?"rtl":"ltr",className:"flex justify-start bg-transparent",children:l.map(e=>(0,p.jsx)(T.TabsTrigger,{value:e.id,children:e.label},e.id))}),l.map(e=>{let t="df"===e.id,a=t?r:o[e.id]||r;return(0,p.jsx)(T.TabsContent,{value:e.id,className:"lg:col-span-2",children:(0,p.jsxs)(g.Card,{className:"space-y-4 p-4",children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Banner Başlığı"}),(0,p.jsx)(v.Input,{className:"app-input",value:a.title,onChange:s=>{let a=s.target.value;t?d(e=>({...e,title:a})):c(t=>({...t,[e.id]:{...t[e.id]||r,title:a}}))}}),t?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Banner Sırası"}),(0,p.jsx)(v.Input,{type:"number",min:1,className:"app-input",value:a.banner_order,onChange:e=>d(t=>({...t,banner_order:Math.max(1,Number(e.target.value||1))}))}),(0,p.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"1, 2, 3... olarak mevcut banner listesindeki sıraya göre seçer."})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Hedef Sayfa"}),(0,p.jsxs)("select",{value:a.page_target,onChange:e=>d(t=>({...t,page_target:"home"===e.target.value||"product"===e.target.value?e.target.value:"all"})),className:"app-input h-10 rounded border px-2 text-sm",children:[(0,p.jsx)("option",{value:"all",children:"Tüm Sayfalar"}),(0,p.jsx)("option",{value:"home",children:"Sadece Ana Sayfa"}),(0,p.jsx)("option",{value:"product",children:"Sadece Ürün Sayfası"})]})]})]}),(0,p.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Link URL (Opsiyonel)"}),(0,p.jsx)(v.Input,{className:"app-input",value:a.link_url,onChange:e=>d(t=>({...t,link_url:e.target.value}))})]}),(0,p.jsxs)("div",{className:"pt-1",children:[(0,p.jsx)("p",{className:"text-base",children:"Yeni Sekmede Aç"}),(0,p.jsx)(S.Switch,{checked:"on"===a.open_in_new_tab,onCheckedChange:()=>d(e=>({...e,open_in_new_tab:"on"===e.open_in_new_tab?"off":"on"}))})]})]}),(0,p.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Genişlik (px)"}),(0,p.jsx)(v.Input,{type:"number",min:180,className:"app-input",value:a.width_px,onChange:e=>d(t=>({...t,width_px:Math.max(180,Number(e.target.value||240))}))})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Üst Ofset (px)"}),(0,p.jsx)(v.Input,{type:"number",min:80,className:"app-input",value:a.top_offset_px,onChange:e=>d(t=>({...t,top_offset_px:Math.max(80,Number(e.target.value||200))}))})]})]}),(0,p.jsxs)("div",{className:"pt-1",children:[(0,p.jsx)("p",{className:"text-base",children:s("common.enable_disable")}),(0,p.jsx)(S.Switch,{checked:"on"===a.enabled_disabled,onCheckedChange:()=>d(e=>({...e,enabled_disabled:"on"===e.enabled_disabled?"off":"on"}))})]}),(0,p.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,p.jsxs)("div",{className:"pt-1",children:[(0,p.jsx)("p",{className:"text-base",children:"Kapatma Butonu"}),(0,p.jsx)(S.Switch,{checked:"on"===a.dismissible,onCheckedChange:()=>d(e=>({...e,dismissible:"on"===e.dismissible?"off":"on"}))})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Tekrar Gösterim"}),(0,p.jsxs)("select",{value:a.dismiss_policy,onChange:e=>d(t=>({...t,dismiss_policy:"always"===e.target.value||"session"===e.target.value?e.target.value:"days"})),className:"app-input h-10 rounded border px-2 text-sm",children:[(0,p.jsx)("option",{value:"always",children:"Her Zaman Göster"}),(0,p.jsx)("option",{value:"session",children:"Sadece Oturum Boyunca Gizle"}),(0,p.jsx)("option",{value:"days",children:"Gün Bazlı Gizle"})]})]})]}),"days"===a.dismiss_policy?(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium",children:"Kaç Gün Gizlensin"}),(0,p.jsx)(v.Input,{type:"number",min:1,className:"app-input",value:a.dismiss_days,onChange:e=>d(t=>({...t,dismiss_days:Math.max(1,Number(e.target.value||1))}))})]}):null]}):null]})},e.id)})]}),(0,p.jsx)(g.Card,{className:"sticky bottom-0 mt-4 w-full p-4",children:(0,p.jsx)(A.SubmitButton,{IsLoading:m,AddLabel:s("button.save_changes")})})]})},ep=({allData:e,refetch:t,data:s,sectionIndex:a,handleChange:l,selectedChild:i})=>{if(!s||0===s.length||!i||!Array.isArray(s))return null;switch(i){case"theme_home_page":return(0,p.jsx)(q,{allData:e,refetch:t,data:s,sectionIndex:a,handleChange:l});case"theme_login_page":return(0,p.jsx)(el,{allData:e,refetch:t,data:s,sectionIndex:a,handleChange:l});case"theme_register_page":return(0,p.jsx)(es,{allData:e,refetch:t,data:s,sectionIndex:a,handleChange:l});case"theme_blog_page":return(0,p.jsx)(en,{allData:e,refetch:t,data:s,sectionIndex:a,handleChange:l});case"theme_product_details_page":return(0,p.jsx)(ed,{allData:e,refetch:t,data:s,sectionIndex:a,handleChange:l});case"theme_popup_settings":return(0,p.jsx)(ec,{allData:e,refetch:t,data:s,sectionIndex:a,handleChange:l});case"theme_side_banner_settings":return(0,p.jsx)(em,{allData:e,refetch:t});default:return(0,p.jsxs)("p",{className:"text-sm text-gray-500",children:["No editor implemented for ",(0,p.jsx)("strong",{children:i})]})}},eu=({data:e,sectionIndex:t,handleChange:s})=>{let a=(0,y.useTranslations)();return(0,p.jsx)(g.Card,{className:"space-y-6 p-6",children:e.map((e,l)=>{let i=e.colors?.[0]||{};return(0,p.jsxs)("div",{className:"flex gap-6",children:[(0,p.jsxs)("div",{className:"space-y-2",children:[(0,p.jsx)("p",{className:"text-sm font-medium",children:a("theme.style.primary_color")}),(0,p.jsxs)("div",{className:"p-1 flex items-center gap-2 border border-slate-300 w-48 rounded",children:[(0,p.jsxs)(N.Popover,{children:[(0,p.jsx)(N.PopoverTrigger,{asChild:!0,children:(0,p.jsx)(h.Button,{className:"w-12 h-10 rounded-md border",style:{backgroundColor:i.primary||"#ffffff"}})}),(0,p.jsx)(N.PopoverContent,{className:"w-56 p-4",children:(0,p.jsx)(j.HexColorPicker,{color:i.primary||"#ffffff",onChange:e=>s(t,l,"primary",e)})})]}),(0,p.jsx)(v.Input,{type:"text",value:i.primary||"",onChange:e=>s(t,l,"primary",e.target.value),className:"text-start border-transparent focus-visible:ring-0 focus-visible:ring-offset-0 bg-transparent"})]})]}),(0,p.jsxs)("div",{className:"space-y-2",children:[(0,p.jsx)("p",{className:"text-sm font-medium",children:a("theme.style.secondary_color")}),(0,p.jsxs)("div",{className:"p-1 flex items-center gap-2 border border-slate-300 w-48 rounded",children:[(0,p.jsxs)(N.Popover,{children:[(0,p.jsx)(N.PopoverTrigger,{asChild:!0,children:(0,p.jsx)(h.Button,{className:"w-12 h-10 rounded-md border",style:{backgroundColor:i.secondary||"#ffffff"}})}),(0,p.jsx)(N.PopoverContent,{className:"w-56 p-4",children:(0,p.jsx)(j.HexColorPicker,{color:i.secondary||"#ffffff",onChange:e=>s(t,l,"secondary",e)})})]}),(0,p.jsx)(v.Input,{type:"text",value:i.secondary||"",onChange:e=>s(t,l,"secondary",e.target.value),className:"text-start border-transparent focus-visible:ring-0 focus-visible:ring-offset-0 bg-transparent"})]})]})]},l)})})},eh=({ThemeDetails:e,refetch:t,ID:s})=>{let a=(0,y.useTranslations)(),[l,i]=(0,f.useState)(null),[n,r]=(0,f.useState)([]),[d,o]=(0,f.useState)([]),c=e?.theme_data,_=Object.keys(c).filter(e=>e.startsWith("theme_"));(0,f.useEffect)(()=>{_.length&&!l&&i(_[0])},[_,l]),(0,f.useEffect)(()=>{if(!l)return;let[e,t]=l.split(".");if(t){let s=c[e];if(Array.isArray(s)&&s.length>0){let e=s[0][t];e&&r(JSON.parse(JSON.stringify(e)))}}else{let e=c[l];e&&r(JSON.parse(JSON.stringify(e)))}},[l,c]);let m=(e,t,s,a)=>{let l=[...n];l[t]?.colors?.[0]?l[t].colors[0]={...l[t].colors[0],[s]:a}:l[t]={...l[t],[s]:a},r(l)},j=e=>{o(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},{mutate:N,isPending:v}=(0,b.useThemeStoreMutation)();l?.split(".")[0];let C=l?.split(".")[1];return(0,p.jsxs)(g.Card,{className:"grid grid-cols-12  mt-4 ",children:[(0,p.jsx)("div",{className:"col-span-2 p-4  border-r",children:(0,p.jsx)("ul",{className:"space-y-2",children:_.map(e=>{let t=c[e],s=Array.isArray(t)&&t.length?Object.keys(t[0]).filter(e=>e.startsWith("theme_")):[],n="theme_pages"===e?Array.from(new Set([...s,"theme_home_page","theme_login_page","theme_register_page","theme_product_details_page","theme_blog_page","theme_popup_settings","theme_side_banner_settings"])):s,r=n.length>0,_=d.includes(e),m=n.some(t=>l===`${e}.${t}`);return(0,p.jsxs)("li",{children:[(0,p.jsxs)("button",{onClick:()=>{r?j(e):(i(e),o([]))},className:`w-full text-left capitalize px-3 py-2 flex justify-between items-center font-semibold ${l===e||m?"bg-blue-50 text-blue-500":"hover:bg-gray-100 text-gray-500"}`,children:[a(`theme.sidebar.${e.replace("theme_","")}`),r&&(0,p.jsx)("span",{className:`transition-transform duration-200 ${_||m?"rotate-180":""}`,children:(0,p.jsx)(x.ChevronDown,{})})]}),r&&(_||m)&&(0,p.jsx)("ul",{className:"ml-4 mt-1 space-y-1",children:n.map(t=>(0,p.jsx)("li",{children:(0,p.jsx)("button",{onClick:()=>{i(`${e}.${t}`),d.includes(e)||j(e)},className:`w-full text-left capitalize px-3 py-2 rounded text-sm font-semibold ${l===`${e}.${t}`?"bg-blue-50 text-blue-500":"bg-gray-50 hover:bg-gray-100 text-gray-500"}`,children:a(`theme.sidebar.${t.replace("theme_","")}`)})},t))})]},e)})})}),(0,p.jsxs)("div",{className:"col-span-10 p-4 flex flex-col min-h-[calc(100vh-18rem)] bg-gray-50 dark:bg-gray-700",children:[(0,p.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,p.jsx)("h2",{className:"text-xl font-semibold capitalize",children:l?`${l.split(".").map(e=>a(`theme.sidebar.${e.replace("theme_","")}`)).join(" > ")} ${a("theme.settings_suffix")}`:a("theme.details")})}),l?(0,p.jsxs)("div",{className:"space-y-4",children:[l.startsWith("theme_style")&&(0,p.jsx)(eu,{data:n,sectionIndex:0,handleChange:m}),l.startsWith("theme_header")&&(0,p.jsx)(w,{data:n,sectionIndex:0,handleChange:m,ID:s}),l.startsWith("theme_footer")&&(0,p.jsx)(k,{data:n,sectionIndex:0,handleChange:m}),l.startsWith("theme_pages")&&(0,p.jsx)(ep,{allData:e,refetch:t,data:n,sectionIndex:0,handleChange:m,selectedChild:C})]}):(0,p.jsx)("p",{className:"text-gray-500",children:a("theme.select_section")}),"theme_home_page"!==C&&"theme_product_details_page"!==C&&"theme_login_page"!==C&&"theme_blog_page"!==C&&"theme_register_page"!==C&&"theme_popup_settings"!==C&&"theme_side_banner_settings"!==C&&(0,p.jsx)(g.Card,{className:"mt-4 sticky bottom-0 w-full p-4",children:(0,p.jsx)(h.Button,{onClick:()=>{if(!l)return;let[e,s]=l.split("."),a={...c};if(s){let t=c[e],l=Array.isArray(t)?[...t]:[{}];0===l.length&&l.push({}),l[0][s]=n,a[e]=l}else a[l]=n;N({theme_data:a},{onSuccess:()=>{t()}})},disabled:v,className:"app-button text-sm flex items-center justify-center gap-2",children:v?(0,p.jsx)(u.default,{size:"small"}):(0,p.jsx)("span",{children:a("button.save_changes")})})})]})]})};var eg=e.i(459565),eb=e.i(536719);e.s(["default",0,({ID:e})=>{let t=(0,y.useTranslations)(),s=(0,F.usePathname)(),a=(0,eb.useAppSelector)(e=>e.refetchValue.isRefetch),{ThemeDetails:l,refetch:i,isPending:n}=(0,b.useThemeDetailsById)(e);(0,f.useEffect)(()=>{a&&i()},[a,i]);let[r,d]=(0,f.useState)(!1);return((0,f.useEffect)(()=>{d(!1)},[s]),(0,f.useEffect)(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[r]),e)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(eg.default,{isLoading:r}),(0,p.jsx)(g.Card,{children:(0,p.jsx)(g.CardContent,{className:"flex flex-col md:flex-row items-center justify-between p-2  md:p-4",children:(0,p.jsxs)("div",{className:"space-y-2 mb-4 md:mb-0",children:[(0,p.jsx)("h1",{className:"text-lg md:text-2xl font-semibold text-black dark:text-white flex items-center gap-2",children:`${l?.theme_data?.name?l?.theme_data?.name:t("theme.title")} ${t("theme.customization")}`}),(0,p.jsx)("p",{className:"text-sm font-semibold text-gray-500 dark:text-white flex items-center gap-2",children:t("theme.description")})]})})}),n||!l?(0,p.jsxs)(g.Card,{className:"grid grid-cols-12 mt-4 animate-pulse",children:[(0,p.jsx)("div",{className:"col-span-2 p-4 border-r space-y-3",children:Array(6).fill(0).map((e,t)=>(0,p.jsx)("div",{className:"h-8 w-full rounded-md bg-gray-300 dark:bg-gray-700"},t))}),(0,p.jsxs)("div",{className:"col-span-10 p-4 flex flex-col min-h-[calc(100vh-18rem)] bg-gray-50 space-y-6",children:[(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsx)("div",{className:"h-6 w-1/3 rounded-md bg-gray-300 dark:bg-gray-700"}),(0,p.jsx)("div",{className:"h-8 w-20 rounded-md bg-gray-300 dark:bg-gray-700"})]}),(0,p.jsx)("div",{className:"space-y-4",children:[,,,,].fill(0).map((e,t)=>(0,p.jsx)("div",{className:"h-12 w-full rounded-md bg-gray-300 dark:bg-gray-700"},t))}),(0,p.jsx)(g.Card,{className:"mt-4 sticky bottom-0 w-full p-4",children:(0,p.jsx)("div",{className:"h-9 w-32 rounded-md bg-gray-300 dark:bg-gray-700"})})]})]}):(0,p.jsx)(eh,{ThemeDetails:l,refetch:i,ID:e})]}):(0,p.jsx)("div",{className:"mt-10",children:(0,p.jsx)("h1",{className:"text-xl text-red-500",children:t("common.invalid_id")})})}],747383)}]);