(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,328068,e=>{"use strict";var t=e.i(843476),a=e.i(720126);e.i(12138);var s=e.i(417135),l=e.i(339339),i=e.i(9075),r=e.i(580702),n=e.i(738279),d=e.i(35988);e.i(16260);var c=e.i(817478),o=e.i(893742),m=e.i(801529),u=e.i(629288);e.i(614271);var p=e.i(519455),x=e.i(515288),h=e.i(257428),g=e.i(793479),_=e.i(110204),v=e.i(677572),j=e.i(624687),b=e.i(746798),f=e.i(144410),y=e.i(225960),N=e.i(584540),C=e.i(554226),w=e.i(526354),S=e.i(298574),k=e.i(981361),$=e.i(978831),T=e.i(681307);T.z.object({id:T.z.string()});let z={name_df:T.z.string().min(2,"Brand name must be at least 2 characters long"),description_df:T.z.string().optional(),meta_keywords_df:T.z.array(T.z.string().nonempty("Each meta tag must not be empty")).optional(),meta_title_df:T.z.string().optional(),meta_description_df:T.z.string().optional(),store_id:T.z.string().optional(),category:T.z.string().optional(),subCategory:T.z.string().optional(),unit_id:T.z.string().optional(),brand_id:T.z.string().optional(),type:T.z.string().optional(),discountType:T.z.string().optional(),discountPer:T.z.string().optional(),return_in_days:T.z.string().optional(),delivery_time_min:T.z.string().optional(),delivery_time_max:T.z.string().optional(),return_text_df:T.z.string().optional(),delivery_time_text_df:T.z.string().optional(),max_cart_qty:T.z.string().optional(),video_url:T.z.union([T.z.literal(""),T.z.string().url("The video URL must be a valid URL.")]).optional()},I=m.default.filter(e=>"df"!==e.id).reduce((e,t)=>(e[`name_${t.id}`]=T.z.string().optional(),e[`description_${t.id}`]=T.z.string().optional(),e[`meta_title_${t.id}`]=T.z.string().optional(),e[`meta_description_${t.id}`]=T.z.string().optional(),e[`meta_keywords_${t.id}`]=T.z.array(T.z.string().nonempty("Each meta tag must not be empty")).optional(),e[`return_text_${t.id}`]=T.z.string().optional(),e[`delivery_time_text_${t.id}`]=T.z.string().optional(),e),{}),O=T.z.object({...z,...I});T.z.object({file:T.z.instanceof(File).refine(e=>["image/jpeg","image/png","image/gif"].includes(e.type),{message:"Only JPG, PNG, and GIF files are allowed"})}),T.z.object({id:T.z.string()});var A=e.i(536719),M=e.i(560989),P=e.i(994814),E=e.i(401851),D=e.i(385479),F=e.i(643531),L=e.i(555231),G=e.i(952571),V=e.i(861745),q=e.i(948148),R=e.i(657688),U=e.i(618566),B=e.i(271645),Q=e.i(653145),J=e.i(555613),K=e.i(170319),W=e.i(632814);let H=({onSave:e,trigger:a,loading:s,title:l,subTitle:i,name:r,lang:n,categories:d=[],setIsModalOpen:c,isModalOpen:o})=>{(0,q.useTranslations)(),(0,U.usePathname)().split("/")[1];let[m,u]=(0,B.useState)(""),p=r?`Generate a product description for "${r}". This product belongs to the following categories: ${d.join(" > ")}.`:"";return(0,B.useEffect)(()=>{u(p??"")},[p]),(0,t.jsx)(W.AppModal,{trigger:a,actionButtonLabel:(()=>{let[e,t]=(0,B.useState)(!1);return(0,B.useEffect)(()=>{let e=()=>{t(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e})()?"Generate":"Generate Product Description",customClass:"inset-x-0p md:inset-x-10p lg:inset-x-20p xl:inset-x-30p top-[100px] md:top-[150px]  lg:top-[150px] ",onSave:()=>void(e&&""!==m.trim()&&e(m)),disable:s||""===m,isOpen:o,onOpenChange:c,children:(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsx)("h1",{className:"text-xl font-bold mb-6",children:"Lets get started !"}),r&&(0,t.jsxs)("p",{className:"text-sm mb-2",children:["Description for: ",(0,t.jsx)("span",{className:"font-semibold",children:r})]}),s?(0,t.jsxs)("div",{className:"bg-black flex flex-col items-center justify-center py-10 rounded min-h-48",children:[(0,t.jsx)("img",{src:"/images/GPT AI.gif",alt:"Generating description...",className:"w-16 h-16"}),(0,t.jsx)("p",{className:"mt-3 text-sm text-gray-200",children:"Generating description..."})]}):(0,t.jsx)("div",{children:(0,t.jsx)(j.Textarea,{id:"prompt",defaultValue:m,className:"app-input min-h-48",placeholder:"Press / to search prompts...",onChange:e=>{u(e.target.value)}})})]})})};e.s(["default",0,({data:e})=>{let T=(0,q.useTranslations)(),[z,I]=(0,B.useState)(!1),W=(0,A.useAppDispatch)(),X=(0,V.useLocale)(),Y=(0,B.useMemo)(()=>m.default,[]),Z="ar"===(0,U.usePathname)().split("/")[1]?"rtl":"ltr",ee=(0,A.useAppSelector)(e=>e.store.selectedStore),et=ee?.id,ea=ee?.type,{watch:es,control:el,register:ei,setValue:er,handleSubmit:en,reset:ed,formState:{errors:ec,isSubmitting:eo}}=(0,Q.useForm)({resolver:(0,P.zodResolver)(O),defaultValues:{type:ea??""}}),[em,eu]=(0,B.useState)([]),[ep,ex]=(0,B.useState)([]),[eh,eg]=(0,B.useState)([]),[e_,ev]=(0,B.useState)({}),[ej,eb]=(0,B.useState)({}),[ef,ey]=(0,B.useState)({}),[eN,eC]=(0,B.useState)({}),[ew,eS]=(0,B.useState)({}),[ek,e$]=(0,B.useState)(null),[eT,ez]=(0,B.useState)(""),[eI,eO]=(0,B.useState)(""),eA=es(),[eM,eP]=(0,B.useState)(!1),[eE,eD]=(0,B.useState)(!1),{categories:eF}=(0,C.useCategoriesQuery)({pagination:!1,type:eA?.type}),{brands:eL}=(0,N.useBrandsQuery)({}),{units:eG}=(0,S.useUnitQuery)({}),{productAttribute:eV,refetch:eq}=(0,k.useProductAttributeQuery)({type:eA?.type}),eR=eF?.data||[],eU=eL||[],eB=eG||[],eQ=(0,B.useMemo)(()=>eV||[],[eV]),{general:eJ,refetch:eK}=(0,w.useGeneralQuery)({language:X}),eW=(0,B.useMemo)(()=>eJ||{},[eJ]).site_settings;(0,B.useEffect)(()=>{z&&(eq(),I(!1))},[z,eq]),(0,B.useEffect)(()=>{if(e&&eQ.length>0){let e={},t=eQ.find(e=>e.label===eI);t&&(e[eI]=t.attribute_values),e9(e)}},[e,eQ,eI]),(0,B.useEffect)(()=>{if(!e)return;(e=>{if(!e||0===e.length)return;let t=[],a={};e.forEach((e,s)=>{let l=e.attributes&&"string"==typeof e.attributes?JSON.parse(e.attributes):{};Object.keys(l).forEach(e=>{t.some(t=>t.value===e)||(t.push({value:e,label:e}),eO(e))}),Object.entries(l).forEach(([e,t])=>{a[e]||(a[e]=[]),Array.isArray(t)?t.forEach(t=>{a[e].some(e=>e.value===t)||a[e].push({value:t,label:t})}):a[e].some(e=>e.value===t)||a[e].push({value:t,label:t})});let i={};ev(t=>({...t,[s]:Number(e.price)})),eb(t=>({...t,[s]:Number(e.special_price)})),eC(t=>({...t,[s]:Number(e.stock_quantity)})),ey(t=>({...t,[s]:e.sku})),e.image&&e.image_url&&(i[s]={image_id:e.image,img_url:e.image_url});let r=Object.values(i)[0];eS(e=>({...e,[s]:r}))}),e8(t),e6(a)})(e?.variants);let t=e?.category;if(er("name_df",e?.label??""),er("description_df",e?.description??""),er("meta_title_df",e?.meta_title??""),er("meta_keywords_df",e?.meta_keywords?.split(",").map(e=>e.trim())??[]),er("meta_description_df",e?.meta_description??""),er("return_text_df",e?.return_text??""),er("delivery_time_text_df",e?.delivery_time_text??""),er("brand_id",String(e?.brand?.id)??""),er("type",e?.type),er("unit_id",String(e?.unit?.id)??""),t){eg(t?.id);let e=t?.category_name_paths;eu(null===e?[]:e?.split("/"));let a=t?.parent_path;ex(null===a?[]:a?.split("/"))}e&&e.translations&&Object?.keys(e?.translations)?.forEach(t=>{let a=e?.translations[t];er(`name_${t}`,a?.name??""),er(`description_${t}`,a?.description??""),er(`meta_title_${t}`,a?.meta_title??""),er(`meta_description_${t}`,a?.meta_description??""),er(`return_text_${t}`,a?.return_text??""),er(`delivery_time_text_${t}`,a?.delivery_time_text??""),er(`meta_keywords_${t}`,a?.meta_keywords?.split(",").map(e=>e.trim())??[])}),e?.image!==0&&e?.image!==null&&e$({image_id:e?.image?e?.image:"",img_url:e?.image_url?e?.image_url:"/images/no-image.png",name:"image"});let a=e?.cash_on_delivery==1,s=e?.allow_change_in_mind==1;eP(a),eD(s)},[e,er,e?.translations,e?.brand,e?.unit]);let eH=(e,t)=>{er(t,e),"type"==t&&I(!0),"none"==e&&er(t,"")},[eX,eY]=(0,B.useState)([]),{mutate:eZ,isPending:e0}=(0,$.useProductStoreMutation)(),{mutate:e1,isPending:e2}=(0,$.useProductUpdateMutation)(),e4=async t=>{let a={...t,id:e?e?.id:"",store_id:et,category_id:eh,name:t.name_df,description:t.description_df,meta_title:t.meta_title_df,meta_description:t.meta_description_df,meta_keywords:t.meta_keywords_df,cash_on_delivery:+!!eM,allow_change_in_mind:+!!eE},s=Y.filter(e=>t[`name_${e.id}`]).map(e=>({language_code:e.id,name:t[`name_${e.id}`],description:t[`description_${e.id}`],meta_title:t[`meta_title_${e.id}`],meta_description:t[`meta_description_${e.id}`],meta_keywords:(t[`meta_keywords_${e.id}`]||[]).join(", ")})),l=!1,i=eX.map((t,a)=>{let s=e5.reduce((e,a)=>{let s=e3[a.value]?.find(e=>t.includes(e.label))?.label||null;return s&&(e[a.label]=s),e},{}),i=e?.variants.find(e=>{if(!e.attributes||"string"!=typeof e.attributes)return!1;let t=JSON.parse(e.attributes);return Object.keys(s).every(e=>t[e]===s[e])}),r=Number(e_[a]??0),n=Number(ej[a]??0),d=Number(eN[a]??0);return Object.keys(s).length<=0?(K.toast.error("Minimum one variant must be required"),l=!0,null):d<=0?(K.toast.error("Stock quantity is required for each variant."),l=!0,null):n>r?(K.toast.error(`Special price (${n}) cannot be greater than price (${r}) at index ${a+1}`),l=!0,null):{id:i?.id||null,variant:t,price:e_[a]||0,special_price:ej[a]||0,sku:ef[a]||0,stock_quantity:eN[a]||0,image_url:ew[a]?.img_url||null,image:ew[a]?.image_id||null,attributes:s}});if(l)return;if(i.length<=0)return K.toast.error("Minimum one variant must be required");let r=ti?.length>0?ti?.length>0&&ti.map(e=>{let t=tr[e.slug]??"",a=e.values?.find(e=>e.value===t);return{dynamic_field_id:e.id,dynamic_field_value_id:a?a.id:null,name:e.name,type:e.type,custom_value:Array.isArray(t)?t.join(","):t||""}}):[],n={...a,image:ek?ek?.image_id:"",translations:s,variants:i,specifications:r};return e?e1({...n},{onSuccess:()=>{W((0,M.setRefetch)(!0)),ed()}}):eZ({...n},{onSuccess:()=>{W((0,M.setRefetch)(!0)),ed()}})},[e5,e8]=(0,B.useState)([]),[e3,e6]=(0,B.useState)({}),[e7,e9]=(0,B.useState)({});(0,B.useEffect)(()=>{let e=e5.map(e=>e3[e.value]?.map(e=>e.label)||[""]),t=e=>{if(0===e.length)return[[]];let[a,...s]=e,l=t(s);return a.flatMap(e=>l.map(t=>[e,...t]))};eY(t(e).map(e=>e.join("-").replace(/^-|-$/,"")))},[e5,e3]);let te=()=>document.documentElement.classList.contains("dark"),tt={option:(e,t)=>{let a=te();return{...e,backgroundColor:t.isSelected?a?"#334155":"#e5e7eb":t.isFocused?a?"#1e293b":"#f3f4f6":"transparent",color:a?"#f1f5f9":"#000",padding:"10px",cursor:"pointer"}},singleValue:e=>({...e,display:"flex",alignItems:"center",color:te()?"#f1f5f9":"#000"}),menu:e=>({...e,backgroundColor:te()?"#000":"#fff",zIndex:50})},ta=(0,t.jsx)("div",{className:"hover:cursor-pointer",children:ek?.img_url?(0,t.jsxs)("div",{className:"relative w-32 h-32 group",children:[(0,t.jsx)(R.default,{loader:y.default,src:ek?.img_url,alt:ek?.name??"product_image",fill:!0,sizes:"128px",className:"w-full h-full border dark:border-gray-500 rounded"}),(0,t.jsxs)("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 bg-[#FFFFFFE5] h-20 border-l border-r border-b w-full rounded-b opacity-0 group-hover:opacity-90 transition-opacity duration-300 flex flex-col items-center justify-center",children:[(0,t.jsx)(a.default,{}),(0,t.jsx)("p",{className:"text-sm font-bold text-red-500 p-1",children:T("common.change_image")})]})]}):(0,t.jsx)("div",{className:" w-32 h-32 border-2 border-dashed border-blue-500 text-center rounded-lg cursor-pointer hover:bg-blue-50 transition-colors flex flex-col items-center justify-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,t.jsx)(a.default,{}),(0,t.jsx)("p",{className:"mt-2 text-blue-500 text-xs font-medium",children:T("common.drag_and_drop")})]})})}),ts=Object.values(e3).every(e=>Array.isArray(e)&&0===e.length),{DynamicFieldList:tl}=(0,$.useDynamicFieldQuery)({store_type:ea}),ti=tl?.data??{},[tr,tn]=(0,B.useState)({});(0,B.useEffect)(()=>{let t=e?.specifications;if(ti?.length>0){let e={},a=!1;ti.forEach(s=>{let l,i=t?.find(e=>e?.dynamicField?.slug===s.slug),r=tr[s.slug];if("select"===s.type){let e=s.values?.find(e=>e.value===i?.value||e.label===i?.value||String(e.value)===String(i?.value));l=e?.value??""}else l="multiselect"===s.type?"string"==typeof i?.value?i.value.split(",").map(e=>e.trim()):Array.isArray(i?.custom_value)?i.custom_value:[]:"checkbox"===s.type?"string"==typeof i?.value?i.value.split(",").map(e=>e.trim()):Array.isArray(i?.custom_value)?i.custom_value:[]:i?.value??"";r!==l&&(a=!0),e[s.slug]=l}),a&&tn(e)}},[ti,e]);let td=(e,t)=>{tn(a=>({...a,[e]:t}))},[tc,to]=(0,B.useState)(!1),[tm,tu]=(0,B.useState)(!1),{mutate:tp}=(0,$.useProductDescriptionGenerate)();return(0,t.jsx)("div",{children:(0,t.jsx)(v.Tabs,{defaultValue:"df",className:"",children:(0,t.jsxs)("form",{onSubmit:en(e4),children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mt-4",children:[(0,t.jsx)("div",{className:"col-span-1 lg:col-span-2 space-y-4",children:(0,t.jsx)(x.Card,{className:"",children:(0,t.jsxs)(x.CardContent,{className:"p-2 md:p-4",children:[(0,t.jsx)("p",{className:"text-lg md:text-2xl font-medium mb-4",children:T("label.basic_information")}),(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)(v.TabsList,{dir:Z,className:"flex justify-start bg-white dark:bg-[#1f2937]",children:Y.map(e=>(0,t.jsx)(v.TabsTrigger,{value:e.id,children:e.label},e.id))}),(0,t.jsx)("div",{dir:Z,className:"grid grid-cols-1 gap-4",children:(0,t.jsx)("div",{children:Y.map(a=>(0,t.jsxs)(v.TabsContent,{value:a.id,children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1 flex items-center gap-2",children:(0,t.jsxs)("span",{children:[T("label.category")," "]})}),(0,t.jsx)(s.AppNestedDropdown,{selectedItems:em,selectedIDs:ep,finalSelectedID:eh,setfinalSelectedID:eg,setSelectedItems:eu,setSelectedIDs:ex,groups:eR})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1 flex items-center gap-2",children:(0,t.jsxs)("span",{children:[" ",T("label.product_name")," (",T(`lang.${a.id}`),")"]})}),(0,t.jsx)(g.Input,{id:`name_${a.id}`,...ei(`name_${a.id}`),className:"app-input",placeholder:T("place_holder.enter_value")}),ec[`name_${a.id}`]&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:ec[`name_${a.id}`]?.message})]}),(0,t.jsxs)("div",{className:"flex gap-2 items-center mb-4",children:[(0,t.jsx)(H,{trigger:(0,t.jsx)(p.Button,{variant:"outline",className:"app-button",disabled:eW?.com_openai_enable_disable=="off",children:(0,t.jsx)("span",{className:"mx-1",children:"Generate description with AI"})}),onSave:e=>{var t;return t=a.id,void(tu(!0),tp({prompt:e},{onSuccess:e=>{er(`description_${t}`,e?.data?.generated_content??""),tu(!1),to(!1)},onError:()=>{tu(!1)}}))},loading:tm,name:es(`name_${a.id}`),lang:T(`lang.${a.id}`),categories:em,setIsModalOpen:to,isModalOpen:tc}),eW?.com_openai_enable_disable=="off"&&(0,t.jsx)("div",{children:(0,t.jsx)(b.TooltipProvider,{children:(0,t.jsxs)(b.Tooltip,{children:[(0,t.jsx)(b.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(G.Info,{className:"w-4 text-custom-dark-blue dark:text-white cursor-pointer"})}),(0,t.jsx)(b.TooltipContent,{side:"top",align:"center",sideOffset:4,avoidCollisions:!1,className:"bg-custom-dark-blue dark:bg-white max-w-sm",children:(0,t.jsx)("p",{className:"p-1 text-sm font-medium",children:"OpenAI generate settings off"})})]})})})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1 flex items-center gap-2",children:(0,t.jsxs)("span",{children:[T("label.product_description")," (",T(`lang.${a.id}`),")"]})}),(0,t.jsx)(Q.Controller,{control:el,name:`description_${a.id}`,render:({field:e})=>(0,t.jsx)(n.default,{value:e.value||"",onChange:e.onChange})})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium flex items-center gap-2",children:(0,t.jsx)("span",{children:T("label.video_url")})}),(0,t.jsxs)("div",{className:"my-2",children:[(0,t.jsx)(g.Input,{type:"text",defaultValue:e?.video_url?String(e?.video_url):"",id:"video_url",...ei("video_url"),className:"app-input",placeholder:T("place_holder.youtube_embed_code")}),ec.video_url&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:ec.video_url?.message})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1 flex items-center gap-2",children:(0,t.jsxs)("span",{children:[T("label.meta_title")," (",T(`lang.${a.id}`),")"]})}),(0,t.jsx)(g.Input,{id:`meta_title_${a.id}`,...ei(`meta_title_${a.id}`),className:"app-input",placeholder:T("place_holder.enter_value")})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"text-sm font-medium mb-1 flex items-center gap-2",children:[(0,t.jsxs)("span",{children:[T("label.meta_keywords")," (",T(`lang.${a.id}`),")"]}),(0,t.jsx)("div",{children:(0,t.jsx)(b.TooltipProvider,{children:(0,t.jsxs)(b.Tooltip,{children:[(0,t.jsx)(b.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(G.Info,{className:"w-4 text-custom-dark-blue dark:text-white cursor-pointer"})}),(0,t.jsx)(b.TooltipContent,{side:"top",align:"center",sideOffset:4,avoidCollisions:!1,className:"bg-custom-dark-blue dark:bg-white max-w-sm",children:(0,t.jsx)("p",{className:"p-1 text-sm font-medium",children:T("tooltip.enter_meta_key")})})]})})})]}),(0,t.jsx)(Q.Controller,{name:`meta_keywords_${a.id}`,control:el,render:({field:e})=>(0,t.jsx)(f.TagsInput,{...e,value:Array.isArray(e.value)?e.value:[],onChange:t=>e.onChange(t),placeholder:`${T("place_holder.enter_meta_key")} ${T(`lang.${a.id}`)}`,className:"app-input"})})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1 flex items-center gap-2",children:(0,t.jsxs)("span",{children:[T("label.meta_description")," (",T(`lang.${a.id}`),")"]})}),(0,t.jsx)(j.Textarea,{id:`meta_description_${a.id}`,...ei(`meta_description_${a.id}`),className:"app-input",placeholder:T("place_holder.enter_value")})]})]},a.id))})})]})]})})}),(0,t.jsxs)("div",{className:"col-span-1 space-y-4",children:[eA?.type&&(0,t.jsx)(x.Card,{children:(0,t.jsx)(x.CardContent,{className:"p-4",children:(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:T("label.type")}),(0,t.jsx)("p",{className:"bg-gray-50 dark:bg-gray-900 w-full rounded-md px-2 p-1.5 border border-slate-300 dark:border-[#475569] capitalize",children:eA?.type})]})})})}),(0,t.jsx)(x.Card,{className:"",children:(0,t.jsx)(x.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 w-full",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("p",{className:"text-sm font-medium mb-1",children:[" ",T("label.unit")]}),(0,t.jsx)(Q.Controller,{control:el,name:"unit_id",defaultValue:e&&e?.unit?.id?String(e?.unit?.id):"",render:({field:e})=>(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(l.AppSearchSelect,{value:String(e.value??""),onSelect:t=>{e.onChange(t),eH(t,"unit_id")},groups:eB})})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:T("label.brand")}),(0,t.jsx)(Q.Controller,{control:el,name:"brand_id",defaultValue:e&&e?.brand?.id?String(e?.brand?.id):"",render:({field:e})=>(0,t.jsx)(l.AppSearchSelect,{value:String(e.value??""),onSelect:t=>{e.onChange(t),eH(t,"brand_id")},groups:eU})})]})]})})}),(0,t.jsx)(x.Card,{className:"mt-4",children:(0,t.jsx)(x.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"",children:[(0,t.jsxs)("div",{className:"text-sm font-medium flex items-center gap-2",children:[(0,t.jsx)("span",{children:T("label.thumbnail")}),(0,t.jsx)("div",{children:(0,t.jsx)(b.TooltipProvider,{children:(0,t.jsxs)(b.Tooltip,{children:[(0,t.jsx)(b.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(G.Info,{className:"w-4 text-custom-dark-blue cursor-pointer"})}),(0,t.jsx)(b.TooltipContent,{side:"top",align:"center",sideOffset:4,avoidCollisions:!1,className:"bg-custom-dark-blue max-w-sm",children:(0,t.jsx)("p",{className:"p-1 text-sm font-medium",children:T("tooltip.aspect_ratio_1_1")})})]})})})]}),(0,t.jsx)("div",{className:"relative flex align-start gap-4 my-2",children:(0,t.jsxs)("div",{className:"relative w-32",children:[(0,t.jsx)(o.default,{trigger:ta,isMultiple:!1,onSave:e=>{e$(e[0]);let[t,a]=(e[0].dimensions??"").split(" x ").map(e=>parseInt(e.trim(),10));return .01>Math.abs(t/a-1)?(ez(""),!0):(ez("Image must have a 1:1 aspect ratio."),!1)},usageType:"product"}),ek?.image_id&&(0,t.jsx)(d.default,{customClass:"absolute top-0 right-0 m-1",onClick:e=>{e.stopPropagation(),e$(null),ez("")}})]})}),(0,t.jsx)("div",{children:eT&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:eT})})]})})}),(0,t.jsx)(x.Card,{className:"mt-4",children:(0,t.jsxs)(x.CardContent,{className:"p-4",children:[(0,t.jsx)("p",{className:"text-base md:text-lg font-medium mb-2",children:T("label.return_delivery_information")}),Y.map(a=>(0,t.jsx)(v.TabsContent,{value:a.id,children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-1",children:[(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:T("label.return_text")}),(0,t.jsx)(j.Textarea,{id:`return_text_${a.id}`,...ei(`return_text_${a.id}`),className:"app-input min-h-10",placeholder:T("place_holder.enter_value")})]}),(0,t.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:T("label.return_in_days")}),(0,t.jsx)(g.Input,{typeOf:"number",defaultValue:e?.return_in_days?String(e?.return_in_days):"",id:"return_in_days",...ei("return_in_days"),className:"app-input",placeholder:T("place_holder.enter_value")})]}),(0,t.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:T("label.max_cart_qty")}),(0,t.jsx)(g.Input,{defaultValue:e?.max_cart_qty?String(e?.max_cart_qty):"",type:"number",id:"max_cart_qty",...ei("max_cart_qty"),className:"app-input",placeholder:T("place_holder.enter_value")})]}),(0,t.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:T("label.min_delivery_time")}),(0,t.jsx)(g.Input,{type:"text",defaultValue:e?.delivery_time_min?String(e?.delivery_time_min):"",id:"delivery_time_min",...ei("delivery_time_min"),className:"app-input",placeholder:T("place_holder.enter_value")})]}),(0,t.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:T("label.max_delivery_time")}),(0,t.jsx)(g.Input,{type:"text",defaultValue:e?.delivery_time_max?String(e?.delivery_time_max):"",id:"delivery_time_max",...ei("delivery_time_max"),className:"app-input",placeholder:T("place_holder.enter_value")})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:T("label.delivery_note")}),(0,t.jsx)(j.Textarea,{id:`delivery_time_text_${a.id}`,...ei(`delivery_time_text_${a.id}`),className:"app-input min-h-10",placeholder:T("place_holder.enter_value")})]}),(0,t.jsxs)("div",{className:"my-2 col-span-2 flex flex-col lg:flex-row items-start lg:items-center space-x-0 lg:space-x-12",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(h.Checkbox,{id:"organic",checked:eM,onCheckedChange:e=>eP(e)}),(0,t.jsx)("label",{htmlFor:"organic",className:"text-md font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:T("label.cash_on_delivery")}),(0,t.jsx)("div",{className:"text-sm font-medium flex items-center gap-2",children:(0,t.jsx)("div",{children:(0,t.jsx)(b.TooltipProvider,{children:(0,t.jsxs)(b.Tooltip,{children:[(0,t.jsx)(b.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(G.Info,{className:"w-4  text-custom-dark-blue dark:text-white cursor-pointer"})}),(0,t.jsx)(b.TooltipContent,{side:"right",align:"center",sideOffset:4,avoidCollisions:!1,className:"bg-custom-dark-blue dark:bg-white  max-w-[400px]",children:(0,t.jsx)("p",{className:"p-1 text-sm font-medium",children:T("tooltip.ensure_products_are_eligible_cah_on_delivery")})})]})})})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(h.Checkbox,{id:"halal",checked:eE,onCheckedChange:e=>eD(e)}),(0,t.jsx)("label",{htmlFor:"halal",className:"text-md font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:T("label.allow_change_in_mind")}),(0,t.jsx)("div",{className:"text-sm font-medium flex items-center gap-2",children:(0,t.jsx)("div",{children:(0,t.jsx)(b.TooltipProvider,{children:(0,t.jsxs)(b.Tooltip,{children:[(0,t.jsx)(b.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(G.Info,{className:"w-4  text-custom-dark-blue dark:text-white cursor-pointer"})}),(0,t.jsx)(b.TooltipContent,{side:"right",align:"center",sideOffset:4,avoidCollisions:!1,className:"bg-custom-dark-blue dark:bg-white max-w-[400px]",children:(0,t.jsx)("p",{className:"p-1 text-sm font-medium ",children:T("tooltip.allow_change_in_mind")})})]})})})})]})]})]})},a.id))]})})]})]}),(0,t.jsx)(x.Card,{className:"mt-4",children:(0,t.jsxs)(x.CardContent,{className:"p-4",children:[(0,t.jsxs)("p",{className:"text-lg md:text-2xl font-medium mb-4",children:[T("label.product_variants"),"s"]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-sm font-medium mb-1 flex items-center gap-2",children:[(0,t.jsx)("span",{children:T("label.attribute")}),(0,t.jsx)("div",{children:(0,t.jsx)(b.TooltipProvider,{children:(0,t.jsxs)(b.Tooltip,{children:[(0,t.jsx)(b.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(G.Info,{className:"w-4 text-custom-dark-blue dark:text-white cursor-pointer"})}),(0,t.jsx)(b.TooltipContent,{className:"bg-custom-dark-blue dark:bg-white",children:(0,t.jsx)("p",{className:"p-1 text-sm font-medium",children:T("tooltip.please_select_attribute")})})]})})})]}),(0,t.jsx)(J.default,{isMulti:!0,name:"attributes",value:e5,styles:tt,classNamePrefix:"select",closeMenuOnSelect:!1,hideSelectedOptions:!1,className:"basic-multi-select",options:eQ,onChange:e=>{e8(e);let t=e.map(e=>e.value);if(0===t.length){eY([]),e6({});return}let a={},s={};t?.forEach(e=>{let t=eQ.find(t=>t.value===e);t&&(a[e]=t?.attribute_values,e3[e]||(s[e]=null))}),e9(a),e6(e=>({...e,...s}))},formatOptionLabel:(e,{context:a})=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:e.label}),"menu"===a&&e5.some(t=>t.value===e.value)&&(0,t.jsx)("span",{children:(0,t.jsx)(F.Check,{className:"w-4 h-4"})})]})})]}),(0,t.jsx)("div",{className:"grid lg:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-4 mt-4",children:e5.map(e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:e.label}),(0,t.jsx)(r.default,{label:e.label,options:e7[e.value]||[],selectedValues:e3[e.value]||[],onChange:(t,a)=>{var s;return s=e.value,void e6(e=>({...e,[s]:t}))},onCreateOption:t=>{var a;let s;return a=e.value,s={value:Date.now(),label:t},void(e9(e=>({...e,[a]:[...e[a]||[],s]})),e6(e=>({...e,[a]:[...e[a]||[],s]})))},placeholder:`Enter or select ${e.label.toLowerCase()}`})]},e.value))}),(0,t.jsx)("div",{className:"mt-4",children:!ts&&eX.length>0&&(0,t.jsx)("div",{className:"overflow-x-auto custom-scrollbar",children:(0,t.jsxs)("div",{className:"min-w-[800px] grid grid-cols-1 gap-2",children:[(0,t.jsxs)("div",{className:"text-blue-500 bg-blue-50 dark:bg-gray-900 rounded shadow-lg py-2 px-4 grid grid-cols-7 gap-2",children:[(0,t.jsx)("p",{className:"col-span-2",children:T("label.variant")}),(0,t.jsx)("p",{children:T("label.image")}),(0,t.jsx)("p",{children:T("label.seller_sku")}),(0,t.jsx)("p",{children:T("label.price")}),(0,t.jsx)("p",{children:T("label.special_price")}),(0,t.jsx)("p",{children:T("label.stock")})]}),(0,t.jsx)(x.Card,{className:"relative shadow-lg p-2 rounded",children:eX.map((e,a)=>{let s=(0,t.jsx)("div",{className:"hover:cursor-pointer",children:ew[a]?.img_url?(0,t.jsx)("div",{className:"relative w-12 h-12",children:(0,t.jsx)(R.default,{loader:y.default,src:ew[a]?.img_url,alt:ew[a]?.name??"variant_image",fill:!0,sizes:"48px",className:"object-cover w-full h-full border dark:border-gray-500 rounded"})}):(0,t.jsx)("div",{className:"border-2 border-dashed border-blue-500 p-2 text-center rounded cursor-pointer hover:bg-blue-50 transition-colors",children:(0,t.jsx)(L.CloudUploadIcon,{className:"h-6 w-6 text-blue-500"})})});return(0,t.jsxs)("div",{className:" grid grid-cols-7 gap-2 items-center p-2",children:[(0,t.jsx)("p",{className:"col-span-2",children:e}),(0,t.jsx)("div",{className:"",children:(0,t.jsx)("div",{className:"relative flex align-start gap-4",children:(0,t.jsx)("div",{children:(0,t.jsx)(o.default,{trigger:s,isMultiple:!1,onSave:e=>{let t=e[0];return eS(e=>({...e,[a]:t})),!0},usageType:"product"})})})}),(0,t.jsx)(g.Input,{disabled:!0,type:"text",className:"app-input",placeholder:T("place_holder.enter_value"),value:ef[a]??"",onChange:e=>ey(t=>({...t,[a]:e.target.value}))}),(0,t.jsx)(g.Input,{type:"number",min:0,className:"app-input",placeholder:T("place_holder.enter_value"),value:0===e_[a]?"":e_[a]??"",onChange:e=>{let t=e.target.value;ev(e=>({...e,[a]:""===t?"":Number(t)}))}}),(0,t.jsx)(g.Input,{type:"number",min:0,className:"app-input",placeholder:T("place_holder.enter_value"),value:ej[a]??"",onChange:e=>eb(t=>({...t,[a]:e.target.value}))}),(0,t.jsx)(g.Input,{type:"number",min:0,className:"app-input",placeholder:T("place_holder.enter_value"),value:eN[a]??"",onChange:e=>eC(t=>({...t,[a]:e.target.value}))})]},a)})})]})})})]})}),ti.length>0&&(0,t.jsx)(x.Card,{className:"mt-4",children:(0,t.jsxs)(x.CardContent,{className:"p-4",children:[(0,t.jsx)("p",{className:"text-lg md:text-2xl font-medium mb-4",children:"Specification"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4 mt-1 mb-4",children:ti.length>0&&ti?.map(e=>(0,t.jsxs)("div",{className:"",children:[(0,t.jsxs)("p",{className:"text-sm font-medium mb-1",children:[e.name," ",e.is_required&&(0,t.jsx)("span",{className:"text-red-500 mx-0.5",children:"*"})]}),"select"===e.type&&tr[e.slug]&&(0,t.jsx)(l.AppSearchSelect,{value:tr[e.slug],onSelect:t=>td(e.slug,t),groups:e.values??[],hideNone:!0}),"select"===e.type&&!tr[e.slug]&&(0,t.jsx)(l.AppSearchSelect,{value:tr[e.slug]??"",onSelect:t=>td(e.slug,t),groups:e.values??[]}),"multiselect"===e.type&&(0,t.jsx)(J.default,{isMulti:!0,name:e.slug,isDisabled:0===e.values.length,value:tr[e.slug]?e.values.filter(t=>tr[e.slug].includes(t.value)):[],styles:tt,classNamePrefix:"select",closeMenuOnSelect:!1,hideSelectedOptions:!1,className:"basic-multi-select",options:e.values,onChange:t=>td(e.slug,t?t.map(e=>e.value):[]),formatOptionLabel:(a,{context:s})=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:a.label}),"menu"===s&&tr[e.slug]?.includes(a.value)&&(0,t.jsx)("span",{children:(0,t.jsx)(F.Check,{className:"w-4 h-4"})})]})}),"text"===e.type&&(0,t.jsx)(g.Input,{type:"text",defaultValue:tr[e.slug]??"",onChange:t=>td(e.slug,t.target.value),className:"app-input",placeholder:"Enter value"}),"boolean"===e.type&&(0,t.jsx)(u.RadioGroup,{className:"flex items-center gap-4 mt-2",value:tr[e.slug]??"",onValueChange:t=>td(e.slug,t),children:e.values.map(a=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(u.RadioGroupItem,{className:"text-blue-500 border-blue-500",value:a.value,id:`${e.slug}-${a.id}`}),(0,t.jsx)(_.Label,{htmlFor:`${e.slug}-${a.id}`,children:a.label})]},a.id))}),"checkbox"===e.type&&(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:e.values.map(a=>{let s=tr[e.slug]?.includes(a.value);return(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",className:"h-4 w-4 border rounded",checked:s,onChange:t=>{let s,l=tr[e.slug]||[];s=t.target.checked?[...l,a.value]:l.filter(e=>e!==a.value),td(e.slug,s)}}),(0,t.jsx)("span",{children:a.label})]},a.id)})}),"date"===e.type&&(0,t.jsxs)("div",{className:"grid grid-cols-3 items-center gap-2",children:[(0,t.jsx)("div",{className:"col-span-2",children:(0,t.jsx)(i.default,{label:"",selectedDate:tr[e.slug]?(0,D.parse)(tr[e.slug].split(" ")[0],"yyyy-MM-dd",new Date):null,onChange:t=>{let a=(tr[e.slug]||"").split(" ")[1]||"00:00";td(e.slug,t?`${(0,E.format)(t,"yyyy-MM-dd")} ${a}`:"")}})}),(0,t.jsx)(g.Input,{type:"time",value:tr[e.slug]&&tr[e.slug].split(" ")[1]||"00:00",onChange:t=>{let a=(tr[e.slug]||"").split(" ")[0]||(0,E.format)(new Date,"yyyy-MM-dd");td(e.slug,`${a} ${t.target.value}`)},className:"app-input flex flex-col"})]})]},e.id))})]})}),(0,t.jsx)(x.Card,{className:"mt-4 sticky bottom-0 w-full p-4",children:(0,t.jsx)(c.SubmitButton,{UpdateData:e,IsLoading:e0||e2,AddLabel:T("button.add_product"),UpdateLabel:T("button.update_product")})})]})})})}],328068)}]);