(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,620918,e=>{"use strict";var t=e.i(843476),s=e.i(601276),a=e.i(459565),r=e.i(860607),l=e.i(680401),i=e.i(704440),d=e.i(317408);e.i(614271);var o=e.i(519455),n=e.i(515288),c=e.i(574311),m=e.i(225960),x=e.i(975157),h=e.i(526354),p=e.i(681150),u=e.i(401851),g=e.i(730896),f=e.i(952571),j=e.i(263488),b=e.i(346897),v=e.i(473033),N=e.i(159574),w=e.i(343432),y=e.i(715788),C=e.i(95740),_=e.i(948148),k=e.i(657688),M=e.i(618566),F=e.i(271645),L=e.i(515506),S=e.i(632814),P=e.i(707909),E=e.i(320840),T=e.i(734382),R=e.i(643531),O=e.i(790092);let U=[{title:"Pending",value:"pending",icon:(0,t.jsx)(R.Check,{className:"w-6 h-6"})},{title:"Confirmed",value:"confirmed",icon:(0,t.jsx)(R.Check,{className:"w-6 h-6"})},{title:"Processing",value:"processing",icon:(0,t.jsx)(R.Check,{className:"w-6 h-6"})},{title:"Pick-Up",value:"pickup",icon:(0,t.jsx)(R.Check,{className:"w-6 h-6"})},{title:"Shipped",value:"shipped",icon:(0,t.jsx)(R.Check,{className:"w-6 h-6"})},{title:"Delivered",value:"delivered",icon:(0,t.jsx)(R.Check,{className:"w-6 h-6"})}],Z=({trigger:e,refetch:s,row:a,OrderTrackingTime:r})=>{let l=(0,_.useTranslations)(),[i,d]=(0,F.useState)(!1),{GoogleMapData:o,isPending:c,error:m}=(0,P.useGoogleMapForAllQuery)({}),x=o?.message,h=x?.com_google_map_api_key,p=x?.com_google_map_enable_disable==="on",[u,g]=(0,F.useState)(null),[f,j]=(0,F.useState)(!1),b=(0,F.useRef)(null),v=F.default.useMemo(()=>(function(e,t){let s=new Map((t??[]).map(e=>[e.status.toLowerCase(),e])),a=e.map(e=>({...e,subtitle:s.get(e.value)?.created_at??"",hint:s.get(e.value)?.label??""})),r="";for(let e=a.length-1;e>=0;e--)!a[e].subtitle&&r?a[e].subtitle=r:a[e].subtitle&&(r=a[e].subtitle);return a})(U,r),[r]),[N,w]=(0,F.useState)(null),y=U.findIndex(e=>e.value.toLowerCase()===a?.status?.toLowerCase()),{order_master:C={},store_details:k={}}=a,M=(0,F.useMemo)(()=>({lat:a?.delivery_option==="takeaway"?Number(C?.customer?.address?.latitude):Number(C?.shipping_address?.latitude),lng:a?.delivery_option==="takeaway"?Number(C?.customer?.address?.longitude):Number(C?.shipping_address?.longitude)}),[a?.delivery_option,C]),R=(0,F.useMemo)(()=>({lat:Number(k?.latitude),lng:Number(k?.longitude)}),[k]),[Z,A]=(0,F.useState)(-1!==y?y:1);(0,F.useEffect)(()=>{A(-1!==y?y:1)},[y]);let B={width:"100%",height:"350px"},[I,z]=(0,F.useState)(!1),{mutate:$}=(0,E.useUpdateLiveLocation)(),D=(0,F.useCallback)(e=>{z(!0),$({order_id:e},{onSuccess:e=>{let t=e?.data?.data;t?.lat&&t?.lng&&w({lat:Number(t.lat),lng:Number(t.lng)}),s?.(),z(!1)},onError:()=>{z(!1)}})},[s,$]),H=(0,F.useCallback)(()=>{let e="string"==typeof a?.status?a.status.toLowerCase():"";return"delivered"===e?M:("shipped"===e||"pickup"===e)&&N?N:R},[a?.status,M,R,N]);(0,F.useEffect)(()=>{i&&"string"==typeof a?.status&&"shipped"===a.status.toLowerCase()&&a?.order_id&&D(a.order_id)},[i,a,D]);let K=!c&&!m&&h&&p;(0,F.useEffect)(()=>{if(K&&b.current){google.maps.event.trigger(b.current,"resize");let e=H();b.current.panTo(e)}},[K,H]);let V=(0,F.useCallback)(async(e,t,s)=>{if(isNaN(e.lat)||isNaN(e.lng)||isNaN(t.lat)||isNaN(t.lng)||0===e.lat&&0===e.lng||0===t.lat&&0===t.lng||!window.google||!window.google.maps||!window.google.maps.DirectionsService)return void g(null);g(null);let a=new window.google.maps.DirectionsService;try{let s=await a.route({origin:e,destination:t,travelMode:google.maps.TravelMode.DRIVING});s.routes&&s.routes.length>0&&g({path:s.routes[0].overview_path.map(e=>({lat:e.lat(),lng:e.lng()}))})}catch(t){let e="Route Calculation Failed";"ZERO_RESULTS"===t.code?e="No Route Found Between Points":"NOT_FOUND"===t.code||"INVALID_REQUEST"===t.code?e="invalid locations for route":t.message&&(e=`${e}: ${t.message}`)}finally{}},[]);(0,F.useEffect)(()=>{let e=a?.status?.toLowerCase(),t=i&&"shipped"===e;K&&t&&N&&M.lat&&M.lng?V(N,M,"live"):K&&i&&"delivered"!==e&&R.lat&&R.lng&&M.lat&&M.lng?V(R,M,"store"):g(null)},[K,i,a?.status,N,M,R,V]);let q=`<svg width="50" height="50" viewBox="0 0 336 424" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M336 168C336 200.32 315.68 241.04 289.2 280.48C263.787 317.338 235.741 352.31 205.28 385.12C183.6 408.8 168 424 168 424C168 424 152.4 408.8 130.72 385.12C81.2 331.04 0 232.56 0 168C0 123.444 17.6999 80.7122 49.2061 49.2061C80.7122 17.7 123.444 0 168 0C212.556 0 255.288 17.7 286.794 49.2061C318.3 80.7122 336 123.444 336 168Z" fill="#ED1C24"/>
  <path d="M168 288C234.274 288 288 234.274 288 168C288 101.726 234.274 48 168 48C101.726 48 48 101.726 48 168C48 234.274 101.726 288 168 288Z" fill="#F1F2F2"/>
  <path d="M168 48C163.952 48 159.952 48.216 156 48.608C185.587 51.5977 213.009 65.4664 232.952 87.5256C252.894 109.585 263.936 138.263 263.936 168C263.936 197.737 252.894 226.415 232.952 248.474C213.009 270.534 185.587 284.402 156 287.392C159.952 287.784 163.952 288 168 288C199.826 288 230.348 275.357 252.853 252.853C275.357 230.348 288 199.826 288 168C288 136.174 275.357 105.652 252.853 83.1472C230.348 60.6428 199.826 48 168 48Z" fill="#D1D3D4"/>
  <path d="M232 136H104L112 104H224L232 136Z" fill="#A97C50"/>
  <path d="M104 136H232V232H104V136Z" fill="#8B5E3C"/>
  <path d="M136 232H232V136C232 161.461 221.886 185.879 203.882 203.882C185.879 221.886 161.461 232 136 232Z" fill="#754C29"/>
  <path d="M152 136H184V168H152V136Z" fill="#EE8700"/>
  <path d="M152 104H184V136H152V104Z" fill="#FF9811"/>
  <path d="M184 200C181.878 200 179.843 200.843 178.343 202.343C176.843 203.843 176 205.878 176 208C176 210.122 176.843 212.157 178.343 213.657C179.843 215.157 181.878 216 184 216H208C210.122 216 212.157 215.157 213.657 213.657C215.157 212.157 216 210.122 216 208C216 205.878 215.157 203.843 213.657 202.343C212.157 200.843 210.122 200 208 200H184Z" fill="#F1F2F2"/>
</svg>
`,W=`<svg width="50" height="50" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M42.8593 19.0491C42.802 23.7506 40.9482 28.0123 37.9286 31.1657C33.7051 35.5994 29.921 40.3963 27.1881 45.862L25.8865 48.4478C25.516 49.1838 24.4654 49.1841 24.0944 48.4484L23.0602 46.3972C20.3846 41.0269 17.0593 35.9435 12.702 31.8154C9.28105 28.5664 7.14062 23.9608 7.14062 18.8583C7.14062 8.80585 15.4349 0.70276 25.5446 1.00837C35.1193 1.3142 42.9548 9.47444 42.8593 19.0491Z" fill="#FF4848"/>
<path d="M23.4526 3.95285C23.3266 3.95285 23.2182 3.85764 23.2046 3.72922C23.1899 3.59201 23.2895 3.46897 23.4267 3.45432C24.1259 3.3801 24.8393 3.35178 25.5507 3.37522C25.6884 3.37961 25.7968 3.49485 25.7929 3.63303C25.7885 3.77073 25.6977 3.87864 25.5351 3.87522C24.8506 3.8547 24.1562 3.88058 23.4795 3.95138C23.4707 3.95236 23.4614 3.95285 23.4526 3.95285Z" fill="white"/>
<path d="M9.83984 19.1085C9.70166 19.1085 9.58984 18.9967 9.58984 18.8585C9.58984 12.4942 13.5771 6.68269 19.5117 4.39704C19.6392 4.3487 19.7847 4.41218 19.835 4.54059C19.8843 4.6695 19.8203 4.81403 19.6914 4.86383C13.9483 7.07526 10.0899 12.6993 10.0899 18.8585C10.0898 18.9967 9.97802 19.1085 9.83984 19.1085Z" fill="white"/>
<path d="M36.9806 18.7865C36.9806 25.4288 31.5962 30.7599 25.0072 30.7599C18.4409 30.7599 13.0195 25.4583 13.0195 18.7865C13.0195 12.1711 18.3918 6.79883 25.0072 6.79883C31.6226 6.79883 36.9806 12.1711 36.9806 18.7865Z" fill="white"/>
<path d="M29.1565 16.5925C29.1565 18.8893 27.2988 20.7464 25.0026 20.7464C22.7217 20.7464 20.8438 18.9062 20.8438 16.5925C20.8438 14.2974 22.7076 12.4336 25.0026 12.4336C27.2977 12.4336 29.1565 14.2974 29.1565 16.5925Z" fill="#1664FF"/>
<path d="M33.9796 26.7166C31.7935 29.2027 28.5787 30.7601 25.0067 30.7601C21.4347 30.7601 18.2199 29.2027 16.0195 26.7166C18.2056 24.2162 21.4204 22.6445 25.0067 22.6445C28.593 22.6445 31.8078 24.2162 33.9796 26.7166Z" fill="#1664FF"/>
</svg>
`,G=`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(q)}`,Q=`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(W)}`;return(0,F.useEffect)(()=>{if(b.current&&K&&!f){let e=H();e.lat&&e.lng&&(b.current.panTo(e),j(!0))}},[H,K,f]),(0,F.useEffect)(()=>{i&&j(!1)},[i]),(0,F.useEffect)(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[i]),(0,t.jsx)(S.AppModal,{trigger:e,customClass:"lg:inset-x-20p md:inset-x-10p lg:top-[60px] md:top-[200px] top-[100px]",isOpen:i,onOpenChange:d,children:(0,t.jsxs)("div",{className:"text-start ",children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-[var(--primary)] mt-6 mb-4 border-b pb-6 border-slate-300",children:l("orders.track_order")}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"flex items-center gap-1 text-sm font-semibold",children:[(0,t.jsx)("span",{className:"text-slate-500",children:l("table_header.invoice_no")})," ",(0,t.jsxs)("span",{children:[": ",a?.invoice_number]})," "]}),(0,t.jsx)("button",{onClick:()=>D(a.order_id),disabled:I,className:`flex items-center gap-1 p-2 border ${I?"border-slate-300 bg-slate-100 text-slate-400":"border-teal-500 bg-teal-50 text-teal-500 hover:border-teal-600 hover:bg-teal-100 hover:text-teal-600"} rounded cursor-pointer`,children:(0,t.jsx)(O.RefreshCcw,{width:16,height:16,className:I?"rotate-animation":""})})]}),(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardContent,{className:"p-4 mt-4",children:[(0,t.jsx)("div",{className:"ml-[3rem]",children:(0,t.jsx)(L.default,{steps:v,activeStep:Z,setActiveStep:A})}),(0,t.jsx)("div",{className:"mt-4 ",children:(0,t.jsx)(n.Card,{children:(0,t.jsx)(n.CardContent,{className:"p-0 rounded-lg",children:(0,t.jsx)("div",{children:K?(0,t.jsxs)(T.GoogleMap,{mapContainerStyle:B,zoom:16,onLoad:e=>{b.current=e;let t=H();e.panTo(t)},children:[("string"!=typeof a?.status||"pickup"===a.status.toLowerCase()||"shipped"===a.status.toLowerCase()||"delivered"===a.status.toLowerCase())&&("string"!=typeof a?.status||"pickup"!==a.status.toLowerCase()&&"shipped"!==a.status.toLowerCase()||N)?null:(0,t.jsx)(T.Marker,{position:R,icon:G}),M.lat&&M.lng&&(0,t.jsx)(T.Marker,{position:M,icon:Q}),"string"==typeof a?.status&&("pickup"===a.status.toLowerCase()||"shipped"===a.status.toLowerCase())&&N&&u&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T.Marker,{position:N,icon:{url:`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(`
                                                                <svg width="50" height="50" viewBox="0 0 336 424" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M336 168C336 200.32 315.68 241.04 289.2 280.48C263.787 317.338 235.741 352.31 205.28 385.12C183.6 408.8 168 424 168 424C168 424 152.4 408.8 130.72 385.12C81.2 331.04 0 232.56 0 168C0 123.444 17.6999 80.7122 49.2061 49.2061C80.7122 17.7 123.444 0 168 0C212.556 0 255.288 17.7 286.794 49.2061C318.3 80.7122 336 123.444 336 168Z" fill="#ED1C24"/>
                                    <path d="M168 288C234.274 288 288 234.274 288 168C288 101.726 234.274 48 168 48C101.726 48 48 101.726 48 168C48 234.274 101.726 288 168 288Z" fill="#F1F2F2"/>
                                    <circle cx="168" cy="120" r="18" fill="#533824ff"/>
                                    <rect x="150" y="138" width="36" height="60" fill="#8B5E3C"/>
                                    <rect x="138" y="138" width="12" height="48" fill="#A97C50"/>
                                    <rect x="186" y="138" width="12" height="48" fill="#A97C50"/>
                                    <rect x="150" y="198" width="12" height="36" fill="#754C29"/>
                                    <rect x="174" y="198" width="12" height="36" fill="#754C29"/>
                                    <rect x="138" y="138" width="42" height="24" fill="#EE8700" stroke="#FF9811" strokeWidth="2"/>
                                  </svg>
                                                                  `)}`,scaledSize:new google.maps.Size(40,60),anchor:new google.maps.Point(20,60)}}),(0,t.jsx)(T.Polyline,{path:u.path,options:{strokeColor:"#4285F4",strokeOpacity:.8,strokeWeight:2}})]}),"delivered"!==a.status&&("string"==typeof a?.status&&"pickup"!==a.status.toLowerCase()&&"shipped"!==a.status.toLowerCase()&&!N&&u?(0,t.jsx)(T.Polyline,{path:u.path,options:{strokeColor:"#4285F4",strokeOpacity:.8,strokeWeight:2}}):null)]}):(0,t.jsxs)(T.GoogleMap,{mapContainerStyle:B,zoom:16,onLoad:e=>{b.current=e;let t=H();e.panTo(t)},children:[("string"!=typeof a?.status||"pickup"===a.status.toLowerCase()||"shipped"===a.status.toLowerCase()||"delivered"===a.status.toLowerCase())&&("string"!=typeof a?.status||"pickup"!==a.status.toLowerCase()&&"shipped"!==a.status.toLowerCase()||N)?null:(0,t.jsx)(T.Marker,{position:R,icon:G}),M.lat&&M.lng&&(0,t.jsx)(T.Marker,{position:M,icon:Q}),"string"==typeof a?.status&&("pickup"===a.status.toLowerCase()||"shipped"===a.status.toLowerCase())&&N&&u&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T.Marker,{position:N,icon:{url:"http://maps.google.com/mapfiles/ms/icons/green-dot.png"}}),(0,t.jsx)(T.Polyline,{path:u.path,options:{strokeColor:"#4285F4",strokeOpacity:.8,strokeWeight:2}})]}),"delivered"!==a.status&&("string"==typeof a?.status&&"pickup"!==a.status.toLowerCase()&&"shipped"!==a.status.toLowerCase()&&!N&&u?(0,t.jsx)(T.Polyline,{path:u.path,options:{strokeColor:"#4285F4",strokeOpacity:.8,strokeWeight:2}}):null)]})})})})})]})})]})})};var A=e.i(668),B=e.i(178583);let I=({trigger:e,refetch:s,row:a})=>{let r=(0,_.useTranslations)(),[l,i]=(0,F.useState)(!1);return(0,t.jsx)(S.AppModal,{trigger:e,customClass:"lg:inset-x-35p md:inset-x-35p lg:top-[200px] md:top-[200px] top-[100px]",isOpen:l,onOpenChange:i,cancelButtonLabel:r("button.close"),children:(0,t.jsxs)("div",{className:"text-start ",children:[(0,t.jsxs)("h1",{className:"text-xl font-bold flex gap-1 items-center  border-b border-slate-300 pt-2 pb-4",children:[(0,t.jsx)(A.default,{})," Files"]}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2 mt-4",children:Array.isArray(a?.files)&&a?.files.length>0?a?.files?.map((e,s)=>{let a,r;return(0,t.jsx)("div",{className:"",children:e&&(a=String(e),["jpg","jpeg","png","gif","webp"].includes(r=a.split(".").pop()?.toLowerCase())?(0,t.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"inline-block rounded-md relative group",children:(0,t.jsxs)("div",{className:"w-24 h-24 mb-2 border p-1 rounded-md relative group",children:[(0,t.jsx)(k.default,{loader:m.default,src:a,alt:"Uploaded",fill:!0,sizes:"96px",className:"h-full w-full rounded-md"}),(0,t.jsx)("div",{className:"py-2 absolute bottom-0 left-1/2 -translate-x-1/2 bg-[#FFFFFFE5] border-l border-r border-b w-full rounded-b opacity-0 group-hover:opacity-90 transition-opacity duration-300 flex flex-col items-center justify-center",children:(0,t.jsx)("p",{className:"text-sm font-bold text-blue-500 p-1",children:"Preview"})})]})}):"pdf"===r?(0,t.jsxs)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-sm break-words block mt-2",children:[(0,t.jsxs)("div",{className:"flex w-auto text-white bg-red-700 p-1 rounded-md ",children:[" ",(0,t.jsx)(B.FileText,{width:16,height:16})," "]})," ","View PDF"]}):"zip"==r?(0,t.jsxs)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-sm break-words block mt-2",children:["ZIP File (",r,")"]}):(0,t.jsxs)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-sm break-words block mt-2",children:["Uploaded File (",r,")"]}))},s)}):(0,t.jsx)("div",{className:"col-span-3 flex items-center justify-center",children:(0,t.jsx)("p",{children:"No file attached"})})})]})})},z=({trigger:e,refetch:s,row:a})=>{let r=(0,_.useTranslations)(),[l,i]=(0,F.useState)(!1);return(0,t.jsx)(S.AppModal,{trigger:e,customClass:"lg:inset-x-35p md:inset-x-35p lg:top-[200px] md:top-[200px] top-[100px]",isOpen:l,onOpenChange:i,cancelButtonLabel:r("button.close"),children:(0,t.jsxs)("div",{className:"text-start ",children:[(0,t.jsxs)("h1",{className:"text-xl font-bold flex gap-1 items-center  border-b border-slate-300 pt-2 pb-4",children:[(0,t.jsx)("div",{className:"mx-1 text-blue-500 bg-blue-100 rounded p-1",children:(0,t.jsx)(f.Info,{width:16,height:16})}),"Notes"]}),(0,t.jsxs)("div",{className:"mt-4 ",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Store Note: "}),(0,t.jsx)("div",{className:"max-h-40 overflow-auto break-words custom-scrollbar p-1 text-sm",children:a?.reject_reason})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Customer Note: "}),(0,t.jsx)("div",{className:"max-h-40 overflow-auto break-words custom-scrollbar p-1 text-sm",children:a?.customer_note})]})]})})};var $=e.i(688069),D=e.i(55458),H=e.i(646628);let K=({data:e,refetch:s,ID:L})=>{let S=(0,_.useTranslations)(),P=(0,M.useRouter)(),E=(0,M.usePathname)();E.split("/")[1];let T=e?.order_data,R=e?.refund,O=e?.order_tracking||[],U=e?.order_summary,{currency:A,refetch:B}=(0,h.useCurrencyQuery)({}),K=(0,F.useMemo)(()=>A||{},[A]).currencies_info,{order_amount:V="",order_details:q=[],order_master:W,shipping_charge:G,additional_charge_name:Q}=T,[J,X]=(0,F.useState)(!1),{amount:Y,order_refund_reason:ee,status:et}=R||{},{email:es="",full_name:ea="",image:er="",phone:el="",address:ei="",id:ed="",type:eo=""}=T?.order_master?.customer||{},{name:en="Unknown",total_delivered:ec="",rating:em=0,phone:ex="",review_count:eh=0,id:ep="",type:eu=""}=T?.deliveryman||{},eg=Math.floor(em),ef=em%1!=0;(0,F.useEffect)(()=>{X(!1)},[E]),(0,F.useEffect)(()=>(J?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[J]);let[ej,eb]=(0,F.useState)(!1),{mutate:ev}=(0,p.useRefundRequestStatusUpdate)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.default,{isLoading:J}),(0,t.jsxs)("div",{className:"grid xl:grid-cols-3 grid-cols-1 gap-4",children:[(0,t.jsxs)("div",{className:"col-span-2 space-y-4",children:[(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardContent,{className:"p-2 md:p-6 w-full",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-start justify-between ",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("h1",{className:"text-2xl font-bold ",children:[S("orders.order_id")," :",(0,t.jsxs)("span",{className:"mx-1 text-2xl font-medium text-gray-500 dark:text-white",children:["#",T?.order_id]})]})}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-2 w-full md:w-auto",children:[(0,t.jsx)(Z,{trigger:(0,t.jsxs)(o.Button,{variant:"outline",className:"border border-blue-500 bg-blue-50 text-blue-500 hover:bg-blue-100 hover:text-blue-600 p-2",children:[(0,t.jsx)("span",{className:"mr-2",children:S("orders.track_order")}),(0,t.jsx)("span",{className:"text-white bg-blue-500 hover:bg-opacity-80 p-1 rounded",children:(0,t.jsx)(v.MapPinned,{width:16,height:16})})]}),refetch:s,row:T,CurrencyData:K,OrderTrackingTime:O}),(0,t.jsx)($.default,{trigger:(0,t.jsxs)(o.Button,{variant:"outline",disabled:T?.status==="delivered"||T?.status==="cancelled",className:"border border-yellow-500 bg-yellow-50 text-yellow-500 hover:bg-yellow-100 hover:text-yellow-600 p-2",children:[(0,t.jsx)("span",{className:"mr-2",children:S("orders.change_status")}),(0,t.jsx)("span",{className:"text-white bg-yellow-500 hover:bg-opacity-80 p-1 rounded",children:(0,t.jsx)(i.default,{})})]}),refetch:s,row:T})]})]}),(0,t.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-lg font-semibold",children:[S("orders.order_amount")," :"]}),(0,t.jsx)("span",{className:" text-sm font-semibold text-gray-500 dark:text-white mt-1",children:K?(0,d.formatPrice)(V,K):V})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-lg font-semibold",children:[S("orders.status")," :"]}),(0,t.jsx)("span",{className:` ${T?.status==="delivered"?"bg-green-500":T?.status==="confirmed"?"bg-blue-500":T?.status==="shipped"?"bg-indigo-500":T?.status==="pending"?"bg-gray-500":T?.status==="processing"?"bg-yellow-500":T?.status==="pickup"?"bg-teal-500":"bg-red-500"} capitalize py-1 px-2 rounded text-white`,children:T?.status})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-lg font-semibold",children:[S("orders.payment_getway")," :"]}),(0,t.jsx)("span",{className:"rounded p-2 text-sm font-normal text-gray-500 bg-gray-100 mt-1",children:W?.payment_gateway&&(0,x.formatLabel)(W?.payment_gateway||"","_")})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-lg font-semibold",children:[S("orders.payment_status")," :"]}),(0,t.jsx)("span",{className:` ${T?.payment_status==="paid"?"border border-green-500 bg-green-50 text-green-500":T?.payment_status==="partially_paid"?"border border-blue-500 bg-blue-50 text-blue-500":T?.payment_status==="refunded"?"border border-purple-500 bg-purple-50 text-purple-500":T?.payment_status==="failed"?"border border-red-500 bg-red-50 text-red-500":T?.payment_status==="pending"?"border border-yellow-500 bg-yellow-50 text-yellow-500":"border border-gray-500 bg-gray-50 text-gray-500"} capitalize py-1 px-2 rounded`,children:T?.payment_status&&(0,x.formatLabel)(T?.payment_status||"","_")})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-lg font-semibold",children:[S("orders.order_date")," :"]}),(0,t.jsx)("span",{className:"text-sm font-semibold text-gray-500 dark:text-white mt-1",children:T?.order_date&&(0,u.format)(T?.order_date,"dd MMMM yyyy")})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-base font-semibold",children:[S("orders.store_amount")," :"]}),(0,t.jsx)("span",{className:" text-sm font-semibold text-gray-500 dark:text-white mt-1",children:T?.store_amount?(0,d.formatPrice)(T?.store_amount,K):T?.store_amount})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-base font-semibold",children:[S("orders.admin_order_commission")," :"]}),(0,t.jsx)("span",{className:" text-sm font-semibold text-gray-500 dark:text-white mt-1",children:T?.admin_commission?(0,d.formatPrice)(T?.admin_commission,K):T?.admin_commission})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-base font-semibold",children:[S("orders.additional_charge_store_amount")," :"]}),(0,t.jsx)("span",{className:" text-sm font-semibold text-gray-500 dark:text-white mt-1",children:T?.additional_charge_store_amount?(0,d.formatPrice)(T?.additional_charge_store_amount,K):T?.additional_charge_store_amount})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-base font-semibold",children:[S("orders.admin_additional_charge_commission")," :"]}),(0,t.jsx)("span",{className:" text-sm font-semibold text-gray-500 dark:text-white mt-1",children:T?.admin_additional_charge_commission?(0,d.formatPrice)(T?.admin_additional_charge_commission,K):T?.admin_additional_charge_commission})]})]})]})}),(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardContent,{className:"p-0 w-full",children:[(0,t.jsxs)("div",{className:"grid grid-cols-5 p-4 shadow-xl text-md font-bold",children:[(0,t.jsx)("h2",{className:"col-span-2",children:S("orders.item_details")}),(0,t.jsx)("h2",{className:" text-end",children:S("orders.price")}),(0,t.jsx)("h2",{className:"text-end",children:S("orders.qty")}),(0,t.jsx)("h2",{className:"text-end",children:S("orders.total_price")})]}),(0,t.jsx)("div",{className:"max-h-[350px] overflow-y-auto custom-scrollbar",children:Array.isArray(q)&&q.length>0?q?.map((e,s)=>{let{price:a,quantity:r,product_name:l,line_total_price:i,line_total_price_with_qty:o,variant_details:n,product_image_url:c,product_discount_amount:x,order_amount:h}=e;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"grid grid-cols-5 p-2 py-4",children:[(0,t.jsxs)("div",{className:"col-span-2 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"relative w-[60px] h-[60px]",children:c?(0,t.jsx)(k.default,{loader:m.default,src:c,alt:"product_image_url",fill:!0,sizes:"240px",className:" w-full h-full rounded"}):(0,t.jsx)(k.default,{src:"/images/no-image.png",alt:"no_image",fill:!0,sizes:"240px",className:" w-full h-full rounded"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-md font-semibold ",children:l}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(n).map(([e,s])=>(0,t.jsxs)("p",{className:"text-black dark:text-white text-sm font-medium",children:[e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())," ",":"," ",(0,t.jsx)("span",{className:"text-gray-500 dark:text-white font-normal",children:String(s)})]},e))})]})]}),(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-500 dark:text-white text-end mx-2",children:K?(0,d.formatPrice)(a,K):a}),(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-500 dark:text-white text-end mx-2",children:r}),(0,t.jsx)("p",{className:"text-sm font-semibold text-gray-500 dark:text-white text-end mx-4",children:K?(0,d.formatPrice)(o,K):o})]}),s!==q.length-1&&(0,t.jsx)("div",{className:"m-2 border-b border-slate-300"})]},s)}):""})]})}),(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardContent,{className:"p-2 md:p-6 w-full",children:[(0,t.jsx)("div",{children:(0,t.jsx)("h1",{className:"text-2xl font-bold",children:S("orders.order_summary")})}),(0,t.jsx)("div",{className:"border-b border-slate-300 py-2"}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,t.jsxs)("div",{className:"text-gray-500 dark:text-white text-sm text-start space-y-1",children:[(0,t.jsx)("p",{children:S("orders.sub_total")}),(0,t.jsx)("p",{children:S("orders.coupon_discount")}),(0,t.jsx)("p",{children:S("orders.tax")}),(0,t.jsxs)("p",{children:[S("orders.additional_charge")," ",(0,t.jsxs)("span",{className:"px-1",children:["(",Q,")"]})," "]}),(0,t.jsx)("p",{children:S("orders.delivery_fee")})]}),(0,t.jsxs)("div",{className:"text-gray-500 dark:text-white text-sm text-end space-y-1",children:[(0,t.jsx)("p",{children:K?(0,d.formatPrice)(U?.subtotal,K):U?.subtotal}),(0,t.jsxs)("p",{children:["-"," ",K?(0,d.formatPrice)(U?.coupon_discount,K):U?.coupon_discount]}),(0,t.jsx)("p",{children:K?(0,d.formatPrice)(U?.total_tax_amount,K):U?.total_tax_amount}),(0,t.jsx)("p",{children:K?(0,d.formatPrice)(U?.additional_charge,K):U?.additional_charge}),(0,t.jsx)("p",{children:K?(0,d.formatPrice)(U?.shipping_charge,K):U?.shipping_charge})]})]}),(0,t.jsx)("div",{className:"border-b border-slate-300 py-2"}),(0,t.jsxs)("div",{className:"flex items-start justify-between my-2 text-md font-semibold ",children:[(0,t.jsx)("p",{children:S("orders.total_amount")}),(0,t.jsx)("p",{children:K?(0,d.formatPrice)(U?.total_amount,K):U?.total_amount})]})]})}),W?.order_notes&&(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardContent,{className:"p-2 md:p-6 w-full",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("h1",{className:"text-2xl font-bold",children:[S("orders.order_note")," :"," "]})}),(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-white ",children:W?.order_notes})})]})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[R&&(0,t.jsx)(n.Card,{className:"",children:(0,t.jsxs)(n.CardContent,{className:"p-6 w-full",children:[(0,t.jsx)("div",{className:"flex items-center justify-between pb-2",children:(0,t.jsx)("div",{className:"",children:(0,t.jsx)("h2",{className:"text-lg md:text-2xl font-medium ",children:S("orders.refund_request")})})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 my-2",children:[(0,t.jsxs)("div",{className:" text-black dark:text-white text-sm font-medium space-y-1",children:[(0,t.jsx)("p",{children:S("orders.reason")}),(0,t.jsx)("p",{className:"py-1",children:S("common.amount")}),(0,t.jsx)("p",{className:"py-1",children:S("common.status")}),(0,t.jsx)("p",{className:"py-1",children:S("orders.note")}),(0,t.jsx)("p",{className:"py-1",children:S("orders.file")})]}),(0,t.jsxs)("div",{className:" text-gray-500 dark:text-white text-sm font-medium  space-y-1",children:[(0,t.jsxs)("p",{children:[": ",ee]}),(0,t.jsxs)("p",{className:"py-1",children:[":"," ",K?(0,d.formatPrice)(Y,K):Y]}),(0,t.jsxs)("p",{className:"py-1",children:[":"," ",(0,t.jsx)("span",{className:`border ${"rejected"===et?"text-white border-red-500 bg-red-500":"refunded"===et?"text-white border-blue-500 bg-blue-500":"approved"===et?"text-white border-emerald-500 bg-emerald-500":"text-white border-yellow-500 bg-yellow-500"} capitalize px-2 py-1 rounded`,children:et})]}),(0,t.jsxs)("div",{className:"flex",children:[":"," ",(0,t.jsx)("div",{children:(0,t.jsx)(z,{trigger:(0,t.jsx)("button",{children:(0,t.jsx)("div",{className:"mx-1 text-blue-500 bg-blue-100 rounded p-1",children:(0,t.jsx)(f.Info,{width:16,height:16})})}),refetch:s,row:R})})]}),(0,t.jsxs)("div",{className:"flex",children:[":"," ",(0,t.jsx)("div",{children:(0,t.jsx)(I,{trigger:(0,t.jsx)("button",{children:(0,t.jsx)("div",{className:"mx-1",children:(0,t.jsx)(g.FileIcon,{})})}),refetch:s,row:R})})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-4",children:[(0,t.jsx)(D.default,{trigger:(0,t.jsxs)(o.Button,{disabled:"approved"==et||"refunded"==et||"rejected"==et,variant:"outline",className:"app-button",children:[(0,t.jsx)(r.default,{})," ",(0,t.jsx)("span",{className:"mx-1",children:S("button.approve_request")})]}),onSave:()=>{let e;return e={...{id:R?.id,status:"approved"}},void(eb(!0),ev({...e},{onSuccess:()=>{s(),eb(!1)},onError:()=>{eb(!1)}}))},loading:ej,title:S("orders.approve_request_title"),subTitle:S("orders.approve_request_subtitle")}),(0,t.jsx)(H.default,{trigger:(0,t.jsxs)(o.Button,{disabled:"approved"==et||"refunded"==et||"rejected"==et,variant:"outline",className:"app-delete-button",children:[(0,t.jsx)(r.default,{})," ",(0,t.jsx)("span",{className:"mx-1",children:S("button.reject_request")})]}),onSave:e=>{let t;return t={id:R?.id,status:"rejected",reject_reason:e},void(eb(!0),ev({...t},{onSuccess:()=>{s(),eb(!1)},onError:()=>{eb(!1)}}))},loading:ej})]})]})}),(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardContent,{className:"p-2 md:p-6 w-full",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between ",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.UserCircle,{width:24,height:24,className:"mt-1"}),(0,t.jsx)("h2",{className:"text-lg md:text-2xl font-medium ",children:S("orders.customer_info")})]}),T?.store_details?.live_chat&&(0,t.jsxs)(o.Button,{variant:"outline",className:"border border-slate-300 bg-blue-50 text-black  p-2 text-sm font-semibold",onClick:e=>{let t;return e.metaKey||e.ctrlKey||1===e.button||X(!0),localStorage.setItem("chat_target_seller",JSON.stringify({receiver_id:ed,receiver_type:eo})),t=`${c.SellerRoutes.sellerChatManage}`,void(e.ctrlKey||e.metaKey||1===e.button?window.open(t,"_blank"):P.push(t))},children:[(0,t.jsx)(N.MessageSquareMore,{width:16,height:16})," ",(0,t.jsxs)("span",{className:"ml-1",children:[" ",S("button.chat")]})]})]}),(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"relative w-[60px] h-[60px]",children:(0,t.jsx)(k.default,{loader:m.default,src:er??"/images/no-image.png",alt:"Avatar",fill:!0,sizes:"240px",className:"w-full h-full rounded-full"})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"text-lg font-semibold capitalize",children:ea}),el&&(0,t.jsxs)("p",{className:"flex items-center gap-1 text-black dark:text-white text-sm font-medium mt-1",children:[(0,t.jsx)(w.Phone,{width:16,height:16}),(0,t.jsxs)("span",{className:"text-gray-500 dark:text-white",children:[" ",el]})]}),es&&(0,t.jsxs)("p",{className:"flex items-center gap-1 text-black dark:text-white text-sm font-medium mt-1",children:[(0,t.jsx)(j.Mail,{width:16,height:16}),(0,t.jsxs)("span",{className:"text-gray-500 dark:text-white",children:[" ",es]})]})]})]}),ei&&(0,t.jsxs)("div",{className:"mt-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 text-md font-semibold ",children:[(0,t.jsx)(b.MapPin,{width:16,height:16}),(0,t.jsxs)("span",{children:[S("orders.delivery_location")," :"]})]}),(0,t.jsxs)("p",{className:"text-gray-500 dark:text-white mx-4",children:[ei?.house&&`#H-${ei?.house},`," ",ei?.floor&&`Floor-${ei?.floor},`," ",ei?.road&&`Road-${ei?.road},`," ",ei?.address&&`${ei?.address},`," ",ei?.postal_code&&ei?.postal_code]})]})]})]})}),(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardContent,{className:"p-2 md:p-6 w-full",children:[(0,t.jsx)("div",{className:"flex items-start justify-between ",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(y.Truck,{width:24,height:24,className:"mt-1"}),(0,t.jsx)("h2",{className:"text-lg md:text-2xl font-medium",children:S("orders.delivery_info")})]})}),(0,t.jsx)("div",{className:"p-2",children:(0,t.jsxs)("div",{className:"space-y-3 px-6 text-sm font-semibold text-gray-500 dark:text-white",children:[(0,t.jsxs)("p",{className:"",children:[S("orders.delivery_type")," :"," ",(0,t.jsx)("span",{className:"mx-1",children:T?.delivery_type&&(0,x.formatLabel)(T?.delivery_type||"","_")})]}),G&&(0,t.jsxs)("p",{className:"",children:[S("orders.charge")," :",(0,t.jsxs)("span",{className:"mx-1",children:[K?(0,d.formatPrice)(G,K):G," "]})]}),T?.delivery_time&&(0,t.jsxs)("p",{children:[S("orders.delivery_time")," :",(0,t.jsx)("span",{className:"mx-1 rounded px-2 py-1 text-sm font-normal text-gray-500 bg-gray-100",children:T?.delivery_time})]})]})})]})}),T?.deliveryman&&(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardContent,{className:"p-2 md:p-6 w-full",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between ",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.UserCircle,{width:24,height:24,className:"mt-1"}),(0,t.jsx)("h2",{className:"text-lg md:text-2xl font-medium",children:S("orders.deliveryman_info")})]}),T?.store_details?.live_chat&&(0,t.jsxs)(o.Button,{variant:"outline",className:"border border-slate-300 bg-blue-50 text-black  p-2 text-sm font-semibold",onClick:e=>{let t;return e.metaKey||e.ctrlKey||1===e.button||X(!0),localStorage.setItem("chat_target_seller",JSON.stringify({receiver_id:ep,receiver_type:eu})),t=`${c.SellerRoutes.sellerChatManage}`,void(e.ctrlKey||e.metaKey||1===e.button?window.open(t,"_blank"):P.push(t))},children:[(0,t.jsx)(N.MessageSquareMore,{width:16,height:16})," ",(0,t.jsxs)("span",{className:"ml-1",children:[" ",S("button.chat")]})]})]}),(0,t.jsx)("div",{className:"p-2",children:(0,t.jsxs)("div",{className:"space-y-2 px-6 text-sm font-semibold text-gray-500 dark:text-white",children:[(0,t.jsxs)("p",{className:"capitalize",children:[S("orders.name")," : ",en]}),ex&&(0,t.jsxs)("p",{className:"",children:[S("orders.contact")," : ",ex]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex items-center text-amber-500 gap-1",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>{let a=0;return s<eg?a=100:s===eg&&ef&&(a=50),(0,t.jsx)(l.default,{fillPercentage:a},s)})}),(0,t.jsxs)("span",{className:"text-gray-600 dark:text-white text-sm",children:[em&&Number(em).toFixed(2)," (",eh," ",S("orders.reviews"),")"]})]}),ec&&(0,t.jsxs)("p",{className:"flex items-center gap-1 text-black dark:text-white text-sm font-medium mt-1",children:[S("orders.total_delivered_items")," :",(0,t.jsx)("span",{className:"text-gray-500 dark:text-white",children:ec})]})]})})]})})]})]})]})};var V=e.i(182935),q=e.i(536719),W=e.i(522016),G=e.i(142165);e.s(["default",0,({ID:e})=>{let r=(0,_.useTranslations)(),l=(0,M.usePathname)();l.split("/")[1];let i=(0,q.useAppSelector)(e=>e.refetchValue.isRefetch),{SellerOrderDetails:d,refetch:o,isPending:m}=(0,V.useOrdersQueryById)(e),[x,h]=(0,F.useState)(!1);return((0,F.useEffect)(()=>{h(!1)},[l]),(0,F.useEffect)(()=>(x?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[x]),(0,F.useEffect)(()=>{i&&o()},[i,o]),e)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.default,{isLoading:x}),(0,t.jsx)(n.Card,{className:"mb-4",children:(0,t.jsxs)(n.CardContent,{className:"flex flex-col md:flex-row gap-4  justify-between p-2 md:p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-start md:justify-center gap-2",children:[(0,t.jsx)(s.default,{}),(0,t.jsx)("h1",{className:"text-lg md:text-2xl font-semibold text-black dark:text-white flex items-center gap-2",children:r("orders.order_details")})]}),(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-sm font-semibold text-blue-500 hover:text-white dark:text-[#93c5fd] dark:hover:text-white  bg-blue-100 hover:bg-blue-500 py-2 px-4 rounded flex items-center gap-2",children:(0,t.jsx)(W.default,{className:"",href:c.SellerRoutes.ordersList,onClick:e=>{e.metaKey||e.ctrlKey||1===e.button||h(!0)},children:r("orders.all_orders")})})})]})}),m||!d?(0,t.jsx)(G.default,{}):(0,t.jsx)(K,{data:d,refetch:o,ID:e})]}):(0,t.jsx)("div",{className:"mt-10",children:(0,t.jsx)("h1",{className:"text-xl text-red-500",children:r("common.invalid_id")})})}],620918)}]);