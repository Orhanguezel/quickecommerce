(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,140014,e=>{"use strict";var t=e.i(602904),s=e.i(266027),r=e.i(837706),l=e.i(271645),i=e.i(170319);e.s(["useStoreWiseProductQuery",0,e=>{let{findAll:a}=(0,r.useBaseService)(t.API_ENDPOINTS.STORE_WISE_PRODUCT_LIST),o=(0,l.useRef)(null),{data:n,isPending:d,error:c,refetch:u,isFetching:m}=(0,s.useQuery)({queryKey:[t.API_ENDPOINTS.STORE_WISE_PRODUCT_LIST,e?.store_id],queryFn:()=>a(e),retry:!1,refetchOnWindowFocus:!1});return(0,l.useEffect)(()=>{let e=c?.response?.data?.message;c&&e!==o.current&&(o.current=e,i.toast?.error(`${e}`,{onClose:()=>{o.current=null}}))},[c]),{StoreWiseProductList:n?.data??[],error:c,isPending:d,refetch:u,isFetching:m}}],140014)},855354,e=>{"use strict";var t=e.i(843476),s=e.i(643531);e.s(["default",0,({isSelected:e,onClick:r,title:l})=>(0,t.jsxs)("div",{className:`flex items-center justify-between relative border-2 rounded w-full cursor-pointer p-2 ${e?"border-blue-500 bg-blue-50 text-blue-500":"border-slate-300 hover:border-slate-400 text-slate-500 hover:text-slate-600"}`,onClick:r,children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("div",{className:`w-5 h-5 border-2 rounded flex items-center justify-center ${e?"bg-blue-50 border-blue-500":"bg-white border-slate-300"}`,children:e&&(0,t.jsx)(s.Check,{className:"text-blue-500 font-semibold",size:16})})}),(0,t.jsx)("p",{className:"font-semibold  capitalize",children:l})]})])},796955,e=>{"use strict";var t=e.i(843476),s=e.i(271645),r=e.i(653145),l=e.i(994814),i=e.i(618566),a=e.i(948148),o=e.i(657688),n=e.i(555613),d=e.i(401851),c=e.i(385479),u=e.i(585890),m=e.i(643531),p=e.i(952571),_=e.i(170319),b=e.i(801529);e.i(12138);var x=e.i(526298);e.i(16260);var g=e.i(817478),h=e.i(893742),f=e.i(9075),y=e.i(35988),j=e.i(720126),v=e.i(225960),N=e.i(855354);e.i(614271);var C=e.i(515288),S=e.i(793479),k=e.i(677572),w=e.i(624687),F=e.i(746798),D=e.i(768031),T=e.i(681307);T.z.object({id:T.z.string()});let $={title_df:T.z.string().min(2,"FlashDeals name must be at least 2 characters long"),description_df:T.z.string().optional(),button_text_df:T.z.string().optional(),discount_type:T.z.string().min(1,"Discount type is required"),discount_amount:T.z.number().min(1,"Discount type is required"),store_type:T.z.string().optional(),store_id:T.z.string().optional(),product_ids:T.z.array(T.z.number()).min(1,"You must select at least one store").optional(),special_price:T.z.string().optional(),purchase_limit:T.z.string().optional(),start_date:T.z.string().optional(),start_time:T.z.string().optional(),end_date:T.z.string().optional(),end_time:T.z.string().optional(),title_color:T.z.string().optional(),description_color:T.z.string().optional(),background_color:T.z.string().optional(),button_text_color:T.z.string().optional(),button_hover_color:T.z.string().optional(),button_bg_color:T.z.string().optional(),timer_bg_color:T.z.string().optional(),timer_text_color:T.z.string().optional()},z=b.default.filter(e=>"df"!==e.id).reduce((e,t)=>(e[`title_${t.id}`]=T.z.string().optional(),e[`description_${t.id}`]=T.z.string().optional(),e[`button_text_${t.id}`]=T.z.string().optional(),e),{}),P=T.z.object({...$,...z});var I=e.i(785163),M=e.i(140014),A=e.i(536719),O=e.i(560989);e.i(751345);var E=e.i(46240),K=e.i(90516),L=e.i(229407),W=e.i(187605),R=e.i(445977),V=e.i(905742);let U=["title","description","button_text"],q=[{label:"Percent (%)",value:"percentage"},{label:"Fixed ($)",value:"amount"}],B=[{id:"1",label:"Handpicked products",value:"handpicked_products"},{id:"2",label:"Filter products by store",value:"filter_products_by_store"}];function J(e){return String(e??"").trim()}function Q(e,t){let s=J(e?.[`title_${t}`]),r=J(e?.[`description_${t}`]),l=J(e?.[`button_text_${t}`]);return!!(s||r||l)}let H=[{key:"title_color",labelKey:"label.title_color",btnClass:"dynamic-title-color"},{key:"description_color",labelKey:"label.description_color",btnClass:"dynamic-description-color"},{key:"button_text_color",labelKey:"label.button_text_color",btnClass:"dynamic-button-text-color"},{key:"button_bg_color",labelKey:"label.button_bg_color",btnClass:"dynamic-button-color"},{key:"button_hover_color",labelKey:"label.button_hover_color",btnClass:"dynamic-button-hover-color"},{key:"background_color",labelKey:"label.bg_color",btnClass:"dynamic-background-color"},{key:"timer_bg_color",labelKey:"label.timer_bg_color",btnClass:"dynamic-timer-bg-color"},{key:"timer_text_color",labelKey:"label.timer_text_color",btnClass:"dynamic-timer-text-color"}];function Y({data:e}){let T=(0,A.useAppDispatch)(),$=(0,a.useTranslations)(),z="ar"===((0,i.usePathname)().split("/")[1]||"tr")?"rtl":"ltr",Y=(0,s.useMemo)(()=>b.default,[]),[G,X]=(0,s.useState)("form"),{register:Z,handleSubmit:ee,formState:{errors:et},setValue:es,reset:er,control:el,getValues:ei}=(0,r.useForm)({resolver:(0,l.zodResolver)(P),defaultValues:{title_df:"",description_df:"",button_text_df:"",store_type:"",store_id:"",discount_type:"",discount_amount:0,purchase_limit:"",start_date:"",start_time:"",end_date:"",end_time:"",title_color:"#ff6133",description_color:"#ffe933",button_text_color:"#1beb11",button_bg_color:"#ffff",button_hover_color:"#1153eb",background_color:"#0a3eb5",timer_bg_color:"#0a3eb5",timer_text_color:"#0a3eb5"}}),ea=(0,s.useMemo)(()=>(0,L.makeRHFSetValueAny)(es),[es]),{uiLangs:eo,firstUILangId:en,translationsJson:ed,handleTranslationsJsonChange:ec,rebuildJsonNow:eu}=(0,R.useFormI18nScaffold)({languages:Y,excludeLangIds:["df"],fields:[...U],control:el,getValues:ei,setValueAny:ea,extraWatchNames:["store_type","store_id","discount_type","discount_amount","purchase_limit","start_date","start_time","end_date","end_time",...H.map(e=>e.key)],dfSync:{enabled:!0,pairs:[{dfField:"title_df",srcField:e=>`title_${e}`,validate:!0},{dfField:"description_df",srcField:e=>`description_${e}`},{dfField:"button_text_df",srcField:e=>`button_text_${e}`}]}}),em=(0,r.useWatch)({control:el,name:"store_type"}),ep=(0,r.useWatch)({control:el,name:"store_id"}),e_=(0,r.useWatch)({control:el,name:"discount_type"}),eb=(0,r.useWatch)({control:el,name:"start_date"}),ex=(0,r.useWatch)({control:el,name:H.map(e=>e.key)}),eg=(0,s.useMemo)(()=>{let e={};return H.forEach((t,s)=>{e[t.key]=String(ex?.[s]??"")}),e},[ex]),{storeType:eh}=(0,I.useStoreTypeQuery)({}),{TypeWiseStoreList:ef}=(0,D.useTypeWiseStoreQuery)({store_type:em}),{StoreWiseProductList:ey,refetch:ej}=(0,M.useStoreWiseProductQuery)({store_id:ep}),ev=eh||[],eN=ef?.data||[],eC=ey?.data||[],[eS,ek]=(0,s.useState)(null),[ew,eF]=(0,s.useState)(null),[eD,eT]=(0,s.useState)(""),[e$,ez]=(0,s.useState)(""),[eP,eI]=(0,s.useState)([]),[eM,eA]=(0,s.useState)("1"),eO=e=>{let t=(0,L.safeObject)(e);ec(t),(0,K.applyI18nJsonToFlatForm)({json:t,languages:eo,fields:[...U],setValue:ea,keyOf:(e,t)=>`${e}_${t}`})};(0,s.useEffect)(()=>{"json"===G&&eu()},[G]),(0,s.useEffect)(()=>{if(!e||!e?.id)return void eu();if(Array.isArray(e?.products)&&eI(e.products),ea("store_type",e?.store_type??"",{shouldDirty:!1}),ea("store_id",e?.store_id??"",{shouldDirty:!1}),e?.start_time){let[t,s]=String(e.start_time).split(" ");ea("start_date",t??"",{shouldDirty:!1}),ea("start_time",s??"",{shouldDirty:!1})}else ea("start_date","",{shouldDirty:!1}),ea("start_time","",{shouldDirty:!1});if(e?.end_time){let[t,s]=String(e.end_time).split(" ");ea("end_date",t??"",{shouldDirty:!1}),ea("end_time",s??"",{shouldDirty:!1})}else ea("end_date","",{shouldDirty:!1}),ea("end_time","",{shouldDirty:!1});ea("discount_type",e?.discount_type??"",{shouldDirty:!1,shouldValidate:!0}),ea("discount_amount",Number(e?.discount_amount??0),{shouldDirty:!1,shouldValidate:!0}),ea("purchase_limit",e?.purchase_limit?String(e.purchase_limit):"",{shouldDirty:!1}),H.forEach(t=>{ea(t.key,e?.[t.key]??"",{shouldDirty:!1})}),e?.cover_image?ek({image_id:e.cover_image,img_url:e?.cover_image_url?e.cover_image_url:"/images/no-image.png",name:"cover image"}):ek(null),e?.image?eF({image_id:e.image,img_url:e?.image_url?e.image_url:"/images/no-image.png",name:"flash deals image"}):eF(null),ez(""),eT("");let t=e?.related_translations,s=Array.isArray(e?.translations)?e.translations:t&&"object"==typeof t?Object.keys(t).map(e=>({language_code:e,title:t?.[e]?.title??"",description:t?.[e]?.description??"",button_text:t?.[e]?.button_text??""})):[],r={...e,translations:s},l=e?.translations_json;l&&"object"==typeof l?eO(l):(0,V.initI18nFlatFormFromEntity)({editData:r,firstUILangId:en,uiLangs:eo,i18nFields:U,setValueAny:ea,entityFieldMap:{title:"title",description:"description",button_text:"button_text"},after:eu})},[e?.id,en]),(0,s.useEffect)(()=>{if("u"<typeof document)return;let e=document.documentElement;e.style.setProperty("--title-color",eg.title_color||"#000000"),e.style.setProperty("--description-color",eg.description_color||"#000000"),e.style.setProperty("--button-text-color",eg.button_text_color||"#ffffff"),e.style.setProperty("--button-color",eg.button_bg_color||"#1153eb"),e.style.setProperty("--button-hover-color",eg.button_hover_color||"#0d47a1"),e.style.setProperty("--background-color",eg.background_color||"#0a3eb5"),e.style.setProperty("--timer-bg-color",eg.timer_bg_color||"#0a3eb5"),e.style.setProperty("--timer-text-color",eg.timer_text_color||"#0a3eb5")},[eg]);let eE=(0,D.useFlashDealsStoreMutation)(),eK=(0,D.useFlashDealsUpdateMutation)(),eL=!!eE?.isPending||!!eK?.isPending,eW=async t=>{if(!J(t.discount_type))return void _.toast.error("Discount type is required!");if(1>Number(t.discount_amount??0))return void _.toast.error("Discount amount is required!");let s=`${J(t.start_date)} ${J(t.start_time)||"00:00:00"}`.trim(),r=`${J(t.end_date)} ${J(t.end_time)||"00:00:00"}`.trim(),l=(eP||[]).map(e=>e.value).filter(e=>"number"==typeof e&&Number.isFinite(e));if(l.length<1)return void _.toast.error("At least one product must be selected!");if(!J(t.start_time)||!J(t.end_time))return void _.toast.error("Both start time and end time are required!");if(new Date(s)>new Date(r))return void _.toast.error("Start time cannot be greater than end time!");let i=J(t?.title_df),a=J(t?.description_df),o=J(t?.button_text_df),n=eo.find(e=>Q(t,e.id))?.id??en,d=i||J(t?.[`title_${n}`]),c=a||J(t?.[`description_${n}`]),u=o||J(t?.[`button_text_${n}`]),m=(eo??[]).filter(e=>e.id!==en).filter(e=>Q(t,e.id)).map(e=>({language_code:e.id,title:J(t?.[`title_${e.id}`]),description:J(t?.[`description_${e.id}`]),button_text:J(t?.[`button_text_${e.id}`])})),p=(0,K.buildI18nJsonFromFlatValues)({values:t,languages:eo,fields:[...U],keyOf:(e,t)=>`${e}_${t}`,skipEmpty:!1}),b=eS?.image_id??"",x=ew?.image_id??"",g={id:e?.id,title:d,description:c,button_text:u,title_df:t?.title_df,description_df:t?.description_df,button_text_df:t?.button_text_df,discount_type:t?.discount_type,discount_amount:Number(t?.discount_amount??0),store_type:t?.store_type,store_id:t?.store_id,purchase_limit:t?.purchase_limit,start_time:""===J(t.start_date)?"":s,end_time:""===J(t.end_date)?"":r,product_ids:l,title_color:t?.title_color,description_color:t?.description_color,background_color:t?.background_color,button_text_color:t?.button_text_color,button_bg_color:t?.button_bg_color,button_hover_color:t?.button_hover_color,timer_bg_color:t?.timer_bg_color,timer_text_color:t?.timer_text_color,cover_image:b,cover_image_id:b,image:x,image_id:x,translations:m,translations_json:(0,W.ensureLangKeys)(p,eo)};try{e?.id>0?(await (eK?.mutateAsync?eK.mutateAsync(g):new Promise((e,t)=>eK.mutate(g,{onSuccess:e,onError:t}))),_.toast.success($("common.updated_successfully")??"Updated successfully!")):(await (eE?.mutateAsync?eE.mutateAsync(g):new Promise((e,t)=>eE.mutate(g,{onSuccess:e,onError:t}))),_.toast.success($("common.created_successfully")??"Created successfully!"),er(),eI([])),T((0,O.setRefetch)(!0))}catch(e){console.error("FlashDeals submit failed:",e),_.toast.error($("common.something_went_wrong")??"Something went wrong!")}},eR=(0,t.jsx)("div",{className:"hover:cursor-pointer",children:eS?.img_url?(0,t.jsxs)("div",{className:"relative w-48 h-32 group",children:[(0,t.jsx)(o.default,{loader:v.default,src:eS?.img_url,alt:String(eS?.name??"cover"),fill:!0,sizes:"192px",className:"w-full h-full border dark:border-gray-500 rounded"}),(0,t.jsxs)("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 bg-[#FFFFFFE5] border-l border-r border-b w-full rounded-b opacity-0 group-hover:opacity-90 transition-opacity duration-300 flex flex-col items-center justify-center",children:[(0,t.jsx)(j.default,{}),(0,t.jsx)("p",{className:"text-sm font-bold text-red-500 p-1",children:$("common.change_image")})]})]}):(0,t.jsxs)("div",{className:"border-2 w-48 h-32 border-dashed border-blue-500 text-center rounded-lg cursor-pointer hover:bg-blue-50 transition-colors flex flex-col items-center justify-center",children:[(0,t.jsx)(j.default,{}),(0,t.jsx)("p",{className:"mt-4 text-blue-500 text-sm font-medium p-1",children:$("common.drag_and_drop")})]})}),eV=(0,t.jsx)("div",{className:"hover:cursor-pointer",children:ew?.img_url?(0,t.jsxs)("div",{className:"relative w-32 h-32 group",children:[(0,t.jsx)(o.default,{loader:v.default,src:ew?.img_url,alt:String(ew?.name??"thumb"),fill:!0,sizes:"128px",className:"w-full h-full border dark:border-gray-500 rounded"}),(0,t.jsxs)("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 bg-[#FFFFFFE5] border-l border-r border-b w-full rounded-b opacity-0 group-hover:opacity-90 transition-opacity duration-300 flex flex-col items-center justify-center",children:[(0,t.jsx)(j.default,{}),(0,t.jsx)("p",{className:"text-sm font-bold text-red-500 p-1",children:$("common.change_image")})]})]}):(0,t.jsxs)("div",{className:"w-32 h-32 border-2 border-dashed border-blue-500 text-center rounded-lg cursor-pointer hover:bg-blue-50 transition-colors flex flex-col items-center justify-center",children:[(0,t.jsx)(j.default,{}),(0,t.jsx)("p",{className:"mt-4 text-blue-500 text-sm font-medium p-1",children:$("common.drag_and_drop")})]})}),eU=!!(e?.id&&e?.id>0);return(0,t.jsx)("div",{children:(0,t.jsxs)("form",{onSubmit:ee(eW),children:[(0,t.jsx)("input",{type:"hidden",...Z("title_df")}),(0,t.jsx)("input",{type:"hidden",...Z("description_df")}),(0,t.jsx)("input",{type:"hidden",...Z("button_text_df")}),(0,t.jsx)(C.Card,{className:"mt-4",children:(0,t.jsxs)(C.CardContent,{className:"p-2 md:p-4 flex items-center justify-between gap-3",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:eU?$("button.update_flash_deals"):$("button.add_flash_deals")}),(0,t.jsxs)("div",{className:"inline-flex rounded-md border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900 overflow-hidden",children:[(0,t.jsx)("button",{type:"button",onClick:()=>X("form"),className:["px-4 py-2 text-sm font-medium transition","form"===G?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 dark:bg-gray-900 dark:text-gray-200 dark:hover:bg-gray-800"].join(" "),children:"Form"}),(0,t.jsx)("button",{type:"button",onClick:()=>X("json"),className:["px-4 py-2 text-sm font-medium transition","json"===G?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 dark:bg-gray-900 dark:text-gray-200 dark:hover:bg-gray-800"].join(" "),children:"JSON"})]})]})}),et?.title_df?.message?(0,t.jsx)(C.Card,{className:"mt-4",children:(0,t.jsx)(C.CardContent,{className:"p-3",children:(0,t.jsx)("p",{className:"text-red-600 text-sm",children:String(et?.title_df?.message)})})}):null,"json"===G?(0,t.jsx)(C.Card,{className:"rounded-lg border-none mt-4",children:(0,t.jsx)(C.CardContent,{className:"p-2 md:p-6",children:(0,t.jsx)(E.AdminI18nJsonPanel,{label:"Flash Deals JSON",languages:eo,value:(0,W.ensureLangKeys)(ed,eo),onChange:eO,perLanguage:!0,showAllTab:!0,helperText:(0,t.jsxs)("span",{children:["Alanlar: ",(0,t.jsx)("code",{children:"title"}),", ",(0,t.jsx)("code",{children:"description"}),", ",(0,t.jsx)("code",{children:"button_text"}),"."]})})})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-0 xl:gap-4",children:[(0,t.jsx)(C.Card,{className:"col-span-2 mt-4",children:(0,t.jsxs)(C.CardContent,{className:"p-2 md:p-6",children:[(0,t.jsx)("h1",{className:"text-lg md:text-2xl font-medium mb-4",children:$("label.basic_information")}),(0,t.jsxs)(k.Tabs,{defaultValue:en,className:"col-span-2",children:[(0,t.jsx)(k.TabsList,{dir:z,className:"flex justify-start bg-white dark:bg-[#1f2937]",children:eo.map(e=>(0,t.jsx)(k.TabsTrigger,{value:e.id,children:e.label},e.id))}),(0,t.jsx)("div",{dir:z,children:eo.map(e=>(0,t.jsx)(k.TabsContent,{value:e.id,children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm font-medium mb-1",children:[$("label.title")," (",$(`lang.${e.id}`),")"]}),(0,t.jsx)(S.Input,{...Z(`title_${e.id}`),className:"app-input"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm font-medium mb-1",children:[$("label.description")," (",$(`lang.${e.id}`),")"]}),(0,t.jsx)(w.Textarea,{...Z(`description_${e.id}`),className:"app-input"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm font-medium mb-1",children:[$("label.button_title")," (",$(`lang.${e.id}`),")"]}),(0,t.jsx)(S.Input,{...Z(`button_text_${e.id}`),className:"app-input"})]})]})},e.id))})]}),(0,t.jsxs)("div",{className:"mt-6 flex flex-col md:flex-row items-start gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-sm font-medium flex items-center gap-2 mb-1",children:[(0,t.jsx)("span",{children:$("label.bg_image")}),(0,t.jsx)(F.TooltipProvider,{children:(0,t.jsxs)(F.Tooltip,{children:[(0,t.jsx)(F.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(p.Info,{className:"w-4 text-custom-dark-blue cursor-pointer"})}),(0,t.jsx)(F.TooltipContent,{className:"bg-custom-dark-blue w-96",children:(0,t.jsx)("p",{className:"p-1 text-sm font-medium",children:$("tooltip.aspect_ratio_4_1")})})]})})]}),(0,t.jsxs)("div",{className:"relative w-48",children:[(0,t.jsx)(h.default,{trigger:eR,isMultiple:!1,onSave:e=>{ek(e?.[0]??null);let[t,s]=String(e?.[0]?.dimensions??"").split(" x ").map(e=>parseInt(e.trim(),10));return .01>Math.abs((t&&s?t/s:0)-4)?(ez(""),!0):(ez("Image must have a 4:1 aspect ratio."),!1)},usageType:"flash_deals",selectedImage:eS}),eS?.image_id?(0,t.jsx)(y.default,{customClass:"absolute top-0 right-0 m-1",onClick:e=>{e.stopPropagation(),ek(null),ez("")}}):null,e$?(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:e$}):null]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-sm font-medium flex items-center gap-2 mb-1",children:[(0,t.jsx)("span",{children:$("label.thumbnail")}),(0,t.jsx)(F.TooltipProvider,{children:(0,t.jsxs)(F.Tooltip,{children:[(0,t.jsx)(F.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(p.Info,{className:"w-4 text-custom-dark-blue cursor-pointer"})}),(0,t.jsx)(F.TooltipContent,{className:"bg-custom-dark-blue w-96",children:(0,t.jsx)("p",{className:"p-1 text-sm font-medium",children:$("tooltip.aspect_ratio_1_1")})})]})})]}),(0,t.jsxs)("div",{className:"relative w-32",children:[(0,t.jsx)(h.default,{trigger:eV,isMultiple:!1,onSave:e=>{eF(e?.[0]??null);let[t,s]=String(e?.[0]?.dimensions??"").split(" x ").map(e=>parseInt(e.trim(),10));return .01>Math.abs((t&&s?t/s:0)-1)?(eT(""),!0):(eT("Image must have a 1:1 aspect ratio."),!1)},usageType:"flash_deals",selectedImage:ew}),ew?.image_id?(0,t.jsx)(y.default,{customClass:"absolute top-0 right-0 m-1",onClick:e=>{e.stopPropagation(),eF(null),eT("")}}):null,eD?(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:eD}):null]})]})]})]})}),(0,t.jsxs)("div",{className:"col-span-1 grid grid-cols-1",children:[(0,t.jsx)(C.Card,{className:"mt-4",children:(0,t.jsxs)(C.CardContent,{className:"p-2 md:p-6",children:[(0,t.jsx)("h1",{className:"text-lg md:text-2xl font-medium mb-4",children:$("label.product_validity")}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:$("label.opening_date")}),(0,t.jsxs)("div",{className:"grid grid-cols-3 items-center gap-2",children:[(0,t.jsx)("div",{className:"col-span-2",children:(0,t.jsx)(r.Controller,{name:"start_date",control:el,render:({field:e})=>(0,t.jsx)(f.default,{label:"",selectedDate:e.value?(0,c.parse)(e.value,"yyyy-MM-dd",new Date):null,onChange:t=>e.onChange(t?(0,d.format)(t,"yyyy-MM-dd"):"")})})}),(0,t.jsx)(S.Input,{type:"time",...Z("start_time"),className:"app-input"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:$("label.expire_date")}),(0,t.jsxs)("div",{className:"grid grid-cols-3 items-center gap-2",children:[(0,t.jsx)("div",{className:"col-span-2",children:(0,t.jsx)(r.Controller,{name:"end_date",control:el,render:({field:e})=>{let s=eb?(0,u.startOfDay)((0,c.parse)(eb,"yyyy-MM-dd",new Date)):null,r=(0,u.startOfDay)(new Date),l=r;return s&&s>r&&(l=s),(0,t.jsx)(f.default,{label:"",selectedDate:e.value?(0,c.parse)(e.value,"yyyy-MM-dd",new Date):null,onChange:t=>e.onChange(t?(0,d.format)(t,"yyyy-MM-dd"):""),minDate:l})}})}),(0,t.jsx)(S.Input,{type:"time",...Z("end_time"),className:"app-input"})]})]})]})]})}),(0,t.jsx)(C.Card,{className:"mt-4",children:(0,t.jsxs)(C.CardContent,{className:"p-2 md:p-6",children:[(0,t.jsx)("h1",{className:"text-lg md:text-2xl font-medium mb-4",children:$("label.setup_discount")}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:$("label.discount_type")}),(0,t.jsx)(r.Controller,{control:el,name:"discount_type",render:({field:e})=>(0,t.jsx)(x.AppSelect,{value:String(e.value??""),onSelect:t=>e.onChange(String(t)),groups:q,hideNone:!0})}),et?.discount_type?.message?(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:String(et?.discount_type?.message)}):null]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm font-medium mb-1",children:[$("label.discount")," ",e_?`( ${"percentage"===e_?"%":"$"} )`:""]}),(0,t.jsx)(r.Controller,{control:el,name:"discount_amount",render:({field:e})=>(0,t.jsx)(S.Input,{type:"number",disabled:!e_,className:"app-input",placeholder:$("place_holder.enter_discount"),value:Number(e.value??0),onChange:t=>{let s=Number(t.target.value),r="percentage"===e_?Math.min(100,Math.max(0,s)):Math.max(0,s);e.onChange(r)}})}),et?.discount_amount?.message?(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:String(et?.discount_amount?.message)}):null]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:$("label.purchase_limit")}),(0,t.jsx)(S.Input,{...Z("purchase_limit"),className:"app-input"})]})]})]})})]})]}),(0,t.jsx)(C.Card,{className:"mt-4",children:(0,t.jsxs)(C.CardContent,{className:"p-2 md:p-6",children:[(0,t.jsx)("h1",{className:"text-lg md:text-2xl font-medium mb-4",children:$("label.choose_products")}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4 md:gap-8 mb-4",children:B?.map(e=>(0,t.jsx)(N.default,{isSelected:eM===e.id,onClick:()=>{var t;eA((t=e.id)===eM?null:t),"1"===t&&(ea("store_id","",{shouldDirty:!1,shouldTouch:!1,shouldValidate:!1}),ej?.())},imageSrc:e?.image_url,title:e.label},e.id))}),"2"===eM?(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-1 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:$("label.store_type")}),(0,t.jsx)(r.Controller,{control:el,name:"store_type",render:({field:e})=>(0,t.jsx)(x.AppSelect,{value:e.value||"",onSelect:t=>e.onChange(String(t)),groups:ev})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:$("label.store")}),(0,t.jsx)(r.Controller,{control:el,name:"store_id",render:({field:e})=>(0,t.jsx)(x.AppSelect,{value:e.value||"",onSelect:t=>e.onChange(String(t)),groups:eN})})]})]}):null,(0,t.jsx)(n.default,{isMulti:!0,options:eC,styles:{option:(e,t)=>({...e,backgroundColor:t.isSelected?"#e5e7eb":t.isFocused?"#f3f4f6":"",color:"#000",padding:"10px"}),singleValue:e=>({...e,display:"flex",alignItems:"center"})},classNamePrefix:"select",closeMenuOnSelect:!1,hideSelectedOptions:!1,value:eP,onChange:e=>{eI(e||[])},getOptionLabel:e=>e?.label?String(e.label).split(" | ")[0]:"",formatOptionLabel:(e,{context:s})=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"menu"===s?e?.label??"":e?.label?.split(" | ")[0]??""}),"menu"===s&&eP.some(t=>t.value===e.value)?(0,t.jsx)(m.Check,{className:"w-4 h-4 text-blue-500"}):null]})})]})})]}),(0,t.jsx)(C.Card,{className:"mt-4 sticky bottom-0 w-full p-4",children:(0,t.jsx)(g.SubmitButton,{UpdateData:e,IsLoading:eL,AddLabel:$("button.add_flash_deals"),UpdateLabel:$("button.update_flash_deals")})})]})})}e.s(["default",()=>Y],796955)}]);