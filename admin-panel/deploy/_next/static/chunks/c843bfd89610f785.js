(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,317408,e=>{"use strict";e.s(["formatPrice",0,(e,t)=>{let a;if(null==e)return"";if(!t)return e.toString();let{com_site_currency_symbol_position:s="left",com_site_enable_disable_decimal_point:r="NO",com_site_comma_form_adjustment_amount:i="NO",com_site_space_between_amount_and_symbol:l="NO",com_site_global_currency:d="USD"}=t;a=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2*("YES"==r),maximumFractionDigits:2*("YES"==r)}).format(e);let n="USD"==d?"$":"",o="YES"==l?`${n} `:n;return"left"===s?`${o}${a}`:"right"===s?`${a}${o}`:`${a} ${n}`}])},319761,e=>{"use strict";let t=(0,e.i(475254).default)("message-square-quote",[["path",{d:"M14 14a2 2 0 0 0 2-2V8h-2",key:"1r06pg"}],["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M8 14a2 2 0 0 0 2-2V8H8",key:"1jzu5j"}]]);e.s(["default",()=>t])},72961,e=>{"use strict";var t=e.i(319761);e.s(["MessageSquareQuote",()=>t.default])},849550,e=>{"use strict";let t=(0,e.i(475254).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["default",()=>t])},212426,e=>{"use strict";var t=e.i(849550);e.s(["DollarSign",()=>t.default])},670461,e=>{"use strict";var t=e.i(602904),a=e.i(22584),s=e.i(954616),r=e.i(266027),i=e.i(618566),l=e.i(271645),d=e.i(170319),n=e.i(837706);e.s(["useCashCollectQuery",0,e=>{let{findAll:a}=(0,n.useBaseService)(t.API_ENDPOINTS.CASH_COLLECT_LIST),s=(0,l.useRef)(null),{data:i,isPending:o,error:c,refetch:u,isFetching:m}=(0,r.useQuery)({queryKey:[t.API_ENDPOINTS.CASH_COLLECT_LIST],queryFn:()=>a(e),retry:!1,refetchOnWindowFocus:!1,...e});return(0,l.useEffect)(()=>{let e=c?.response?.data?.message;c&&e!==s.current&&(s.current=e,d.toast?.error(`${e}`,{onClose:()=>{s.current=null}}))},[c]),{CashCollects:i?.data??{},error:c,isPending:o,refetch:u,isFetching:m}},"useCashCollectStoreMutation",0,()=>{let{create:e}=(0,n.useBaseService)(t.API_ENDPOINTS.CASH_COLLECT_LIST),r=(0,i.useRouter)();return(0,s.useMutation)({mutationFn:t=>e(t),mutationKey:[t.API_ENDPOINTS.CASH_COLLECT_LIST],onSuccess:async e=>{e?.data?(d.toast.success(e?.data?.message),r.push(a.Routes.CashCollectList)):d.toast.error(e?.data?.message)},onError:async e=>{let t=e?.response?.data;t?.order_id&&d.toast.error(t?.order_id[0]),t?.activity_value?d.toast.error(t?.activity_value[0]):d.toast.error(t?.message)}})}],670461)},434580,e=>{"use strict";var t=e.i(843476),a=e.i(459565);e.i(12138);var s=e.i(526298),r=e.i(317408),i=e.i(781492),l=e.i(451163),d=e.i(659022),n=e.i(559290),o=e.i(975157),c=e.i(670461),u=e.i(526354),m=e.i(719804),h=e.i(248037),x=e.i(72961),f=e.i(861745),p=e.i(948148),g=e.i(271645),y=e.i(632814),j=e.i(618566);let C=({trigger:e,loading:a,reference:s})=>{(0,j.usePathname)().split("/")[1];let[r,i]=(0,g.useState)(!1);return(0,t.jsxs)(y.AppModal,{trigger:e,customClass:"lg:inset-x-35p md:inset-x-35p lg:top-[200px] md:top-[200px] top-[100px]",cancelButtonLabel:"Close",disable:a,isOpen:r,onOpenChange:i,IsLoading:a,children:[(0,t.jsx)("p",{className:"pt-2 text-gray-500 dark:text-white",children:(0,t.jsx)(x.MessageSquareQuote,{width:40,height:40})}),(0,t.jsx)("div",{className:" flex flex-col items-start justify-start p-2 w-full",children:(0,t.jsx)("div",{className:" my-2",children:(0,t.jsx)("span",{children:s?.trim()?s:"No reference provided."})})})]})},_=()=>{let e=(0,p.useTranslations)(),a=(0,f.useLocale)(),[y,j]=(0,g.useState)(()=>parseInt(localStorage.getItem("itemsPerPage")||"10")),[_,S]=(0,g.useState)(1),[v,I]=(0,g.useState)({columnKey:"",order:""}),b="ascend"==v.order?"asc":"desc",{CashCollects:N,refetch:w,isPending:L,error:P}=(0,c.useCashCollectQuery)({per_page:y,language:a,page:_,sortField:""==v.columnKey?"id":v.columnKey,sort:b}),T=N?.meta?.total,E=N?.meta?.from,O=N?.meta?.last_page,A=(0,g.useMemo)(()=>{let e=N?.data||[];return e?.map((e,t)=>({...e,serial:E+t}))},[N,E]);(0,g.useEffect)(()=>{Number(_)>Number(O)?S(O):S(_)},[O,_]);let{currency:M}=(0,u.useCurrencyQuery)({}),D=(0,g.useMemo)(()=>M||{},[M]).currencies_info;return(0,g.useEffect)(()=>{L||P||w()},[b,y,_,L,w,P]),(0,t.jsx)(t.Fragment,{children:L?(0,t.jsx)(d.default,{}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.default,{originData:A,useColumn:(a,s)=>g.default.useMemo(()=>[{title:e("table_header.sl"),dataIndex:"serial",fixed:a?"left":void 0,width:"5%"},{title:e("table_header.order_no"),dataIndex:"order_id",width:100},{title:e("table_header.amount"),dataIndex:"activity_value",width:150},{title:e("table_header.collected_from"),dataIndex:"ref",width:150},{title:e("table_header.activity_type"),dataIndex:"activity_type",width:150},{title:e("table_header.activity_from"),dataIndex:"activity_from",width:150},{title:e("table_header.collected_at"),dataIndex:"created_at",width:200},{title:e("table_header.reference"),dataIndex:"reference",width:200}],[a]).map(e=>"ref"===e.dataIndex?{...e,render:(e,a)=>(0,t.jsx)("span",{className:"capitalize",children:e})}:"activity_type"===e.dataIndex?{...e,render:(e,a)=>(0,t.jsx)("span",{className:"capitalize",children:e&&(0,o.formatLabel)(e||"","_")})}:"activity_value"===e.dataIndex?{...e,render:(e,a)=>(0,t.jsx)("span",{className:"text-right",children:D?(0,r.formatPrice)(e,D):e})}:"reference"===e.dataIndex?{...e,render:(e,a)=>(0,t.jsx)("div",{className:"flex items-center justify-start gap-2",children:(0,t.jsx)(C,{trigger:(0,t.jsx)("div",{className:"cursor-pointer p-1 bg-teal-50 border border-teal-500 text-teal-500 rounded",children:(0,t.jsx)("span",{children:(0,t.jsx)(x.MessageSquareQuote,{width:20,height:20})})}),reference:a?.reference})})}:e),sortedInfo:v,handleSort:e=>{I(t=>{let a=t.columnKey===e&&"ascend"===t.order?"descend":"ascend";return{columnKey:e,order:a}})},maxWidth:1200}),(0,t.jsxs)("div",{className:"mt-3 flex flex-col md:flex-row justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsx)(s.AppSelect,{value:String(y),onSelect:e=>{j(parseInt(e)),S(1),localStorage.setItem("itemsPerPage",e)},groups:n.CountItems,customClass:"w-[80px] h-8 mb-4 md:mb-0",hideNone:!0})}),(0,t.jsx)(i.default,{pageSize:y,outline:!0,onChange:e=>{S(e)},current:_,total:T,defaultCurrent:1,jumpPrevIcon:(0,t.jsx)(m.ChevronsLeftIcon,{className:"h-4 w-4"}),jumpNextIcon:(0,t.jsx)(h.ChevronsRightIcon,{className:"h-4 w-4"})})]})]})})};e.i(614271);var S=e.i(519455),v=e.i(515288),I=e.i(22584),b=e.i(212426),N=e.i(522016);e.s(["default",0,()=>{let e=(0,p.useTranslations)(),s=(0,j.usePathname)(),r=s.split("/")[1],[i,l]=(0,g.useState)(!1);return(0,g.useEffect)(()=>{l(!1)},[s]),(0,g.useEffect)(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[i]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.default,{isLoading:i}),(0,t.jsx)(v.Card,{children:(0,t.jsxs)(v.CardContent,{dir:"ar"===r?"rtl":"ltr",className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-2 md:p-4",children:[(0,t.jsx)("div",{className:"col-span-1",children:(0,t.jsxs)("h1",{className:"text-lg md:text-2xl font-semibold text-black dark:text-white flex items-center gap-2",children:[" ",(0,t.jsx)(b.DollarSign,{})," ",e("label.collect_cash")]})}),(0,t.jsx)("div",{className:"colo-span-1 flex items-center gap-2 justify-start md:justify-end",children:(0,t.jsx)(N.default,{href:I.Routes.addCashCollect,children:(0,t.jsxs)(S.Button,{variant:"outline",className:"app-button",onClick:e=>{e.metaKey||e.ctrlKey||1===e.button||l(!0)},children:["+ ",e("button.add_cash")]})})})]})}),(0,t.jsx)(_,{})]})}],434580)}]);