(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,488143,(e,t,i)=>{"use strict";function r({widthInt:e,heightInt:t,blurWidth:i,blurHeight:r,blurDataURL:a,objectFit:s}){let l=i?40*i:e,n=r?40*r:t,o=l&&n?`viewBox='0 0 ${l} ${n}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${o}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${o?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${a}'/%3E%3C/svg%3E`}Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"getImageBlurSvg",{enumerable:!0,get:function(){return r}})},987690,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={VALID_LOADERS:function(){return s},imageConfigDefault:function(){return l}};for(var a in r)Object.defineProperty(i,a,{enumerable:!0,get:r[a]});let s=["default","imgix","cloudinary","akamai","custom"],l={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,maximumResponseBody:5e7,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},908927,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"getImgProps",{enumerable:!0,get:function(){return d}}),e.r(233525);let r=e.r(543369),a=e.r(488143),s=e.r(987690),l=["-moz-initial","fill","none","scale-down",void 0];function n(e){return void 0!==e.default}function o(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function d({src:e,sizes:t,unoptimized:i=!1,priority:d=!1,preload:u=!1,loading:c,className:f,quality:m,width:p,height:h,fill:g=!1,style:x,overrideSrc:b,onLoad:v,onLoadingComplete:y,placeholder:w="empty",blurDataURL:j,fetchPriority:_,decoding:C="async",layout:P,objectFit:N,objectPosition:S,lazyBoundary:E,lazyRoot:O,...M},I){var L;let R,T,A,{imgConf:D,showAltText:z,blurComplete:k,defaultLoader:$}=I,F=D||s.imageConfigDefault;if("allSizes"in F)R=F;else{let e=[...F.deviceSizes,...F.imageSizes].sort((e,t)=>e-t),t=F.deviceSizes.sort((e,t)=>e-t),i=F.qualities?.sort((e,t)=>e-t);R={...F,allSizes:e,deviceSizes:t,qualities:i}}if(void 0===$)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let U=M.loader||$;delete M.loader,delete M.srcSet;let B="__next_img_default"in U;if(B){if("custom"===R.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=U;U=t=>{let{config:i,...r}=t;return e(r)}}if(P){"fill"===P&&(g=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[P];e&&(x={...x,...e});let i={responsive:"100vw",fill:"100vw"}[P];i&&!t&&(t=i)}let q="",G=o(p),H=o(h);if((L=e)&&"object"==typeof L&&(n(L)||void 0!==L.src)){let t=n(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(T=t.blurWidth,A=t.blurHeight,j=j||t.blurDataURL,q=t.src,!g)if(G||H){if(G&&!H){let e=G/t.width;H=Math.round(t.height*e)}else if(!G&&H){let e=H/t.height;G=Math.round(t.width*e)}}else G=t.width,H=t.height}let W=!d&&!u&&("lazy"===c||void 0===c);(!(e="string"==typeof e?e:q)||e.startsWith("data:")||e.startsWith("blob:"))&&(i=!0,W=!1),R.unoptimized&&(i=!0),B&&!R.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(i=!0);let K=o(m),V=Object.assign(g?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:N,objectPosition:S}:{},z?{}:{color:"transparent"},x),X=k||"empty"===w?null:"blur"===w?`url("data:image/svg+xml;charset=utf-8,${(0,a.getImageBlurSvg)({widthInt:G,heightInt:H,blurWidth:T,blurHeight:A,blurDataURL:j||"",objectFit:V.objectFit})}")`:`url("${w}")`,Y=l.includes(V.objectFit)?"fill"===V.objectFit?"100% 100%":"cover":V.objectFit,Q=X?{backgroundSize:Y,backgroundPosition:V.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:X}:{},J=function({config:e,src:t,unoptimized:i,width:a,quality:s,sizes:l,loader:n}){if(i){let e=(0,r.getDeploymentId)();if(t.startsWith("/")&&!t.startsWith("//")&&e){let i=t.includes("?")?"&":"?";t=`${t}${i}dpl=${e}`}return{src:t,srcSet:void 0,sizes:void 0}}let{widths:o,kind:d}=function({deviceSizes:e,allSizes:t},i,r){if(r){let i=/(^|\s)(1?\d?\d)vw/g,a=[];for(let e;e=i.exec(r);)a.push(parseInt(e[2]));if(a.length){let i=.01*Math.min(...a);return{widths:t.filter(t=>t>=e[0]*i),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof i?{widths:e,kind:"w"}:{widths:[...new Set([i,2*i].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,a,l),u=o.length-1;return{sizes:l||"w"!==d?l:"100vw",srcSet:o.map((i,r)=>`${n({config:e,src:t,quality:s,width:i})} ${"w"===d?i:r+1}${d}`).join(", "),src:n({config:e,src:t,quality:s,width:o[u]})}}({config:R,src:e,unoptimized:i,width:G,quality:K,sizes:t,loader:U}),Z=W?"lazy":c;return{props:{...M,loading:Z,fetchPriority:_,width:G,height:H,decoding:C,className:f,style:{...V,...Q},sizes:J.sizes,srcSet:J.srcSet,src:b||J.src},meta:{unoptimized:i,preload:u||d,placeholder:w,fill:g}}}},898879,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"default",{enumerable:!0,get:function(){return n}});let r=e.r(271645),a="u"<typeof window,s=a?()=>{}:r.useLayoutEffect,l=a?()=>{}:r.useEffect;function n(e){let{headManager:t,reduceComponentsToState:i}=e;function n(){if(t&&t.mountedInstances){let e=r.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(i(e))}}return a&&(t?.mountedInstances?.add(e.children),n()),s(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),s(()=>(t&&(t._pendingUpdate=n),()=>{t&&(t._pendingUpdate=n)})),l(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},325633,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={default:function(){return h},defaultHead:function(){return c}};for(var a in r)Object.defineProperty(i,a,{enumerable:!0,get:r[a]});let s=e.r(555682),l=e.r(190809),n=e.r(843476),o=l._(e.r(271645)),d=s._(e.r(898879)),u=e.r(742732);function c(){return[(0,n.jsx)("meta",{charSet:"utf-8"},"charset"),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function f(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===o.default.Fragment?e.concat(o.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(233525);let m=["name","httpEquiv","charSet","itemProp"];function p(e){let t,i,r,a;return e.reduce(f,[]).reverse().concat(c().reverse()).filter((t=new Set,i=new Set,r=new Set,a={},e=>{let s=!0,l=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){l=!0;let i=e.key.slice(e.key.indexOf("$")+1);t.has(i)?s=!1:t.add(i)}switch(e.type){case"title":case"base":i.has(e.type)?s=!1:i.add(e.type);break;case"meta":for(let t=0,i=m.length;t<i;t++){let i=m[t];if(e.props.hasOwnProperty(i))if("charSet"===i)r.has(i)?s=!1:r.add(i);else{let t=e.props[i],r=a[i]||new Set;("name"!==i||!l)&&r.has(t)?s=!1:(r.add(t),a[i]=r)}}}return s})).reverse().map((e,t)=>{let i=e.key||t;return o.default.cloneElement(e,{key:i})})}let h=function({children:e}){let t=(0,o.useContext)(u.HeadManagerContext);return(0,n.jsx)(d.default,{reduceComponentsToState:p,headManager:t,children:e})};("function"==typeof i.default||"object"==typeof i.default&&null!==i.default)&&void 0===i.default.__esModule&&(Object.defineProperty(i.default,"__esModule",{value:!0}),Object.assign(i.default,i),t.exports=i.default)},918556,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"ImageConfigContext",{enumerable:!0,get:function(){return s}});let r=e.r(555682)._(e.r(271645)),a=e.r(987690),s=r.default.createContext(a.imageConfigDefault)},65856,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"RouterContext",{enumerable:!0,get:function(){return r}});let r=e.r(555682)._(e.r(271645)).default.createContext(null)},670965,(e,t,i)=>{"use strict";function r(e,t){let i=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-i)<Math.abs(e-i)?t:e,0):i}Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"findClosestQuality",{enumerable:!0,get:function(){return r}})},1948,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"default",{enumerable:!0,get:function(){return l}});let r=e.r(670965),a=e.r(543369);function s({config:e,src:t,width:i,quality:s}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let l=(0,r.findClosestQuality)(s,e),n=(0,a.getDeploymentId)();return`${e.path}?url=${encodeURIComponent(t)}&w=${i}&q=${l}${t.startsWith("/")&&n?`&dpl=${n}`:""}`}s.__next_img_default=!0;let l=s},605500,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"Image",{enumerable:!0,get:function(){return y}});let r=e.r(555682),a=e.r(190809),s=e.r(843476),l=a._(e.r(271645)),n=r._(e.r(174080)),o=r._(e.r(325633)),d=e.r(908927),u=e.r(987690),c=e.r(918556);e.r(233525);let f=e.r(65856),m=r._(e.r(1948)),p=e.r(818581),h={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function g(e,t,i,r,a,s,l){let n=e?.src;e&&e["data-loaded-src"]!==n&&(e["data-loaded-src"]=n,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&a(!0),i?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let r=!1,a=!1;i.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>r,isPropagationStopped:()=>a,persist:()=>{},preventDefault:()=>{r=!0,t.preventDefault()},stopPropagation:()=>{a=!0,t.stopPropagation()}})}r?.current&&r.current(e)}}))}function x(e){return l.use?{fetchPriority:e}:{fetchpriority:e}}"u"<typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let b=(0,l.forwardRef)(({src:e,srcSet:t,sizes:i,height:r,width:a,decoding:n,className:o,style:d,fetchPriority:u,placeholder:c,loading:f,unoptimized:m,fill:h,onLoadRef:b,onLoadingCompleteRef:v,setBlurComplete:y,setShowAltText:w,sizesInput:j,onLoad:_,onError:C,...P},N)=>{let S=(0,l.useCallback)(e=>{e&&(C&&(e.src=e.src),e.complete&&g(e,c,b,v,y,m,j))},[e,c,b,v,y,C,m,j]),E=(0,p.useMergedRef)(N,S);return(0,s.jsx)("img",{...P,...x(u),loading:f,width:a,height:r,decoding:n,"data-nimg":h?"fill":"1",className:o,style:d,sizes:i,srcSet:t,src:e,ref:E,onLoad:e=>{g(e.currentTarget,c,b,v,y,m,j)},onError:e=>{w(!0),"empty"!==c&&y(!0),C&&C(e)}})});function v({isAppRouter:e,imgAttributes:t}){let i={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...x(t.fetchPriority)};return e&&n.default.preload?(n.default.preload(t.src,i),null):(0,s.jsx)(o.default,{children:(0,s.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...i},"__nimg-"+t.src+t.srcSet+t.sizes)})}let y=(0,l.forwardRef)((e,t)=>{let i=(0,l.useContext)(f.RouterContext),r=(0,l.useContext)(c.ImageConfigContext),a=(0,l.useMemo)(()=>{let e=h||r||u.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),i=e.deviceSizes.sort((e,t)=>e-t),a=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:i,qualities:a,localPatterns:"u"<typeof window?r?.localPatterns:e.localPatterns}},[r]),{onLoad:n,onLoadingComplete:o}=e,p=(0,l.useRef)(n);(0,l.useEffect)(()=>{p.current=n},[n]);let g=(0,l.useRef)(o);(0,l.useEffect)(()=>{g.current=o},[o]);let[x,y]=(0,l.useState)(!1),[w,j]=(0,l.useState)(!1),{props:_,meta:C}=(0,d.getImgProps)(e,{defaultLoader:m.default,imgConf:a,blurComplete:x,showAltText:w});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b,{..._,unoptimized:C.unoptimized,placeholder:C.placeholder,fill:C.fill,onLoadRef:p,onLoadingCompleteRef:g,setBlurComplete:y,setShowAltText:j,sizesInput:e.sizes,ref:t}),C.preload?(0,s.jsx)(v,{isAppRouter:!i,imgAttributes:_}):null]})});("function"==typeof i.default||"object"==typeof i.default&&null!==i.default)&&void 0===i.default.__esModule&&(Object.defineProperty(i.default,"__esModule",{value:!0}),Object.assign(i.default,i),t.exports=i.default)},794909,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={default:function(){return u},getImageProps:function(){return d}};for(var a in r)Object.defineProperty(i,a,{enumerable:!0,get:r[a]});let s=e.r(555682),l=e.r(908927),n=e.r(605500),o=s._(e.r(1948));function d(e){let{props:t}=(0,l.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,i]of Object.entries(t))void 0===i&&delete t[e];return{props:t}}let u=n.Image},657688,(e,t,i)=>{t.exports=e.r(794909)},225960,e=>{"use strict";e.s(["default",0,({src:e,width:t,quality:i})=>{let r=e.includes("?");return`${e}${r?"&":"?"}w=${t}&q=${i||75}`}])},35988,e=>{"use strict";var t=e.i(843476);let i=()=>(0,t.jsx)("div",{children:(0,t.jsxs)("svg",{width:"11",height:"10",viewBox:"0 0 11 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M10.25 9L6.25 5L10.25 1",stroke:"#FF5555",strokeWidth:"0.833333",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M0.5 1L4.5 5L0.5 9",stroke:"#FF5555",strokeWidth:"0.833333",strokeLinecap:"round",strokeLinejoin:"round"})]})});e.s(["default",0,({onClick:e,customClass:r})=>(0,t.jsx)("div",{onClick:e,className:`bg-[#CFCFCF70] hover:bg-gray-400 p-2 rounded cursor-pointer ${r}`,children:(0,t.jsx)(i,{})})],35988)},406321,e=>{"use strict";let t=(0,e.i(475254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["default",()=>t])},373765,e=>{"use strict";let t=(0,e.i(475254).default)("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["default",()=>t])},990633,e=>{"use strict";let t=(0,e.i(475254).default)("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);e.s(["default",()=>t])},555231,e=>{"use strict";var t=e.i(990633);e.s(["CloudUploadIcon",()=>t.default])},100391,e=>{"use strict";var t=e.i(602904),i=e.i(954616),r=e.i(266027),a=e.i(170319),s=e.i(313430),l=e.i(494881),n=e.i(581949),o=e.i(117595),d=e.i(861745),u=e.i(271645),c=e.i(837706);e.s(["useAltChange",0,()=>{let{create:e}=(0,c.useBaseService)(t.API_ENDPOINTS.PRODUCT_ALT_CHANGE);return(0,i.useMutation)({mutationFn:t=>e(t),mutationKey:[t.API_ENDPOINTS.PRODUCT_ALT_CHANGE],onSuccess:async e=>{a.toast.success(e?.data?.message)},onError:async e=>{let t=e?.response?.data;a.toast.error(t?.message)}})},"useFileUploadService",0,()=>{let e=(0,d.useLocale)(),t=(0,u.useMemo)(()=>{let t=n.default.create({baseURL:s.env.NEXT_PUBLIC_REST_API_ENDPOINT,timeout:5e6,headers:{"Content-Type":"multipart/form-data"}});return t.interceptors.request.use(t=>{let i=o.default.get(l.AUTH_TOKEN_KEY);return t.headers={...t.headers,Authorization:`Bearer ${i||""}`,"X-localization":e},t}),t},[e]);return{uploadFile:async(e,i,r,a)=>{let s=new FormData;s.append("file",e),s.append("store_id",r),s.append("usage_type",a);try{return(await t.post(i,s,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){throw e}}}},"useMediaDelete",0,()=>{let{create:e}=(0,c.useBaseService)(t.API_ENDPOINTS.PRODUCT_MEDIA_DELETE);return(0,i.useMutation)({mutationFn:t=>e(t),mutationKey:[t.API_ENDPOINTS.PRODUCT_MEDIA_DELETE],onSuccess:async e=>{a.toast.success(e?.data?.message)},onError:async e=>{let t=e?.response?.data;a.toast.error(t?.message)}})},"useMediaLibraryQuery",0,e=>{let{findAll:i}=(0,c.useBaseService)(t.API_ENDPOINTS.PRODUCT_MEDIA_LIBRARY),{data:a,isPending:s,error:l,refetch:n,isFetching:o}=(0,r.useQuery)({queryKey:[t.API_ENDPOINTS.PRODUCT_MEDIA_LIBRARY],queryFn:()=>i(e),...e});return{mediaLibrary:a?.data??{},error:l,isPending:s,refetch:n,isFetching:o}}],100391)},893742,e=>{"use strict";var t=e.i(843476),i=e.i(546266),r=e.i(769542);e.i(614271);var a=e.i(519455),s=e.i(515288),l=e.i(793479),n=e.i(677572),o=e.i(225960),d=e.i(100391),u=e.i(107649),c=e.i(678745),c=c,f=e.i(373765),f=f,m=e.i(657688),p=e.i(618566),h=e.i(271645),g=e.i(170319),x=e.i(632814),b=e.i(948148),v=e.i(536719),y=e.i(602904);let w=["JPG","JPEG","PNG","GIF","webp"];e.s(["default",0,({onSave:e,isMultiple:j,trigger:_,buttonTitle:C="Select Photo",usageType:P,selectedImage:N})=>{let S=(0,b.useTranslations)(),[E,O]=(0,h.useState)([]),[M,I]=(0,h.useState)([]),[L,R]=(0,h.useState)(),[T,A]=(0,h.useState)(null),[D,z]=(0,h.useState)([]),[k,$]=(0,h.useState)(!1);(0,p.usePathname)().split("/")[1];let[F,U]=(0,h.useState)("Media Library"),[B,q]=(0,h.useState)(0),[G,H]=(0,h.useState)([]),[W,K]=(0,h.useState)([]),[V,X]=(0,h.useState)(!1),[Y,Q]=(0,h.useState)(!1),J=(0,v.useAppSelector)(e=>e.store.selectedStore),Z=J?.id??"";(0,h.useEffect)(()=>{k&&N&&(I([N]),R(N),H(e=>e.some(e=>e.image_id==N.image_id)?e:[N,...e]))},[k,N]);let{mediaLibrary:ee,refetch:et,isPending:ei}=(0,d.useMediaLibraryQuery)({offset:B,store_id:Z});(0,h.useEffect)(()=>{if(ee&&"images"in ee){let e=ee.images;N&&!e.find(e=>e.image_id==N.image_id)&&(e=[N,...e]),0===W.length&&(K(e),H(e))}},[ee,W.length,N]),(0,h.useEffect)(()=>{q(G.length)},[G]);let er=async()=>{Q(!0);try{let e=await et(),t=e?.data?.data?.images||[];t.length>0?H(e=>{let i=new Set(e.map(e=>e.image_id)),r=t.filter(e=>!i.has(e.image_id));return[...e,...r]}):g.toast.info("No new data available.")}catch(e){g.toast.error("Failed to load more images")}finally{Q(!1)}},{uploadFile:ea}=(0,d.useFileUploadService)(),es=async e=>{var t;let i=new FileReader;i.onload=t=>{let i=document.createElement("img");i.src=t.target?.result,i.onload=()=>{let{width:t,height:r}=i;A(e)}},i.readAsDataURL(e);let r={id:`${Date.now()}-${e.name}`,file:e,name:e.name,size:(t=e.size)<1024?`${t} B`:t<1048576?`${(t/1024).toFixed(1)} KB`:`${(t/1048576).toFixed(1)} MB`,url:URL.createObjectURL(e),isLoading:!0,isUploaded:!1};if(O(e=>[...e,r]),z(e=>[...e,r]),e)try{let t=await ea(e,y.API_ENDPOINTS.PRODUCT_MEDIA_ADD,Z,P);z(e=>e.map(e=>e.id===r.id?{...e,isLoading:!1,isUploaded:!0}:e)),O(e=>e.map(e=>e.id===r.id?{...e,isLoading:!1,isUploaded:!0}:e)),g.toast.success(t?.message),await et(),q(0)}catch(e){z(e=>e.map(e=>e.id===r.id?{...e,isLoading:!1}:e)),O(e=>e.map(e=>e.id===r.id?{...e,isLoading:!1}:e)),g.toast.error("File upload failed")}},{mutate:el}=(0,d.useMediaDelete)(),en=e=>{el({image_id:e},{onSuccess:()=>{H(t=>t.filter(t=>t.image_id!==e)),I(t=>t.filter(t=>t.image_id!==e)),L?.image_id===e&&R(void 0),et()},onError:()=>{g.toast.error("Failed to delete image")}})},{mutate:eo}=(0,d.useAltChange)();return(0,t.jsx)(x.AppModal,{trigger:_,disable:!L,actionButtonLabel:C,customClass:"inset-x-0p md:inset-x-5p xl:inset-x-17p top-[100px] bg-white",onSave:()=>{e(M),$(!1)},isOpen:k,onOpenChange:$,cancelButtonLabel:S("button.close"),hideX:!0,children:(0,t.jsx)("div",{children:(0,t.jsxs)(n.Tabs,{value:F,onValueChange:e=>{U(e),"Media Library"===e&&(et(),er())},children:[(0,t.jsxs)(n.TabsList,{className:"text-left bg-white",children:[(0,t.jsx)(n.TabsTrigger,{value:"Upload Files",children:(0,t.jsx)("div",{className:"text-start",children:(0,t.jsx)("h1",{children:S("label.upload_image")})})}),(0,t.jsx)(n.TabsTrigger,{value:"Media Library",children:(0,t.jsx)("div",{className:"text-start",children:(0,t.jsx)("h1",{children:S("label.media_library")})})})]}),(0,t.jsx)(n.TabsContent,{value:"Upload Files",className:"h-[500px] overflow-y-auto lg:overflow-hidden custom-scrollbar",children:(0,t.jsx)("div",{className:"px-2",children:(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"relative overflow-y-auto p-4 border-2 border-dashed border-slate-300 w-full rounded custom-scrollbar h-[480px]",children:[(0,t.jsx)("div",{className:"absolute flex flex-wrap w-auto gap-4",children:Array.isArray(D)&&D.length>0?D.map(e=>(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"relative h-32 w-32 rounded group",children:[(0,t.jsx)(m.default,{loader:o.default,src:e.url,alt:e.file.name,fill:!0,sizes:"128px",className:"h-full w-full rounded"}),e.isLoading?(0,t.jsx)("div",{className:"absolute top-1 right-1 bg-white rounded-full p-1 shadow",children:(0,t.jsx)("div",{className:"h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})}):e.isUploaded?(0,t.jsx)("div",{className:"absolute top-1 right-1 bg-white rounded-full p-1 shadow",children:(0,t.jsx)(u.CheckCircleIcon,{className:"h-4 w-4 text-blue-500 animate-pulse"})}):null,(0,t.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex flex-col justify-end p-2",children:[(0,t.jsx)("div",{className:"text-white text-xs truncate",title:e.file.name,children:e.file.name}),(0,t.jsxs)("div",{className:"text-white text-xs",children:[(e.file.size/1024).toFixed(2)," KB"]})]})]})},e.id)):""}),(0,t.jsx)(i.default,{handleFileChange:es,fileTypes:w,file:D})]})})})}),(0,t.jsx)(n.TabsContent,{value:"Media Library",className:"h-[500px] overflow-y-auto lg:overflow-hidden custom-scrollbar",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 px-2",children:[(0,t.jsx)("div",{className:"w-full md:w-[81%] flex flex-col rounded-lg  h-[500px]",children:(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 border border-slate-300 rounded custom-scrollbar ",children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-4 ",children:Array.isArray(G)&&G.length>0?G.map((e,i)=>(0,t.jsx)(s.Card,{onClick:()=>{I(t=>{let i=t.find(t=>t.image_id===e.image_id)?t.filter(t=>t.image_id!==e.image_id):j?[...t,e]:[e];return R(i[i.length-1]),i})},className:`${M.some(t=>t.image_id==e.image_id)?"border border-blue-500 shadow-lg text-white":"text-gray-500 dark:text-white"}rounded cursor-pointer`,children:(0,t.jsxs)("div",{className:`${M.some(t=>t.image_id==e.image_id)?"border-2 border-blue-500 text-white rounded-md":"text-gray-500 dark:text-white"} cursor-pointer relative h-32 w-32 rounded-md group`,children:[(0,t.jsx)(m.default,{loader:o.default,src:e.img_url,alt:e.name,fill:!0,sizes:"128px",className:"h-full w-full rounded"}),(0,t.jsx)("div",{className:`${M.some(t=>t.image_id==e.image_id)?"absolute z-10 flex top-0 left-0 bg-blue-500 text-white":"hidden"} `,children:(0,t.jsx)("button",{className:"rounded-full p-1",onClick:t=>{t.stopPropagation(),en(e.image_id)},children:(0,t.jsx)(c.default,{className:"h-4 w-4 "})})}),(0,t.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex flex-col justify-end p-2",children:[(0,t.jsx)("div",{className:"absolute top-1 right-1 rounded-full  shadow bg-white hover:bg-red-500 text-red-500 hover:text-white",children:(0,t.jsx)("button",{className:"rounded-full  p-1",onClick:t=>{t.stopPropagation(),en(e.image_id)},children:(0,t.jsx)(f.default,{className:"h-4 w-4 "})})}),(0,t.jsx)("div",{className:"text-white text-xs truncate",title:e?.file?.name,children:e?.file?.name}),(0,t.jsx)("div",{className:"text-white text-xs",children:e?.file?.size?`${(e?.file?.size/1024).toFixed(2)} KB`:""})]})]})},e.image_id||e.id||`${e.name}-${i}`)):""}),G.length>0&&(0,t.jsx)("div",{className:"text-center mt-4",children:(0,t.jsx)(a.Button,{onClick:er,disabled:Y,variant:"outline",className:"app-button",children:Y?"Loading...":"Load More"})}),ei&&(0,t.jsx)("div",{children:(0,t.jsx)(r.default,{customClass:"mt-32",size:"large"})}),0===G.length&&!ei&&(0,t.jsx)("div",{className:"flex text-center items-center justify-center h-full",children:(0,t.jsx)("h2",{className:" text-center text-sm font-semibold text-gray-700",children:"No Photo Uploaded Yet."})})]})}),(0,t.jsxs)("div",{className:"w-full md:w-[18%] border border-slate-300 rounded h-[500px]",children:[L&&(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsx)("h2",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Preview Selected Images:"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"relative w-full h-32 rounded shadow-xl border",children:(0,t.jsx)(m.default,{loader:o.default,src:L.img_url,alt:L.name,fill:!0,className:"w-full h-full"})},L.id),(0,t.jsxs)("div",{className:"mt-4 text-sm overflow-x-visible",children:[(0,t.jsx)("p",{className:"my-2 truncate overflow-hidden whitespace-nowrap max-w-[150px]",children:L.name}),(0,t.jsx)("p",{className:"my-2",children:L.size}),(0,t.jsx)("p",{className:"my-2",children:L.upload_at}),(0,t.jsx)("p",{className:"my-2",children:L.dimensions}),(0,t.jsx)(l.Input,{type:"text",id:"alt",className:"app-input",placeholder:"Enter value",value:L.alt??"",onChange:e=>{L&&R({...L,alt:e.target.value})}}),(0,t.jsxs)(a.Button,{onClick:()=>{var e,t;return e=L.image_id,t=L.alt,void(X(!0),eo({image_id:e,alt:t},{onSuccess:()=>{et()},onError:()=>{g.toast.error("Failed to update ALT text")},onSettled:()=>{X(!1)}}))},variant:"outline",className:"mt-2 app-button",disabled:V,children:[V?"Loading...":"Update"," "]})]})]})]}),!L&&(0,t.jsx)("div",{className:"p-2 flex text-center items-center justify-center h-full",children:(0,t.jsx)("h2",{className:"text-center text-sm font-semibold text-gray-700 mb-2",children:"No Photo Selected Yet."})})]})]})})]})})})}],893742)},720126,e=>{"use strict";var t=e.i(843476);e.s(["default",0,()=>(0,t.jsx)("div",{children:(0,t.jsxs)("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("g",{clipPath:"url(#clip0_5364_62366)",children:(0,t.jsx)("path",{d:"M20.35 10.04C19.67 6.59 16.64 4 13 4C10.11 4 7.6 5.64 6.35 8.04C3.34 8.36 1 10.91 1 14C1 17.31 3.69 20 7 20H20C22.76 20 25 17.76 25 15C25 12.36 22.95 10.22 20.35 10.04ZM20 18H7C4.79 18 3 16.21 3 14C3 11.95 4.53 10.24 6.56 10.03L7.63 9.92L8.13 8.97C9.08 7.14 10.94 6 13 6C15.62 6 17.88 7.86 18.39 10.43L18.69 11.93L20.22 12.04C21.78 12.14 23 13.45 23 15C23 16.65 21.65 18 20 18ZM9 13H11.55V16H14.45V13H17L13 9L9 13Z",fill:"#1849D6"})}),(0,t.jsx)("defs",{children:(0,t.jsx)("clipPath",{id:"clip0_5364_62366",children:(0,t.jsx)("rect",{width:"23.84",height:"24",fill:"white",transform:"translate(0.580078)"})})})]})})])}]);